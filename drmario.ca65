; compilation instructions:
; ca65 -t c64 drmario.ca65
; ld65 --lib c64.lib -C rom32k.cfg --start-addr $8000 -o drmario.rom drmario.o

.include "macros.ca65"

; da65 V2.18 - N/A
; Created:    2020-12-19 10:34:39
; Input file: drmario.prg
; Page:       1
; da65 drmario.prg --comments 3 > drmario.ca65

        .setcpu "6502"

; ----------------------------------------------------------------------------
L0101           := $0101
L0120           := $0120
L01B0           := $01B0
L0202           := $0202
L0238           := $0238
L0246           := $0246
L026A           := $026A
L027E           := $027E
L02B0           := $02B0
L02B5           := $02B5
L02BB           := $02BB
L0401           := $0401
L0420           := $0420
L068D           := $068D
L07B0           := $07B0
L0901           := $0901
L0D00           := $0D00
L1000           := $1000
L1043           := $1043
L121F           := $121F
L161C           := $161C
L1730           := $1730
L181B           := $181B
L191C           := $191C
L1E00           := $1E00
L1E16           := $1E16
L2000           := $2000
L2001           := $2001
L201C           := $201C
L2020           := $2020
L2040           := $2040
L2060           := $2060
L2080           := $2080
L20A0           := $20A0
L20B1           := $20B1
L20BA           := $20BA
L20C0           := $20C0
L20E0           := $20E0
L224A           := $224A
L224B           := $224B
L224C           := $224C
L225A           := $225A
L225C           := $225C
L22B0           := $22B0
L2638           := $2638
L282A           := $282A
L2AB0           := $2AB0
L2CB2           := $2CB2
L2D10           := $2D10
L2E08           := $2E08
L2F00           := $2F00
L2F10           := $2F10
L3008           := $3008
L32E3           := $32E3
L3640           := $3640
L3AB8           := $3AB8
L3C42           := $3C42
L3C46           := $3C46
L3E00           := $3E00
L4046           := $4046
L41B0           := $41B0
L4420           := $4420
L4648           := $4648
L46B2           := $46B2
L4AB2           := $4AB2
L4C02           := $4C02
L4C46           := $4C46
L4C4C           := $4C4C
L4C50           := $4C50
L4C54           := $4C54
L4D20           := $4D20
L4E4C           := $4E4C
L4E4D           := $4E4D
L5050           := $5050
L50A8           := $50A8
L5242           := $5242
L5246           := $5246
L524C           := $524C
L5450           := $5450
L5500           := $5500
L5A54           := $5A54
L5D20           := $5D20
L5E02           := $5E02
L5E4C           := $5E4C
L6001           := $6001
L600A           := $600A
L6020           := $6020
L60B1           := $60B1
L63FC           := $63FC
L646A           := $646A
L65F0           := $65F0
L68B3           := $68B3
L68B7           := $68B7
L6C21           := $6C21
L6DBB           := $6DBB
L6E6D           := $6E6D
L706E           := $706E
L74F1           := $74F1
L7680           := $7680
L7D9F           := $7D9F

.org    $8000
.export LOADADDR = *

; ----------------------------------------------------------------------------
L8000:  ldx     #$00                            ; 8000 A2 00
        jmp     L8036                           ; 8002 4C 36 80

; ----------------------------------------------------------------------------
; NMI vector
L8005:  pha                                     ; 8005 48
        txa                                     ; 8006 8A
        pha                                     ; 8007 48
        tya                                     ; 8008 98
        pha                                     ; 8009 48
        jsr     RB788                           ; 800A 20 88 B7
        jsr     R8393                           ; 800D 20 93 83
        jsr     R82F7                           ; 8010 20 F7 82
        jsr     R8661                           ; 8013 20 61 86
        lda     $43                             ; 8016 A5 43
        clc                                     ; 8018 18
        adc     #$01                            ; 8019 69 01
        sta     $43                             ; 801B 85 43
        lda     #$00                            ; 801D A9 00
        sta     $2005                           ; 801F 8D 05 20
        sta     $2005                           ; 8022 8D 05 20
        lda     #$01                            ; 8025 A9 01
        sta     $33                             ; 8027 85 33
        jsr     R9134                           ; 8029 20 34 91
        lda     #$00                            ; 802C A9 00
        sta     $42                             ; 802E 85 42
        pla                                     ; 8030 68
        tay                                     ; 8031 A8
        pla                                     ; 8032 68
        tax                                     ; 8033 AA
        pla                                     ; 8034 68
; IRQ vector
L8035: rti                                     ; 8035 40

; ----------------------------------------------------------------------------
L8036:  lda     $0316                           ; 8036 AD 16 03
        sta     $0732                           ; 8039 8D 32 07
        lda     $0396                           ; 803C AD 96 03
        sta     $0733                           ; 803F 8D 33 07
        lda     $030B                           ; 8042 AD 0B 03
        sta     $0734                           ; 8045 8D 34 07
        lda     $038B                           ; 8048 AD 8B 03
        sta     $0735                           ; 804B 8D 35 07
        ; clear pages $01 to $06
        ldy     #$06                            ; 804E A0 06
        sty     $01                             ; 8050 84 01
        ldy     #$00                            ; 8052 A0 00
        sty     $00                             ; 8054 84 00
        lda     #$00                            ; 8056 A9 00
        loop
            loop
                sta ($00),y                     ; 8058 91 00
                dey                             ; 805A 88
            while_ne                            ; 805B D0 FB
            dec $01                             ; 805D C6 01
        while_pl                                ; 805F 10 F7

        lda     $0732                           ; 8061 AD 32 07
        sta     $0316                           ; 8064 8D 16 03
        lda     $0733                           ; 8067 AD 33 07
        sta     $0396                           ; 806A 8D 96 03
        lda     $0734                           ; 806D AD 34 07
        sta     $030B                           ; 8070 8D 0B 03
        lda     $0735                           ; 8073 AD 35 07
        sta     $038B                           ; 8076 8D 8B 03
        ldx     #$0A                            ; 8079 A2 0A
L807B:  lda     $070F,x                         ; 807B BD 0F 07
        sta     $47                             ; 807E 85 47
        lda     L9FEE-1,x                       ; 8080 BD ED 9F
        cmp     $47                             ; 8083 C5 47
        bne     L808D                           ; 8085 D0 06
        dex                                     ; 8087 CA
        bne     L807B                           ; 8088 D0 F1
        jmp     L80DC                           ; 808A 4C DC 80

L808D:  ldx     #$00                            ; 808D A2 00
        lda     #$00                            ; 808F A9 00
        sta     $0700                           ; 8091 8D 00 07
        sta     $0701                           ; 8094 8D 01 07
        sta     $0702                           ; 8097 8D 02 07
        sta     $0704                           ; 809A 8D 04 07
        sta     $0705                           ; 809D 8D 05 07
        lda     #$01                            ; 80A0 A9 01
        sta     $0703                           ; 80A2 8D 03 07
        lda     #$00                            ; 80A5 A9 00
        sta     $0723                           ; 80A7 8D 23 07
        sta     $0724                           ; 80AA 8D 24 07
        sta     $0728                           ; 80AD 8D 28 07
        sta     $0316                           ; 80B0 8D 16 03
        sta     $0396                           ; 80B3 8D 96 03
        sta     $0731                           ; 80B6 8D 31 07
        lda     #$01                            ; 80B9 A9 01
        sta     $0720                           ; 80BB 8D 20 07
        sta     $0727                           ; 80BE 8D 27 07
        sta     $030B                           ; 80C1 8D 0B 03
        sta     $038B                           ; 80C4 8D 8B 03
        lda     #$02                            ; 80C7 A9 02
        sta     $0722                           ; 80C9 8D 22 07
        lda     #$03                            ; 80CC A9 03
        sta     $0725                           ; 80CE 8D 25 07
        ldx     #$0A                            ; 80D1 A2 0A
        loop
            lda L9FEE-1,x                       ; 80D3 BD ED 9F
            sta $070F,x                         ; 80D6 9D 0F 07
            dex                                 ; 80D9 CA
        while_ne                                ; 80DA D0 F7
L80DC:  ldx     #$89                            ; 80DC A2 89
        stx     $17                             ; 80DE 86 17
        dex                                     ; 80E0 CA
        stx     $18                             ; 80E1 86 18
        ldy     #$00                            ; 80E3 A0 00
        sty     $FD                             ; 80E5 84 FD
        sty     $2005                           ; 80E7 8C 05 20
        ldy     #$00                            ; 80EA A0 00
        sty     $FC                             ; 80EC 84 FC
        sty     $2005                           ; 80EE 8C 05 20
        lda     #$90                            ; 80F1 A9 90
        sta     $FF                             ; 80F3 85 FF
        sta     L2000                           ; 80F5 8D 00 20
        lda     #$06                            ; 80F8 A9 06
        sta     L2001                           ; 80FA 8D 01 20
        jsr     RFFD6                           ; 80FD 20 D6 FF
        jsr     RFFD3                           ; 8100 20 D3 FF
        lda     #$C0                            ; 8103 A9 C0
        sta     $0100                           ; 8105 8D 00 01
        lda     #$80                            ; 8108 A9 80
        sta     L0101                           ; 810A 8D 01 01
        lda     #$35                            ; 810D A9 35
        sta     $0103                           ; 810F 8D 03 01
        lda     #$AC                            ; 8112 A9 AC
        sta     $0104                           ; 8114 8D 04 01
        jsr     RB67C                           ; 8117 20 7C B6
        jsr     RB6A2                           ; 811A 20 A2 B6
        lda     #$20                            ; 811D A9 20
        jsr     RB6AC                           ; 811F 20 AC B6
        lda     #$24                            ; 8122 A9 24
        jsr     RB6AC                           ; 8124 20 AC B6
        lda     #$28                            ; 8127 A9 28
        jsr     RB6AC                           ; 8129 20 AC B6
        lda     #$2C                            ; 812C A9 2C
        jsr     RB6AC                           ; 812E 20 AC B6
        lda     #$00                            ; 8131 A9 00
        sta     $5D                             ; 8133 85 5D
        jsr     R90C9                           ; 8135 20 C9 90
        jsr     RB695                           ; 8138 20 95 B6
        jsr     RB654                           ; 813B 20 54 B6
        jsr     RB689                           ; 813E 20 89 B6
        jsr     RB654                           ; 8141 20 54 B6
        lda     #$0E                            ; 8144 A9 0E
        sta     $34                             ; 8146 85 34
        loop
            jsr R8157                           ; 8148 20 57 81
            jsr R978E                           ; 814B 20 8E 97
            jsr RB654                           ; 814E 20 54 B6
            jsr R8712                           ; 8151 20 12 87
        forever                                 ; 8154 4C 48 81

; ----------------------------------------------------------------------------
; Top-level state machine.
; Current state is in $46.
; State ranges from 0 to 8.
R8157:
.scope
        lda     $46                             ; 8157 A5 46
        jsr     RB8AC                           ; 8159 20 AC B8
        .word   L981C
        .word   L9953
        .word   L816E
        .word   L8206
        .word   L9B73
        .word   L9532
        .word   L8FEF
        .word   L958A
        .word   L9C91

; ----------------------------------------------------------------------------
; jump table vector 2

L816E:  jsr     RB67C                           ; 816E 20 7C B6
        jsr     RB6A2                           ; 8171 20 A2 B6
        lda     #$02                            ; 8174 A9 02
        jsr     RB8E0                           ; 8176 20 E0 B8
        lda     #$03                            ; 8179 A9 03
        jsr     RB8F4                           ; 817B 20 F4 B8
        lda     $0727                           ; 817E AD 27 07
        cmp     #$01                            ; 8181 C9 01
        if_eq                                   ; 8183 D0 06
            jsr R82D1                           ; 8185 20 D1 82
        else                                    ; 8188 4C D8 81
            jsr RB6C2                           ; 818B 20 C2 B6
            .word LC5F9
            lda #$20                            ; 8190 A9 20
            sta $2006                           ; 8192 8D 06 20
            lda #$EC                            ; 8195 A9 EC
            sta $2006                           ; 8197 8D 06 20
            lda $030B                           ; 819A AD 0B 03
            asl a                               ; 819D 0A
            asl a                               ; 819E 0A
            tax                                 ; 819F AA
            lda LA23D,x                         ; 81A0 BD 3D A2
            sta $2007                           ; 81A3 8D 07 20
            lda LA23D+1,x                       ; 81A6 BD 3E A2
            sta $2007                           ; 81A9 8D 07 20
            lda LA23D+2,x                       ; 81AC BD 3F A2
            sta $2007                           ; 81AF 8D 07 20
            lda #$20                            ; 81B2 A9 20
            sta $2006                           ; 81B4 8D 06 20
            lda #$F1                            ; 81B7 A9 F1
            sta $2006                           ; 81B9 8D 06 20
            lda $038B                           ; 81BC AD 8B 03
            asl a                               ; 81BF 0A
            asl a                               ; 81C0 0A
            tax                                 ; 81C1 AA
            lda LA23D,x                         ; 81C2 BD 3D A2
            sta $2007                           ; 81C5 8D 07 20
            lda LA23D+1,x                       ; 81C8 BD 3E A2
            sta $2007                           ; 81CB 8D 07 20
            lda LA23D+2,x                       ; 81CE BD 3F A2
            sta $2007                           ; 81D1 8D 07 20
            lda #$83                            ; 81D4 A9 83
            sta $66                             ; 81D6 85 66
        end_if
        lda     #$FF                            ; 81D8 A9 FF
        sta     $5D                             ; 81DA 85 5D
        jsr     RB695                           ; 81DC 20 95 B6
        jsr     RB689                           ; 81DF 20 89 B6
        lda     #$0F                            ; 81E2 A9 0F
        sta     $80                             ; 81E4 85 80
        jsr     R90C9                           ; 81E6 20 C9 90
        lda     #$00                            ; 81E9 A9 00
        sta     $0729                           ; 81EB 8D 29 07
        sta     $072A                           ; 81EE 8D 2A 07
        sta     $072B                           ; 81F1 8D 2B 07
        sta     $072C                           ; 81F4 8D 2C 07
        sta     $072D                           ; 81F7 8D 2D 07
        sta     $072E                           ; 81FA 8D 2E 07
        sta     $031E                           ; 81FD 8D 1E 03
        sta     $039E
        ; enter top-level state 3
        inc     $46                             ; 8203 E6 46
        rts                                     ; 8205 60

; ----------------------------------------------------------------------------
; jump table vector 3
L8206:  lda     #$00                            ; 8206 A9 00
        sta     $92                             ; 8208 85 92
        sta     $57                             ; 820A 85 57
        sta     $8F                             ; 820C 85 8F
        sta     $A1                             ; 820E 85 A1
        sta     $98                             ; 8210 85 98
        sta     $97                             ; 8212 85 97
        sta     $87                             ; 8214 85 87
        sta     $88                             ; 8216 85 88
        sta     $89                             ; 8218 85 89
        sta     $80                             ; 821A 85 80
        sta     $90                             ; 821C 85 90
        sta     $91                             ; 821E 85 91
        sta     $7D                             ; 8220 85 7D
        sta     $A7                             ; 8222 85 A7
        sta     $0728                           ; 8224 8D 28 07
        sta     $75                             ; 8227 85 75
        sta     $76                             ; 8229 85 76
        sta     $77                             ; 822B 85 77
        sta     $78                             ; 822D 85 78
        sta     $79                             ; 822F 85 79
        sta     $7A                             ; 8231 85 7A
        sta     $72                             ; 8233 85 72
        sta     $73                             ; 8235 85 73
        sta     $74                             ; 8237 85 74
        sta     $7E                             ; 8239 85 7E
        sta     $61                             ; 823B 85 61
        sta     $55                             ; 823D 85 55
        sta     $3E                             ; 823F 85 3E
        lda     #$06                            ; 8241 A9 06
        sta     $97                             ; 8243 85 97
        lda     #$04                            ; 8245 A9 04
        sta     $58                             ; 8247 85 58
        lda     #$FF                            ; 8249 A9 FF
        sta     $54                             ; 824B 85 54
        lda     $0728                           ; 824D AD 28 07
        sta     $8A                             ; 8250 85 8A
        sta     $A0                             ; 8252 85 A0
        jsr     R82A0                           ; 8254 20 A0 82
        jsr     R8E8D                           ; 8257 20 8D 8E
        jsr     R8E8D                           ; 825A 20 8D 8E
        lda     #$01                            ; 825D A9 01
        sta     $90                             ; 825F 85 90
        jsr     R8FA5                           ; 8261 20 A5 8F
        jsr     R90AF                           ; 8264 20 AF 90
        jsr     R90BC                           ; 8267 20 BC 90
        jsr     R8FCA                           ; 826A 20 CA 8F
        lda     $0316                           ; 826D AD 16 03
        cmp     #$15                            ; 8270 C9 15
        if_pl                                   ; 8272 30 08
            sec                                 ; 8274 38
            sbc #$14                            ; 8275 E9 14
            sta $0728                           ; 8277 8D 28 07
            lda #$14                            ; 827A A9 14
        end_if
        clc                                     ; 827C 18
        adc     #$01                            ; 827D 69 01
        asl     a                               ; 827F 0A
        asl     a                               ; 8280 0A
        sta     $0328                           ; 8281 8D 28 03
        lda     $0396                           ; 8284 AD 96 03
        clc                                     ; 8287 18
        adc     #$01                            ; 8288 69 01
        asl     a                               ; 828A 0A
        asl     a                               ; 828B 0A
        sta     $03A8                           ; 828C 8D A8 03
        lda     #$9F                            ; 828F A9 9F
        sta     $52                             ; 8291 85 52
        ldx     $0731                           ; 8293 AE 31 07
        lda     LA264,x                         ; 8296 BD 64 A2
        sta     $06F5                           ; 8299 8D F5 06
        jsr     RB654                           ; 829C 20 54 B6
        rts                                     ; 829F 60

; ----------------------------------------------------------------------------
R82A0:
        lda     #$80                            ; 82A0 A9 80
        sta     $47                             ; 82A2 85 47
        lda     #$00                            ; 82A4 A9 00
        sta     $48                             ; 82A6 85 48
        loop
            ldx #$17                            ; 82A8 A2 17
            ldy #$02                            ; 82AA A0 02
            jsr RB771                           ; 82AC 20 71 B7
            ldx $47                             ; 82AF A6 47
            dex                                 ; 82B1 CA
            lda $17                             ; 82B2 A5 17
            and #$0F                            ; 82B4 29 0F
            clc                                 ; 82B6 18
            adc $48                             ; 82B7 65 48
            loop
                sta $48                         ; 82B9 85 48
                cmp #$09                        ; 82BB C9 09
                bcc break                       ; 82BD 90 06
                sec                             ; 82BF 38
                sbc #$09                        ; 82C0 E9 09
            forever                             ; 82C2 4C B9 82
            sta $0780,x                         ; 82C5 9D 80 07
            dec $47                             ; 82C8 C6 47
        while_ne                                ; 82CA D0 DC
        ; enter top-level state 8
        lda #$08                                ; 82CC A9 08
        sta $46                                 ; 82CE 85 46
        rts                                     ; 82D0 60
.endscope

; ----------------------------------------------------------------------------
R82D1:
.scope
        jsr     RB6C2                           ; 82D1 20 C2 B6
        .word   LC198                           ; 82D4 98 C1
        lda     #$80                            ; 82D6 A9 80
        sta     $66                             ; 82D8 85 66
        lda     $030B                           ; 82DA AD 0B 03
        asl     a                               ; 82DD 0A
        asl     a                               ; 82DE 0A
        tax                                     ; 82DF AA
        ldy     #$03                            ; 82E0 A0 03
        lda     #$22                            ; 82E2 A9 22
        sta     $2006                           ; 82E4 8D 06 20
        lda     #$DA                            ; 82E7 A9 DA
        sta     $2006                           ; 82E9 8D 06 20
        loop
            lda LA23D,x                         ; 82EC BD 3D A2
            sta $2007                           ; 82EF 8D 07 20
            inx                                 ; 82F2 E8
            dey                                 ; 82F3 88
        while_ne                                ; 82F4 D0 F6
        rts                                     ; 82F6 60
.endscope

; ----------------------------------------------------------------------------
R82F7:
.scope
        lda     #$04                            ; 82F7 A9 04
        sta     $58                             ; 82F9 85 58
        lda     $0300                           ; 82FB AD 00 03
        sta     $80                             ; 82FE 85 80
        jsr     R8321                           ; 8300 20 21 83
        lda     $80                             ; 8303 A5 80
        sta     $0300                           ; 8305 8D 00 03
        lda     $0727                           ; 8308 AD 27 07
        cmp     #$02                            ; 830B C9 02
        if_eq                                   ; 830D D0 11
            lda #$05                            ; 830F A9 05
            sta $58                             ; 8311 85 58
            lda $0380                           ; 8313 AD 80 03
            sta $80                             ; 8316 85 80
            jsr R8321                           ; 8318 20 21 83
            lda $80                             ; 831B A5 80
            sta $0380                           ; 831D 8D 80 03
        end_if
        rts                                     ; 8320 60
.endscope

; ----------------------------------------------------------------------------
R8321:
.scope
        lda $80                                 ; 8321 A5 80
        cmp #$FF                                ; 8323 C9 FF
        if_ne                                   ; 8325 F0 6B
            lda $0727                           ; 8327 AD 27 07
            cmp #$01                            ; 832A C9 01
            if_eq                               ; 832C D0 13
                lda $80                         ; 832E A5 80
                asl a                           ; 8330 0A
                tay                             ; 8331 A8
                lda LA717,y                     ; 8332 B9 17 A7
                sta $2006                       ; 8335 8D 06 20
                lda LA717+1,y                   ; 8338 B9 18 A7
                sta $2006                       ; 833B 8D 06 20
            else                                ; 833E 4C 6A 83
                lda $58                         ; 8341 A5 58
                cmp #$04                        ; 8343 C9 04
                if_eq                           ; 8345 D0 13
                    lda $80                     ; 8347 A5 80
                    asl a                       ; 8349 0A
                    tay                         ; 834A A8
                    lda LA737,y                 ; 834B B9 37 A7
                    sta $2006                   ; 834E 8D 06 20
                    lda LA737+1,y               ; 8351 B9 38 A7
                    sta $2006                   ; 8354 8D 06 20
                else                            ; 8357 4C 6A 83
                    lda $80                     ; 835A A5 80
                    asl a                       ; 835C 0A
                    tay                         ; 835D A8
                    lda LA757,y                 ; 835E B9 57 A7
                    sta $2006                   ; 8361 8D 06 20
                    lda LA757+1,y               ; 8364 B9 58 A7
                    sta $2006                   ; 8367 8D 06 20
                end_if
            end_if
            lda #$00                            ; 836A A9 00
            sta $57                             ; 836C 85 57
            lda $80                             ; 836E A5 80
            asl a                               ; 8370 0A
            asl a                               ; 8371 0A
            asl a                               ; 8372 0A
            tay                                 ; 8373 A8
            ldx #$08                            ; 8374 A2 08
            loop
                lda ($57),y                     ; 8376 B1 57
                and #$F0                        ; 8378 29 F0
                cmp #$B0                        ; 837A C9 B0
                if_eq                           ; 837C D0 09
                    lda ($57),y                 ; 837E B1 57
                    and #$0F                    ; 8380 29 0F
                    ora #$F0                    ; 8382 09 F0
                else                            ; 8384 4C 89 83
                    lda ($57),y                 ; 8387 B1 57
                end_if
                sta $2007                       ; 8389 8D 07 20
                iny                             ; 838C C8
                dex                             ; 838D CA
            while_ne                            ; 838E D0 E6
            dec $80                             ; 8390 C6 80
        end_if
        rts                                     ; 8392 60
.endscope

; ----------------------------------------------------------------------------
R8393:
.scope
        lda $66                                 ; 8393 A5 66
        if_ne                                   ; 8395 F0 03
            jmp L857A                           ; 8397 4C 7A 85
        end_if
        lda $68                                 ; 839A A5 68
        if_ne                                   ; 839C F0 03
            jmp R8508                           ; 839E 4C 08 85
        end_if
        lda $52                                 ; 83A1 A5 52
        if_eq                                   ; 83A3 D0 03
            jmp L8507                           ; 83A5 4C 07 85
        end_if
        lda $0727                               ; 83A8 AD 27 07
        cmp #$01                                ; 83AB C9 01
        if_ne                                   ; 83AD F0 03
        jmp L846E                               ; 83AF 4C 6E 84
        end_if
        lda     $52                             ; 83B2 A5 52
        and     #$04                            ; 83B4 29 04
        if_ne                                   ; 83B6 F0 34
            lda #$21                            ; 83B8 A9 21
            sta $2006                           ; 83BA 8D 06 20
            lda #$62                            ; 83BD A9 62
            sta $2006                           ; 83BF 8D 06 20
            lda $072E                           ; 83C2 AD 2E 07
            sta $2007                           ; 83C5 8D 07 20
            lda $072D                           ; 83C8 AD 2D 07
            sta $2007                           ; 83CB 8D 07 20
            lda $072C                           ; 83CE AD 2C 07
            sta $2007                           ; 83D1 8D 07 20
            lda $072B                           ; 83D4 AD 2B 07
            sta $2007                           ; 83D7 8D 07 20
            lda $072A                           ; 83DA AD 2A 07
            sta $2007                           ; 83DD 8D 07 20
            lda $0729                           ; 83E0 AD 29 07
            sta $2007                           ; 83E3 8D 07 20
            lda $52                             ; 83E6 A5 52
            and #$FB                            ; 83E8 29 FB
            sta $52                             ; 83EA 85 52
        end_if
        lda     $52                             ; 83EC A5 52
        and     #$08                            ; 83EE 29 08
        beq     L8426                           ; 83F0 F0 34
        lda     #$21                            ; 83F2 A9 21
        sta     $2006                           ; 83F4 8D 06 20
        lda     #$02                            ; 83F7 A9 02
        sta     $2006                           ; 83F9 8D 06 20
        lda     $0705                           ; 83FC AD 05 07
        sta     $2007                           ; 83FF 8D 07 20
        lda     $0704                           ; 8402 AD 04 07
        sta     $2007                           ; 8405 8D 07 20
        lda     $0703                           ; 8408 AD 03 07
        sta     $2007                           ; 840B 8D 07 20
        lda     $0702                           ; 840E AD 02 07
        sta     $2007                           ; 8411 8D 07 20
        lda     $0701                           ; 8414 AD 01 07
        sta     $2007                           ; 8417 8D 07 20
        lda     $0700                           ; 841A AD 00 07
        sta     $2007                           ; 841D 8D 07 20
        lda     $52                             ; 8420 A5 52
        and     #$F7                            ; 8422 29 F7
        sta     $52                             ; 8424 85 52
L8426:  lda     $52                             ; 8426 A5 52
        and     #$10                            ; 8428 29 10
        beq     L844F                           ; 842A F0 23
        lda     #$23                            ; 842C A9 23
        sta     $2006                           ; 842E 8D 06 20
        lda     #$3B                            ; 8431 A9 3B
        sta     $2006                           ; 8433 8D 06 20
        lda     $0324                           ; 8436 AD 24 03
        and     #$F0                            ; 8439 29 F0
        lsr     a                               ; 843B 4A
        lsr     a                               ; 843C 4A
        lsr     a                               ; 843D 4A
        lsr     a                               ; 843E 4A
        sta     $2007                           ; 843F 8D 07 20
        lda     $A4                             ; 8442 A5 A4
        and     #$0F                            ; 8444 29 0F
        sta     $2007                           ; 8446 8D 07 20
        lda     $52                             ; 8449 A5 52
        and     #$EF                            ; 844B 29 EF
        sta     $52                             ; 844D 85 52
L844F:  lda     $52                             ; 844F A5 52
        and     #$02                            ; 8451 29 02
        beq     L846E                           ; 8453 F0 19
        lda     #$22                            ; 8455 A9 22
        sta     $2006                           ; 8457 8D 06 20
        lda     #$7B                            ; 845A A9 7B
        sta     $2006                           ; 845C 8D 06 20
        ldx     $0316                           ; 845F AE 16 03
        lda     LA777,x                         ; 8462 BD 77 A7
        jsr     R864E                           ; 8465 20 4E 86
        lda     $52                             ; 8468 A5 52
        and     #$FD                            ; 846A 29 FD
        sta     $52                             ; 846C 85 52
L846E:  lda     $0727                           ; 846E AD 27 07
        cmp     #$02                            ; 8471 C9 02
        beq     L8478                           ; 8473 F0 03
        jmp     L8507                           ; 8475 4C 07 85

L8478:  lda     $52                             ; 8478 A5 52
        and     #$80                            ; 847A 29 80
        bne     L8481                           ; 847C D0 03
        jmp     L8507                           ; 847E 4C 07 85

L8481:  lda     $031E                           ; 8481 AD 1E 03
        if_ne                                   ; 8484 F0 3B
            asl a                               ; 8486 0A
            tax                                 ; 8487 AA
            dex                                 ; 8488 CA
            dex                                 ; 8489 CA
            lda LA396,x                         ; 848A BD 96 A3
            sta $2006                           ; 848D 8D 06 20
            sta $48                             ; 8490 85 48
            lda LA396+1,x                       ; 8492 BD 97 A3
            sta $2006                           ; 8495 8D 06 20
            sta $47                             ; 8498 85 47
            lda #$5C                            ; 849A A9 5C
            sta $2007                           ; 849C 8D 07 20
            lda #$5D                            ; 849F A9 5D
            sta $2007                           ; 84A1 8D 07 20
            lda $47                             ; 84A4 A5 47
            clc                                 ; 84A6 18
            adc #$20                            ; 84A7 69 20
            sta $47                             ; 84A9 85 47
            lda #$00                            ; 84AB A9 00
            adc $48                             ; 84AD 65 48
            sta $2006                           ; 84AF 8D 06 20
            lda $47                             ; 84B2 A5 47
            sta $2006                           ; 84B4 8D 06 20
            lda #$6C                            ; 84B7 A9 6C
            sta $2007                           ; 84B9 8D 07 20
            lda #$6D                            ; 84BC A9 6D
            sta $2007                           ; 84BE 8D 07 20
        end_if
        lda $039E                               ; 84C1 AD 9E 03
        if_ne                                   ; 84C4 F0 3B
            asl a                               ; 84C6 0A
            tax                                 ; 84C7 AA
            dex                                 ; 84C8 CA
            dex                                 ; 84C9 CA
            lda LA39C,x                         ; 84CA BD 9C A3
            sta $2006                           ; 84CD 8D 06 20
            sta $48                             ; 84D0 85 48
            lda LA39C+1,x                       ; 84D2 BD 9D A3
            sta $2006                           ; 84D5 8D 06 20
            sta $47                             ; 84D8 85 47
            lda #$5C                            ; 84DA A9 5C
            sta $2007                           ; 84DC 8D 07 20
            lda #$5D                            ; 84DF A9 5D
            sta $2007                           ; 84E1 8D 07 20
            lda $47                             ; 84E4 A5 47
            clc                                 ; 84E6 18
            adc #$20                            ; 84E7 69 20
            sta $47                             ; 84E9 85 47
            lda #$00                            ; 84EB A9 00
            adc $48                             ; 84ED 65 48
            sta $2006                           ; 84EF 8D 06 20
            lda $47                             ; 84F2 A5 47
            sta $2006                           ; 84F4 8D 06 20
            lda #$6C                            ; 84F7 A9 6C
            sta $2007                           ; 84F9 8D 07 20
            lda #$6D                            ; 84FC A9 6D
            sta $2007                           ; 84FE 8D 07 20
        end_if
        lda $52                                 ; 8501 A5 52
        and $7F                                 ; 8503 25 7F
        sta $52                                 ; 8505 85 52
L8507:  rts                                     ; 8507 60
.endscope

; ----------------------------------------------------------------------------
R8508:
.scope
        lda $68                                 ; 8508 A5 68
        and #$FC                                ; 850A 29 FC
        if_eq                                   ; 850C D0 32
            lda $68                             ; 850E A5 68
            cmp #$01                            ; 8510 C9 01
            if_eq                               ; 8512 D0 0C
                jsr RB6C2                       ; 8514 20 C2 B6
                .word LA2B8
                lda #$00
                sta $68                         ; 851B 85 68
                jmp exit                        ; 851D 4C 79 85
            end_if
            cmp #$02                            ; 8520 C9 02
            if_eq                               ; 8522 D0 0C
                jsr RB6C2                       ; 8524 20 C2 B6
                .word LA2FF                     ; 8527 FF A2
                lda #$00                        ; 8529 A9 00
                sta $68                         ; 852B 85 68
                jmp exit                        ; 852D 4C 79 85
            end_if
            cmp #$03                            ; 8530 C9 03
            bne exit                            ; 8532 D0 45
            jsr RB6C2                           ; 8534 20 C2 B6
            .word LA346                         ; 8537 46 A3
            lda #$00                            ; 8539 A9 00
            sta $68                             ; 853B 85 68
            jmp exit                            ; 853D 4C 79 85
        end_if
        lda $68                                 ; 8540 A5 68
        and #$04                                ; 8542 29 04
        beq exit                                ; 8544 F0 33
        lda $68                                 ; 8546 A5 68
        and #$FB                                ; 8548 29 FB
        sta $68                                 ; 854A 85 68
        lda #$21                                ; 854C A9 21
        sta $2006                               ; 854E 8D 06 20
        lda #$57                                ; 8551 A9 57
        sta $2006                               ; 8553 8D 06 20
        ldx $0316                               ; 8556 AE 16 03
        lda LA777,x                             ; 8559 BD 77 A7
        jsr R864E                               ; 855C 20 4E 86
        lda $0727                               ; 855F AD 27 07
        cmp #$02                                ; 8562 C9 02
        bne exit                                ; 8564 D0 13
        lda #$21                                ; 8566 A9 21
        sta $2006                               ; 8568 8D 06 20
        lda #$B7                                ; 856B A9 B7
        sta $2006                               ; 856D 8D 06 20
        ldx $0396                               ; 8570 AE 96 03
        lda LA777,x                             ; 8573 BD 77 A7
        jsr R864E                               ; 8576 20 4E 86
exit:   rts                                     ; 8579 60
.endscope

; ----------------------------------------------------------------------------
; This is a big switch statement, with cases for #$80 to #$8B.
; case $66 of
; #$80: RB6C2(LA56B) : jsr R8617
; #$81: RB6C2(LA58F)
; #$82: RB6C2(LA5B3)
; #$83: RB6C2(LA5D7) : jsr R8617
; #$84: RB6C2(LA5FB)
; #$85: RB6C2(LA61F)
; #$86: RB6C2(LA643)
; #$87: RB6C2(LA667)
; #$88: RB6C2(LA67B)
; #$89: RB6C2(LA69F)
; #$8A: RB6C2(LA6C3)
; #$8B: RB6C2(LA6E7)
; afterward set $66 to 0.
L857A:
.scope
        lda $66                                 ; 857A A5 66
        cmp #$80                                ; 857C C9 80
        if_eq                                   ; 857E D0 0B
            jsr RB6C2                           ; 8580 20 C2 B6
            .word LA56B                         ; 8583 6B A5
            jsr R8617
            jmp L8612
        end_if
        cmp #$81                                ; 858B C9 81
        if_eq                                   ; 858D D0 08
            jsr RB6C2                           ; 858F 20 C2 B6
            .word LA58F                         ; 8592 8F A5
            jmp L8612                           ; 8594 4C 12 86
        end_if
        cmp #$82                                ; 8597 C9 82
        if_eq                                   ; 8599 D0 08
            jsr RB6C2                           ; 859B 20 C2 B6
            .word LA5B3                         ; 859E B3 A5
            jmp L8612                           ; 859F 4C 12 86
        end_if
        cmp #$83                                ; 85A3 C9 83
        if_eq                                   ; 85A5 D0 0B
            jsr RB6C2                           ; 85A7 20 C2 B6
            .word LA5D7                         ; 85AA D7 A5
            jsr R8617                           ; 85AC 20 17 86
            jmp L8612                           ; 85AF 4C 12 86
        end_if
        cmp #$84                                ; 85B2 C9 84
        if_eq                                   ; 85B4 D0 08
            jsr RB6C2                           ; 85B6 20 C2 B6
            .word LA5FB                         ; 85B9 FB A5
            jmp L8612                           ; 85BB 4C 12 86
        end_if
        cmp #$85                                ; 85BE C9 85
        if_eq                                   ; 85C0 D0 08
            jsr RB6C2                           ; 85C2 20 C2 B6
            .word LA61F                         ; 85C5 1F A6
            jmp L8612                           ; 85C7 4C 12 86
        end_if
        cmp #$86                                ; 85CA C9 86
        if_eq                                   ; 85CC D0 08
            jsr RB6C2                           ; 85CE 20 C2 B6
            .word LA643                         ; 85D1 43 A6
            jmp L8612                           ; 85D3 4C 12 86
        end_if
        cmp #$87                                ; 85D6 C9 87
        if_eq                                   ; 85D8 D0 08
            jsr RB6C2                           ; 85DA 20 C2 B6
            .word LA667                         ; 85DD 67 A6
            jmp L8612                           ; 85DF 4C 12 86
        end_if
        cmp #$88                                ; 85E2 C9 88
        if_eq                                   ; 85E4 D0 08
            jsr RB6C2                           ; 85E6 20 C2 B6
            .word LA67B                         ; 85E9 7B A6
            jmp L8612                           ; 85EB 4C 12 86
        end_if
        cmp #$89                                ; 85EE C9 89
        if_eq                                   ; 85F0 D0 08
            jsr RB6C2                           ; 85F2 20 C2 B6
            .word LA69F                         ; 85F5 9F A6
            jmp L8612                           ; 85F7 4C 12 86
        end_if
        cmp #$8A                                ; 85FA C9 8A
        if_eq                                   ; 85FC D0 08
            jsr RB6C2                           ; 85FE 20 C2 B6
            .word LA6C3                         ; 8601 C3 A6
            jmp L8612                           ; 8603 4C 12 86
        end_if
        cmp #$8B                                ; 8606 C9 8B
        if_eq                                   ; 8608 D0 08
            jsr RB6C2                           ; 860A 20 C2 B6
            .word LA6E7                         ; 860D E7 A6
            jmp L8612                           ; 860F 4C 12 86
        end_if
L8612:  lda #$00                                ; 8612 A9 00
        sta $66                                 ; 8614 85 66
        rts                                     ; 8616 60
.endscope

; ----------------------------------------------------------------------------
R8617:
.scope
        lda     #$3F                            ; 8617 A9 3F
        sta     $2006                           ; 8619 8D 06 20
        lda     #$03                            ; 861C A9 03
        sta     $2006                           ; 861E 8D 06 20
        ldx     $8B                             ; 8621 A6 8B
        lda     LA22A,x                         ; 8623 BD 2A A2
        sta     $2007                           ; 8626 8D 07 20
        lda     #$3F                            ; 8629 A9 3F
        sta     $2006                           ; 862B 8D 06 20
        lda     #$07                            ; 862E A9 07
        sta     $2006                           ; 8630 8D 06 20
        ldx     $8B                             ; 8633 A6 8B
        lda     LA22A,x                         ; 8635 BD 2A A2
        sta     $2007                           ; 8638 8D 07 20
        lda     #$3F                            ; 863B A9 3F
        sta     $2006                           ; 863D 8D 06 20
        lda     #$0F                            ; 8640 A9 0F
        sta     $2006                           ; 8642 8D 06 20
        ldx     $8B                             ; 8645 A6 8B
        lda     LA22A,x                         ; 8647 BD 2A A2
        sta     $2007                           ; 864A 8D 07 20
        rts                                     ; 864D 60
.endscope

; ----------------------------------------------------------------------------
R864E:
.scope
        sta     $47                             ; 864E 85 47
        and     #$F0                            ; 8650 29 F0
        lsr     a                               ; 8652 4A
        lsr     a                               ; 8653 4A
        lsr     a                               ; 8654 4A
        lsr     a                               ; 8655 4A
        sta     $2007                           ; 8656 8D 07 20
        lda     $47                             ; 8659 A5 47
        and     #$0F                            ; 865B 29 0F
        sta     $2007                           ; 865D 8D 07 20
        rts                                     ; 8660 60
.endscope

; ----------------------------------------------------------------------------
R8661:
.scope
        lda     $7F                             ; 8661 A5 7F
        beq     L8692                           ; 8663 F0 2D
        cmp     #$80                            ; 8665 C9 80
        bcs     L86CD                           ; 8667 B0 64
        lda     $43                             ; 8669 A5 43
        and     #$07                            ; 866B 29 07
        bne     L8692                           ; 866D D0 23
        lda     $7F                             ; 866F A5 7F
        tax                                     ; 8671 AA
        lda     #$01                            ; 8672 A9 01
        sta     $06F1                           ; 8674 8D F1 06
        lda     #$21                            ; 8677 A9 21
        sta     $2006                           ; 8679 8D 06 20
        lda     LA098,x                         ; 867C BD 98 A0
        sta     $2006                           ; 867F 8D 06 20
        lda     LA0BB,x                         ; 8682 BD BB A0
        jsr     R8693                           ; 8685 20 93 86
        inc     $7F                             ; 8688 E6 7F
        cmp     #$FF                            ; 868A C9 FF
        bne     L8692                           ; 868C D0 04
        lda     #$00                            ; 868E A9 00
        sta     $7F                             ; 8690 85 7F
L8692:  rts                                     ; 8692 60
.endscope

; ----------------------------------------------------------------------------
R8693:
.scope
        bne     L86AD                           ; 8693 D0 18
        lda     $8B                             ; 8695 A5 8B
        asl     a                               ; 8697 0A
        asl     a                               ; 8698 0A
        tax                                     ; 8699 AA
        lda     LA249,x                         ; 869A BD 49 A2
        sta     $2007                           ; 869D 8D 07 20
        lda     LA249+1,x                       ; 86A0 BD 4A A2
        sta     $2007                           ; 86A3 8D 07 20
        lda     LA249+2,x                       ; 86A6 BD 4B A2
        sta     $2007                           ; 86A9 8D 07 20
        rts                                     ; 86AC 60
.endscope

; ----------------------------------------------------------------------------
L86AD:  cmp     #$01                            ; 86AD C9 01
        bne     L86C9                           ; 86AF D0 18
        ldx     $96                             ; 86B1 A6 96
        dex                                     ; 86B3 CA
        lda     LA777,x                         ; 86B4 BD 77 A7
        and     #$F0                            ; 86B7 29 F0
        lsr     a                               ; 86B9 4A
        lsr     a                               ; 86BA 4A
        lsr     a                               ; 86BB 4A
        lsr     a                               ; 86BC 4A
        sta     $2007                           ; 86BD 8D 07 20
        lda     LA777,x                         ; 86C0 BD 77 A7
        and     #$0F                            ; 86C3 29 0F
        sta     $2007                           ; 86C5 8D 07 20
        rts                                     ; 86C8 60

; ----------------------------------------------------------------------------
L86C9:  sta     $2007                           ; 86C9 8D 07 20
        rts                                     ; 86CC 60

; ----------------------------------------------------------------------------
L86CD:  lda     $7F                             ; 86CD A5 7F
        and     #$7F                            ; 86CF 29 7F
        tax                                     ; 86D1 AA
        lda     #$21                            ; 86D2 A9 21
        sta     $2006                           ; 86D4 8D 06 20
        lda     LA098,x                         ; 86D7 BD 98 A0
        sta     $2006                           ; 86DA 8D 06 20
        lda     LA0BB,x                         ; 86DD BD BB A0
        jsr     R86F1                           ; 86E0 20 F1 86
        inc     $7F                             ; 86E3 E6 7F
        lda     LA0BB,x                         ; 86E5 BD BB A0
        cmp     #$FF                            ; 86E8 C9 FF
        if_eq                                   ; 86EA D0 04
            lda #$00                            ; 86EC A9 00
            sta $7F                             ; 86EE 85 7F
        end_if
        rts                                     ; 86F0 60

; ----------------------------------------------------------------------------
R86F1:  if_eq                                   ; 86F1 D0 0C
            lda #$FF                            ; 86F3 A9 FF
            sta $2007                           ; 86F5 8D 07 20
            sta $2007                           ; 86F8 8D 07 20
            sta $2007                           ; 86FB 8D 07 20
            rts                                 ; 86FE 60
        end_if
        cmp     #$01                            ; 86FF C9 01
        if_eq                                   ; 8701 D0 09
            lda #$FF                            ; 8703 A9 FF
            sta $2007                           ; 8705 8D 07 20
            sta $2007                           ; 8708 8D 07 20
            rts                                 ; 870B 60
        end_if
        lda     #$FF                            ; 870C A9 FF
        sta     $2007                           ; 870E 8D 07 20
        rts                                     ; 8711 60

; ----------------------------------------------------------------------------
R8712:  ldx     $42                             ; 8712 A6 42
        if_ne                                   ; 8714 F0 08
            lda #$FF                            ; 8716 A9 FF
            loop
                sta $0200,x                     ; 8718 9D 00 02
                inx                             ; 871B E8
            while_ne                            ; 871C D0 FA
        end_if
        rts                                     ; 871E 60

; ----------------------------------------------------------------------------
R871F:  lda     $0727                           ; 871F AD 27 07
        sec                                     ; 8722 38
        sbc     #$01                            ; 8723 E9 01
        asl     a                               ; 8725 0A
        sta     $47                             ; 8726 85 47
        lda     $58                             ; 8728 A5 58
        sec                                     ; 872A 38
        sbc     #$04                            ; 872B E9 04
        clc                                     ; 872D 18
        adc     $47                             ; 872E 65 47
        tay                                     ; 8730 A8
        lda     LA6FB,y                         ; 8731 B9 FB A6
        sta     $47                             ; 8734 85 47
        lda     $85                             ; 8736 A5 85
        asl     a                               ; 8738 0A
        asl     a                               ; 8739 0A
        asl     a                               ; 873A 0A
        clc                                     ; 873B 18
        adc     $47                             ; 873C 65 47
        sta     $44                             ; 873E 85 44
        ldx     $86                             ; 8740 A6 86
        lda     LA484,x                         ; 8742 BD 84 A4
        sta     $45                             ; 8745 85 45
        ldy     $42                             ; 8747 A4 42
        lda     $A6                             ; 8749 A5 A6
        asl     a                               ; 874B 0A
        asl     a                               ; 874C 0A
        clc                                     ; 874D 18
        adc     $A5                             ; 874E 65 A5
        tax                                     ; 8750 AA
        lda     LA494,x                         ; 8751 BD 94 A4
        tax                                     ; 8754 AA
        lda     $81                             ; 8755 A5 81
        sta     $47                             ; 8757 85 47
        jsr     R8772                           ; 8759 20 72 87
        lda     $82                             ; 875C A5 82
        sta     $47                             ; 875E 85 47
        jsr     R8772                           ; 8760 20 72 87
        lda     $83                             ; 8763 A5 83
        sta     $47                             ; 8765 85 47
        jsr     R8772                           ; 8767 20 72 87
        lda     $84                             ; 876A A5 84
        sta     $47                             ; 876C 85 47
        jsr     R8772                           ; 876E 20 72 87
        rts                                     ; 8771 60

; ----------------------------------------------------------------------------
R8772:
.scope
        lda     LA4A0,x                         ; 8772 BD A0 A4
        cmp     #$FF                            ; 8775 C9 FF
        if_ne                                   ; 8777 F0 28
            clc                                 ; 8779 18
            adc $45                             ; 877A 65 45
            sta $0200,y                         ; 877C 99 00 02
            inx                                 ; 877F E8
            iny                                 ; 8780 C8
            lda LA4A0,x                         ; 8781 BD A0 A4
            clc                                 ; 8784 18
            adc $47                             ; 8785 65 47
            sta $0200,y                         ; 8787 99 00 02
            inx                                 ; 878A E8
            iny                                 ; 878B C8
            lda LA4A0,x                         ; 878C BD A0 A4
            sta $0200,y                         ; 878F 99 00 02
            inx                                 ; 8792 E8
            iny                                 ; 8793 C8
            lda LA4A0,x                         ; 8794 BD A0 A4
            clc                                 ; 8797 18
            adc $44                             ; 8798 65 44
            sta $0200,y                         ; 879A 99 00 02
            inx                                 ; 879D E8
            iny                                 ; 879E C8
            sty $42                             ; 879F 84 42
        end_if
        rts                                     ; 87A1 60
.endscope

; ----------------------------------------------------------------------------
R87A2:
.scope
        jsr     R89C9                           ; 87A2 20 C9 89
        lda     $0727                           ; 87A5 AD 27 07
        cmp     #$01                            ; 87A8 C9 01
        if_eq                                   ; 87AA D0 26
            jsr R89D4                           ; 87AC 20 D4 89
            lda $0309                           ; 87AF AD 09 03
            if_ne                               ; 87B2 F0 12
                lda #$C0                        ; 87B4 A9 C0
                sta $44                         ; 87B6 85 44
                lda #$4B                        ; 87B8 A9 4B
                sta $45                         ; 87BA 85 45
                lda #$32                        ; 87BC A9 32
                sta $53                         ; 87BE 85 53
                jsr R88F6                       ; 87C0 20 F6 88
                jmp L886B                       ; 87C3 4C 6B 88
            end_if
            jsr R9075                           ; 87C6 20 75 90
            jsr R89B6                           ; 87C9 20 B6 89
            jsr R88B1                           ; 87CC 20 B1 88
            jmp L886B                           ; 87CF 4C 6B 88
        end_if

        lda $61                                 ; 87D2 A5 61
        if_eq                                   ; 87D4 D0 4C
            lda $55                             ; 87D6 A5 55
            if_eq                               ; 87D8 D0 48
                lda $031A                       ; 87DA AD 1A 03
                sta $9A                         ; 87DD 85 9A
                lda $031B                       ; 87DF AD 1B 03
                sta $9B                         ; 87E2 85 9B
                lda $031C                       ; 87E4 AD 1C 03
                sta $9C                         ; 87E7 85 9C
                lda $031D                       ; 87E9 AD 1D 03
                sta $9D                         ; 87EC 85 9D
                lda $0325                       ; 87EE AD 25 03
                sta $A5                         ; 87F1 85 A5
                lda #$38                        ; 87F3 A9 38
                sta $44                         ; 87F5 85 44
                lda #$33                        ; 87F7 A9 33
                sta $45                         ; 87F9 85 45
                jsr R88CB                       ; 87FB 20 CB 88
                lda $039A                       ; 87FE AD 9A 03
                sta $9A                         ; 8801 85 9A
                lda $039B                       ; 8803 AD 9B 03
                sta $9B                         ; 8806 85 9B
                lda $039C                       ; 8808 AD 9C 03
                sta $9C                         ; 880B 85 9C
                lda $039D                       ; 880D AD 9D 03
                sta $9D                         ; 8810 85 9D
                lda $03A5                       ; 8812 AD A5 03
                sta $A5                         ; 8815 85 A5
                lda #$B8                        ; 8817 A9 B8
                sta $44                         ; 8819 85 44
                lda #$33                        ; 881B A9 33
                sta $45                         ; 881D 85 45
                jsr R88CB                       ; 881F 20 CB 88
            end_if
        end_if
        lda     #$2B                            ; 8822 A9 2B
        sta     $45                             ; 8824 85 45
        lda     #$01                            ; 8826 A9 01
        sta     $60                             ; 8828 85 60
        lda     #$6D                            ; 882A A9 6D
        sta     $44                             ; 882C 85 44
        ldx     $0316                           ; 882E AE 16 03
        lda     LA777,x                         ; 8831 BD 77 A7
        sta     $53                             ; 8834 85 53
        jsr     R893B                           ; 8836 20 3B 89
        lda     #$84                            ; 8839 A9 84
        sta     $44                             ; 883B 85 44
        ldx     $0396                           ; 883D AE 96 03
        lda     LA777,x                         ; 8840 BD 77 A7
        sta     $53                             ; 8843 85 53
        jsr     R893B                           ; 8845 20 3B 89
        lda     #$BF                            ; 8848 A9 BF
        sta     $45                             ; 884A 85 45
        lda     #$6E                            ; 884C A9 6E
        sta     $44                             ; 884E 85 44
        lda     $0324                           ; 8850 AD 24 03
        sta     $53                             ; 8853 85 53
        jsr     R893B                           ; 8855 20 3B 89
        lda     #$83                            ; 8858 A9 83
        sta     $44                             ; 885A 85 44
        lda     $03A4                           ; 885C AD A4 03
        sta     $53                             ; 885F 85 53
        jsr     R893B                           ; 8861 20 3B 89
        lda     #$00                            ; 8864 A9 00
        sta     $60                             ; 8866 85 60
        jsr     R886C                           ; 8868 20 6C 88
L886B:  rts                                     ; 886B 60
.endscope

; ----------------------------------------------------------------------------
R886C:
.scope
        lda     $55                             ; 886C A5 55
        if_ne                                   ; 886E F0 1C
            tax                                 ; 8870 AA
            lda LA10B,x                         ; 8871 BD 0B A1
            sta $44                             ; 8874 85 44
            lda #$A7                            ; 8876 A9 A7
            sta $45                             ; 8878 85 45
            lda $43                             ; 887A A5 43
            and #$08                            ; 887C 29 08
            lsr a                               ; 887E 4A
            lsr a                               ; 887F 4A
            lsr a                               ; 8880 4A
            clc                                 ; 8881 18
            adc #$08                            ; 8882 69 08
            sta $53                             ; 8884 85 53
            jsr R88F6                           ; 8886 20 F6 88
        else                                    ; 8889 4C B0 88
            lda $61                             ; 888C A5 61
            if_ne                               ; 888E F0 20
                tax                             ; 8890 AA
                lda LA108,x                     ; 8891 BD 08 A1
                sta $44                         ; 8894 85 44
                lda #$B7                        ; 8896 A9 B7
                sta $45                         ; 8898 85 45
                lda #$07                        ; 889A A9 07
                sta $53                         ; 889C 85 53
                jsr R88F6                       ; 889E 20 F6 88
                lda $43                         ; 88A1 A5 43
                and #$04                        ; 88A3 29 04
                lsr a                           ; 88A5 4A
                lsr a                           ; 88A6 4A
                tax                             ; 88A7 AA
                lda LA10E,x                     ; 88A8 BD 0E A1
                sta $53                         ; 88AB 85 53
                jsr R88F6                       ; 88AD 20 F6 88
            end_if
        end_if
        rts                                     ; 88B0 60
.endscope

; ----------------------------------------------------------------------------
R88B1:
        lda     $A2                             ; 88B1 A5 A2
        and     #$01                            ; 88B3 29 01
        asl     a                               ; 88B5 0A
        asl     a                               ; 88B6 0A
        sta     $47                             ; 88B7 85 47
        ldx     $7D                             ; 88B9 A6 7D
        lda     LA401,x                         ; 88BB BD 01 A4
        clc                                     ; 88BE 18
        adc     $47                             ; 88BF 65 47
        sta     $44                             ; 88C1 85 44
        lda     LA41B,x                         ; 88C3 BD 1B A4
        clc                                     ; 88C6 18
        adc     $47                             ; 88C7 65 47
        sta     $45                             ; 88C9 85 45
R88CB:  ldy     $42                             ; 88CB A4 42
        lda     $A3                             ; 88CD A5 A3
        asl     a                               ; 88CF 0A
        asl     a                               ; 88D0 0A
        clc                                     ; 88D1 18
        adc     $A2                             ; 88D2 65 A2
        tax                                     ; 88D4 AA
        lda     LA494,x                         ; 88D5 BD 94 A4
        tax                                     ; 88D8 AA
        lda     $9A                             ; 88D9 A5 9A
        sta     $47                             ; 88DB 85 47
        jsr     R8772                           ; 88DD 20 72 87
        lda     $9B                             ; 88E0 A5 9B
        sta     $47                             ; 88E2 85 47
        jsr     R8772                           ; 88E4 20 72 87
        lda     $9C                             ; 88E7 A5 9C
        sta     $47                             ; 88E9 85 47
        jsr     R8772                           ; 88EB 20 72 87
        lda     $9D                             ; 88EE A5 9D
        sta     $47                             ; 88F0 85 47
        jsr     R8772                           ; 88F2 20 72 87
        rts                                     ; 88F5 60

; ----------------------------------------------------------------------------
; Normal -------D--/AXY-CZ--VN
; READS $42 $44 $45 $53 ($47),Y $a8c2,X
; WRITES $42 $47 $48 $0200,X
;
; input $53: index to a table of pointers at $A8C2
; input $42: target address in page $02
; input $44: offset to add to 4th byte
; input $45: offset to add to first byte
; copy 4 bytes at a time until #$80 is seen.
;
.proc R88F6
        clc                                     ; 88F6 18
        lda     $53                             ; 88F7 A5 53
        rol     a                               ; 88F9 2A
        tax                                     ; 88FA AA
        lda     LA8C2,x                         ; 88FB BD C2 A8
        sta     $47                             ; 88FE 85 47
        inx                                     ; 8900 E8
        lda     LA8C2,x                         ; 8901 BD C2 A8
        sta     $48                             ; 8904 85 48
        ldx     $42                             ; 8906 A6 42
        ldy     #$00                            ; 8908 A0 00
        loop
            lda ($47),y                         ; 890A B1 47
            cmp #$80                            ; 890C C9 80
            beq break                           ; 890E F0 2A
            clc                                 ; 8910 18
            adc $45                             ; 8911 65 45
            sta $0200,x                         ; 8913 9D 00 02
            inx                                 ; 8916 E8
            iny                                 ; 8917 C8
            lda ($47),y                         ; 8918 B1 47
            sta $0200,x                         ; 891A 9D 00 02
            inx                                 ; 891D E8
            iny                                 ; 891E C8
            lda ($47),y                         ; 891F B1 47
            sta $0200,x                         ; 8921 9D 00 02
            inx                                 ; 8924 E8
            iny                                 ; 8925 C8
            lda ($47),y                         ; 8926 B1 47
            clc                                 ; 8928 18
            adc $44                             ; 8929 65 44
            sta $0200,x                         ; 892B 9D 00 02
            inx                                 ; 892E E8
            iny                                 ; 892F C8
            lda #$04                            ; 8930 A9 04
            clc                                 ; 8932 18
            adc $42                             ; 8933 65 42
            sta $42                             ; 8935 85 42
        forever                                 ; 8937 4C 0A 89
        rts                                     ; 893A 60
.endproc

; ----------------------------------------------------------------------------
R893B:
.scope
        ldx     $42                             ; 893B A6 42
        lda     $45                             ; 893D A5 45
        sta     $0200,x                         ; 893F 9D 00 02
        lda     $53                             ; 8942 A5 53
        lsr     a                               ; 8944 4A
        lsr     a                               ; 8945 4A
        lsr     a                               ; 8946 4A
        lsr     a                               ; 8947 4A
        sta     $0201,x                         ; 8948 9D 01 02
        lda     $60                             ; 894B A5 60
        sta     L0202,x                         ; 894D 9D 02 02
        lda     $44                             ; 8950 A5 44
        sta     $0203,x                         ; 8952 9D 03 02
        lda     $45                             ; 8955 A5 45
        sta     $0204,x                         ; 8957 9D 04 02
        lda     $53                             ; 895A A5 53
        and     #$0F                            ; 895C 29 0F
        sta     $0205,x                         ; 895E 9D 05 02
        lda     $60                             ; 8961 A5 60
        sta     $0206,x                         ; 8963 9D 06 02
        lda     $44                             ; 8966 A5 44
        clc                                     ; 8968 18
        adc     #$08                            ; 8969 69 08
        sta     $0207,x                         ; 896B 9D 07 02
        lda     $42                             ; 896E A5 42
        clc                                     ; 8970 18
        adc     #$08                            ; 8971 69 08
        sta     $42                             ; 8973 85 42
        rts                                     ; 8975 60
.endscope
; ----------------------------------------------------------------------------
; unreachable?
        lda     $0727                           ; 8976 AD 27 07
        cmp     #$02                            ; 8979 C9 02
        bne     L89B5                           ; 897B D0 38
        lda     #$27                            ; 897D A9 27
        sta     $45                             ; 897F 85 45
        lda     #$6C                            ; 8981 A9 6C
        sta     $44                             ; 8983 85 44
        lda     $0725                           ; 8985 AD 25 07
        sta     $53                             ; 8988 85 53
        lda     #$00                            ; 898A A9 00
        sta     $60                             ; 898C 85 60
        jsr     R893B                           ; 898E 20 3B 89
        lda     #$3F                            ; 8991 A9 3F
        sta     $45                             ; 8993 85 45
        lda     #$6C                            ; 8995 A9 6C
        sta     $44                             ; 8997 85 44
        lda     $031E                           ; 8999 AD 1E 03
        sta     $53                             ; 899C 85 53
        lda     #$00                            ; 899E A9 00
        sta     $60                             ; 89A0 85 60
        jsr     R893B                           ; 89A2 20 3B 89
        lda     #$84                            ; 89A5 A9 84
        sta     $44                             ; 89A7 85 44
        lda     $039E                           ; 89A9 AD 9E 03
        sta     $53                             ; 89AC 85 53
        lda     #$00                            ; 89AE A9 00
        sta     $60                             ; 89B0 85 60
        jsr     R893B                           ; 89B2 20 3B 89
L89B5:  rts                                     ; 89B5 60

; ----------------------------------------------------------------------------
R89B6:
.scope
        lda     #$C0                            ; 89B6 A9 C0
        sta     $44                             ; 89B8 85 44
        lda     #$4B                            ; 89BA A9 4B
        sta     $45                             ; 89BC 85 45
        lda     $7E                             ; 89BE A5 7E
        clc                                     ; 89C0 18
        adc     #$0A                            ; 89C1 69 0A
        sta     $53                             ; 89C3 85 53
        jsr     R88F6                           ; 89C5 20 F6 88
        rts                                     ; 89C8 60
.endscope

; ----------------------------------------------------------------------------
R89C9:  lda     $43                             ; 89C9 A5 43
        and     #$08                            ; 89CB 29 08
        lsr     a                               ; 89CD 4A
        lsr     a                               ; 89CE 4A
        lsr     a                               ; 89CF 4A
        jsr     RB8F4                           ; 89D0 20 F4 B8
        rts                                     ; 89D3 60

; ----------------------------------------------------------------------------
R89D4:
.scope
        lda     $89                             ; 89D4 A5 89
        beq     L89DB                           ; 89D6 F0 03
        jmp     L8C28                           ; 89D8 4C 28 8C

L89DB:  lda     $067E                           ; 89DB AD 7E 06
        cmp     $067F                           ; 89DE CD 7F 06
        bcs     L8A17                           ; 89E1 B0 34
        inc     $7B                             ; 89E3 E6 7B
        lda     $7B                             ; 89E5 A5 7B
        and     #$03                            ; 89E7 29 03
        sta     $7B                             ; 89E9 85 7B
        lda     #$00                            ; 89EB A9 00
        sta     $067F                           ; 89ED 8D 7F 06
        ldx     $75                             ; 89F0 A6 75
        lda     LA11A,x                         ; 89F2 BD 1A A1
        bne     L8A37                           ; 89F5 D0 40
        ldx     $76                             ; 89F7 A6 76
        lda     LA11A,x                         ; 89F9 BD 1A A1
        bne     L8A37                           ; 89FC D0 39
        ldx     $77                             ; 89FE A6 77
        lda     LA11A,x                         ; 8A00 BD 1A A1
        bne     L8A37                           ; 8A03 D0 32
        lda     $7B                             ; 8A05 A5 7B
        and     #$01                            ; 8A07 29 01
        bne     L8A37                           ; 8A09 D0 2C
        inc     $3E                             ; 8A0B E6 3E
        lda     $3E                             ; 8A0D A5 3E
        cmp     #$40                            ; 8A0F C9 40
        bne     L8A17                           ; 8A11 D0 04
        lda     #$00                            ; 8A13 A9 00
        sta     $3E                             ; 8A15 85 3E
L8A17:  ldx     $3E                             ; 8A17 A6 3E
        lda     LA11F,x                         ; 8A19 BD 1F A1
        sta     $38                             ; 8A1C 85 38
        lda     LA19F,x                         ; 8A1E BD 9F A1
        sta     $39                             ; 8A21 85 39
        lda     LA134,x                         ; 8A23 BD 34 A1
        sta     $3A                             ; 8A26 85 3A
        lda     LA1B4,x                         ; 8A28 BD B4 A1
        sta     $3B                             ; 8A2B 85 3B
        lda     LA149,x                         ; 8A2D BD 49 A1
        sta     $3C                             ; 8A30 85 3C
        lda     LA1C9,x                         ; 8A32 BD C9 A1
        sta     $3D                             ; 8A35 85 3D
L8A37:  lda     $38                             ; 8A37 A5 38
        sta     $44                             ; 8A39 85 44
        lda     $39                             ; 8A3B A5 39
        sta     $45                             ; 8A3D 85 45
        lda     $75                             ; 8A3F A5 75
        bne     L8A54                           ; 8A41 D0 11
        ldx     $7B                             ; 8A43 A6 7B
        lda     LA25D,x                         ; 8A45 BD 5D A2
        sta     $53                             ; 8A48 85 53
        jsr     R88F6                           ; 8A4A 20 F6 88
        lda     #$00                            ; 8A4D A9 00
        sta     $78                             ; 8A4F 85 78
        jmp     L8AC6                           ; 8A51 4C C6 8A
.endscope

; ----------------------------------------------------------------------------
L8A54:  cmp     #$01                            ; 8A54 C9 01
        bne     L8A7A                           ; 8A56 D0 22
        inc     $78                             ; 8A58 E6 78
        lda     #$30                            ; 8A5A A9 30
        sta     $53                             ; 8A5C 85 53
        ldx     $78                             ; 8A5E A6 78
        lda     LA231,x                         ; 8A60 BD 31 A2
        clc                                     ; 8A63 18
        adc     $39                             ; 8A64 65 39
        sta     $45                             ; 8A66 85 45
        jsr     R88F6                           ; 8A68 20 F6 88
        lda     $45                             ; 8A6B A5 45
        cmp     $39                             ; 8A6D C5 39
        bne     L8AC6                           ; 8A6F D0 55
        inc     $75                             ; 8A71 E6 75
        lda     #$00                            ; 8A73 A9 00
        sta     $78                             ; 8A75 85 78
        jmp     L8AC6                           ; 8A77 4C C6 8A

; ----------------------------------------------------------------------------
L8A7A:
.scope
        cmp     #$02                            ; 8A7A C9 02
        bne     L8AB1                           ; 8A7C D0 33
        inc     $78                             ; 8A7E E6 78
        lda     $78                             ; 8A80 A5 78
        cmp     #$A0                            ; 8A82 C9 A0
        bne     L8A9B                           ; 8A84 D0 15
        lda     #$00                            ; 8A86 A9 00
        sta     $75                             ; 8A88 85 75
        lda     $72                             ; 8A8A A5 72
        bne     L8A9B                           ; 8A8C D0 0D
        lda     #$09                            ; 8A8E A9 09
        sta     $06F1                           ; 8A90 8D F1 06
        lda     #$03                            ; 8A93 A9 03
        sta     $75                             ; 8A95 85 75
        lda     #$00                            ; 8A97 A9 00
        sta     $78                             ; 8A99 85 78
L8A9B:  lda     #$03                            ; 8A9B A9 03
        sta     $06F0                           ; 8A9D 8D F0 06
        lda     $43                             ; 8AA0 A5 43
        and     #$04                            ; 8AA2 29 04
        lsr     a                               ; 8AA4 4A
        lsr     a                               ; 8AA5 4A
        clc                                     ; 8AA6 18
        adc     #$30                            ; 8AA7 69 30
        sta     $53                             ; 8AA9 85 53
        jsr     R88F6                           ; 8AAB 20 F6 88
        jmp     L8AC6                           ; 8AAE 4C C6 8A
.endscope

; ----------------------------------------------------------------------------
L8AB1:  cmp     #$03                            ; 8AB1 C9 03
        bne     L8AC6                           ; 8AB3 D0 11
        lda     #$33                            ; 8AB5 A9 33
        sta     $53                             ; 8AB7 85 53
        jsr     R88F6                           ; 8AB9 20 F6 88
        inc     $78                             ; 8ABC E6 78
        lda     $78                             ; 8ABE A5 78
        cmp     #$05                            ; 8AC0 C9 05
        bcc     L8AC6                           ; 8AC2 90 02
        inc     $75                             ; 8AC4 E6 75
L8AC6:  lda     $3A                             ; 8AC6 A5 3A
        sta     $44                             ; 8AC8 85 44
        lda     $3B                             ; 8ACA A5 3B
        sta     $45                             ; 8ACC 85 45
        lda     $76                             ; 8ACE A5 76
        bne     L8AE3                           ; 8AD0 D0 11
        ldx     $7B                             ; 8AD2 A6 7B
        lda     LA255,x                         ; 8AD4 BD 55 A2
        sta     $53                             ; 8AD7 85 53
        jsr     R88F6                           ; 8AD9 20 F6 88
        lda     #$00                            ; 8ADC A9 00
        sta     $79                             ; 8ADE 85 79
        jmp     L8B55                           ; 8AE0 4C 55 8B

; ----------------------------------------------------------------------------
L8AE3:
.scope
        cmp     #$01                            ; 8AE3 C9 01
        bne     L8B09                           ; 8AE5 D0 22
L8AE7:  inc     $79                             ; 8AE7 E6 79
        lda     #$2C                            ; 8AE9 A9 2C
        sta     $53                             ; 8AEB 85 53
        ldx     $79                             ; 8AED A6 79
        lda     LA231,x                         ; 8AEF BD 31 A2
        clc                                     ; 8AF2 18
        adc     $3B                             ; 8AF3 65 3B
        sta     $45                             ; 8AF5 85 45
        jsr     R88F6                           ; 8AF7 20 F6 88
        lda     $45                             ; 8AFA A5 45
        cmp     $3B                             ; 8AFC C5 3B
        bne     L8B55                           ; 8AFE D0 55
        inc     $76                             ; 8B00 E6 76
        lda     #$00                            ; 8B02 A9 00
        sta     $79                             ; 8B04 85 79
        jmp     L8B55                           ; 8B06 4C 55 8B
.endscope

; ----------------------------------------------------------------------------
L8B09:  cmp     #$02                            ; 8B09 C9 02
        bne     L8B40                           ; 8B0B D0 33
        inc     $79                             ; 8B0D E6 79
        lda     $79                             ; 8B0F A5 79
        cmp     #$A0                            ; 8B11 C9 A0
        bne     L8B2A                           ; 8B13 D0 15
        lda     #$00                            ; 8B15 A9 00
        sta     $76                             ; 8B17 85 76
        lda     $73                             ; 8B19 A5 73
        bne     L8B2A                           ; 8B1B D0 0D
        lda     #$09                            ; 8B1D A9 09
        sta     $06F1                           ; 8B1F 8D F1 06
        lda     #$03                            ; 8B22 A9 03
        sta     $76                             ; 8B24 85 76
        lda     #$00                            ; 8B26 A9 00
        sta     $79                             ; 8B28 85 79
L8B2A:  lda     #$03                            ; 8B2A A9 03
        sta     $06F0                           ; 8B2C 8D F0 06
        lda     $43                             ; 8B2F A5 43
        and     #$04                            ; 8B31 29 04
        lsr     a                               ; 8B33 4A
        lsr     a                               ; 8B34 4A
        clc                                     ; 8B35 18
        adc     #$2C                            ; 8B36 69 2C
        sta     $53                             ; 8B38 85 53
        jsr     R88F6                           ; 8B3A 20 F6 88
        jmp     L8B55                           ; 8B3D 4C 55 8B

; ----------------------------------------------------------------------------
L8B40:  cmp     #$03                            ; 8B40 C9 03
        bne     L8B55                           ; 8B42 D0 11
        lda     #$33                            ; 8B44 A9 33
        sta     $53                             ; 8B46 85 53
        jsr     R88F6                           ; 8B48 20 F6 88
        inc     $79                             ; 8B4B E6 79
        lda     $79                             ; 8B4D A5 79
        cmp     #$05                            ; 8B4F C9 05
        bcc     L8B55                           ; 8B51 90 02
        inc     $76                             ; 8B53 E6 76
L8B55:  lda     $3C                             ; 8B55 A5 3C
        sta     $44                             ; 8B57 85 44
        lda     $3D                             ; 8B59 A5 3D
        sta     $45                             ; 8B5B 85 45
        lda     $77                             ; 8B5D A5 77
        bne     L8B72                           ; 8B5F D0 11
        ldx     $7B                             ; 8B61 A6 7B
        lda     LA259,x                         ; 8B63 BD 59 A2
        sta     $53                             ; 8B66 85 53
        jsr     R88F6                           ; 8B68 20 F6 88
        lda     #$00                            ; 8B6B A9 00
        sta     $7A                             ; 8B6D 85 7A
        jmp     L8BE4                           ; 8B6F 4C E4 8B

; ----------------------------------------------------------------------------
L8B72:  cmp     #$01                            ; 8B72 C9 01
        bne     L8B98                           ; 8B74 D0 22
        inc     $7A                             ; 8B76 E6 7A
        lda     #$2E                            ; 8B78 A9 2E
        sta     $53                             ; 8B7A 85 53
        ldx     $7A                             ; 8B7C A6 7A
        lda     LA231,x                         ; 8B7E BD 31 A2
        clc                                     ; 8B81 18
        adc     $3D                             ; 8B82 65 3D
        sta     $45                             ; 8B84 85 45
        jsr     R88F6                           ; 8B86 20 F6 88
        lda     $45                             ; 8B89 A5 45
        .byte   $C5                             ; 8B8B C5
L8B8C:  and     $55D0,x                         ; 8B8C 3D D0 55
        inc     $77                             ; 8B8F E6 77
        lda     #$00                            ; 8B91 A9 00
        sta     $7A                             ; 8B93 85 7A
        jmp     L8BE4                           ; 8B95 4C E4 8B

; ----------------------------------------------------------------------------
L8B98:  cmp     #$02                            ; 8B98 C9 02
        bne     L8BCF                           ; 8B9A D0 33
        inc     $7A                             ; 8B9C E6 7A
        lda     $7A                             ; 8B9E A5 7A
        cmp     #$A0                            ; 8BA0 C9 A0
        bne     L8BB9                           ; 8BA2 D0 15
        lda     #$00                            ; 8BA4 A9 00
        sta     $77                             ; 8BA6 85 77
        lda     $74                             ; 8BA8 A5 74
        bne     L8BB9                           ; 8BAA D0 0D
        lda     #$09                            ; 8BAC A9 09
        sta     $06F1                           ; 8BAE 8D F1 06
        lda     #$03                            ; 8BB1 A9 03
        sta     $77                             ; 8BB3 85 77
        lda     #$00                            ; 8BB5 A9 00
        sta     $7A                             ; 8BB7 85 7A
L8BB9:  lda     #$03                            ; 8BB9 A9 03
        sta     $06F0                           ; 8BBB 8D F0 06
        lda     $43                             ; 8BBE A5 43
        and     #$04                            ; 8BC0 29 04
        lsr     a                               ; 8BC2 4A
        lsr     a                               ; 8BC3 4A
        clc                                     ; 8BC4 18
        adc     #$2E                            ; 8BC5 69 2E
        sta     $53                             ; 8BC7 85 53
        jsr     R88F6                           ; 8BC9 20 F6 88
        jmp     L8BE4                           ; 8BCC 4C E4 8B

; ----------------------------------------------------------------------------
L8BCF:  cmp     #$03                            ; 8BCF C9 03
        bne     L8BE4                           ; 8BD1 D0 11
        lda     #$33                            ; 8BD3 A9 33
        sta     $53                             ; 8BD5 85 53
        jsr     R88F6                           ; 8BD7 20 F6 88
        inc     $7A                             ; 8BDA E6 7A
        lda     $7A                             ; 8BDC A5 7A
        cmp     #$05                            ; 8BDE C9 05
        bcc     L8BE4                           ; 8BE0 90 02
        inc     $77                             ; 8BE2 E6 77
L8BE4:  rts                                     ; 8BE4 60

; ----------------------------------------------------------------------------
R8BE5:
.scope
        lda     $067E                           ; 8BE5 AD 7E 06
        cmp     $067F                           ; 8BE8 CD 7F 06
        bcs     L8BFA                           ; 8BEB B0 0D
        inc     $7B                             ; 8BED E6 7B
        lda     $7B                             ; 8BEF A5 7B
        and     #$03                            ; 8BF1 29 03
        sta     $7B                             ; 8BF3 85 7B
        lda     #$00                            ; 8BF5 A9 00
        sta     $067F                           ; 8BF7 8D 7F 06
L8BFA:  lda     #$C0                            ; 8BFA A9 C0
        sta     $44                             ; 8BFC 85 44
        lda     #$B0                            ; 8BFE A9 B0
        sta     $45                             ; 8C00 85 45
        ldx     $7B                             ; 8C02 A6 7B
        lda     LA259,x                         ; 8C04 BD 59 A2
        sta     $53                             ; 8C07 85 53
        jsr     R88F6                           ; 8C09 20 F6 88
        lda     #$2C                            ; 8C0C A9 2C
        sta     $44                             ; 8C0E 85 44
        lda     #$A7                            ; 8C10 A9 A7
        sta     $45                             ; 8C12 85 45
        lda     #$48                            ; 8C14 A9 48
        sta     $53                             ; 8C16 85 53
        jsr     R88F6                           ; 8C18 20 F6 88
        lda     $7B                             ; 8C1B A5 7B
        and     #$01                            ; 8C1D 29 01
        clc                                     ; 8C1F 18
        adc     #$49                            ; 8C20 69 49
        sta     $53                             ; 8C22 85 53
        jsr     R88F6                           ; 8C24 20 F6 88
        rts                                     ; 8C27 60
.endscope

; ----------------------------------------------------------------------------
L8C28:  lda     $38                             ; 8C28 A5 38
        sta     $44                             ; 8C2A 85 44
        lda     $39                             ; 8C2C A5 39
        sta     $45                             ; 8C2E 85 45
        lda     $43                             ; 8C30 A5 43
        and     #$04                            ; 8C32 29 04
        lsr     a                               ; 8C34 4A
        lsr     a                               ; 8C35 4A
        tax                                     ; 8C36 AA
        lda     LA0FF,x                         ; 8C37 BD FF A0
        sta     $53                             ; 8C3A 85 53
        jsr     R88F6                           ; 8C3C 20 F6 88
        lda     $3A                             ; 8C3F A5 3A
        sta     $44                             ; 8C41 85 44
        lda     $3B                             ; 8C43 A5 3B
        sta     $45                             ; 8C45 85 45
        lda     $43                             ; 8C47 A5 43
        and     #$08                            ; 8C49 29 08
        lsr     a                               ; 8C4B 4A
        lsr     a                               ; 8C4C 4A
        lsr     a                               ; 8C4D 4A
        tax                                     ; 8C4E AA
        lda     LA101,x                         ; 8C4F BD 01 A1
        sta     $53                             ; 8C52 85 53
        jsr     R88F6                           ; 8C54 20 F6 88
        lda     $3C                             ; 8C57 A5 3C
        sta     $44                             ; 8C59 85 44
        lda     $3D                             ; 8C5B A5 3D
        sta     $45                             ; 8C5D 85 45
        lda     $43                             ; 8C5F A5 43
        and     #$04                            ; 8C61 29 04
        lsr     a                               ; 8C63 4A
        lsr     a                               ; 8C64 4A
        tax                                     ; 8C65 AA
        lda     LA103,x                         ; 8C66 BD 03 A1
        sta     $53                             ; 8C69 85 53
        jsr     R88F6                           ; 8C6B 20 F6 88
        rts                                     ; 8C6E 60

; ----------------------------------------------------------------------------
L8C6F:  jsr     R8C73                           ; 8C6F 20 73 8C
        rts                                     ; 8C72 60

; ----------------------------------------------------------------------------
R8C73:  lda     $87                             ; 8C73 A5 87
        jsr     RB8AC                           ; 8C75 20 AC B8
        .word   L8C8A
        .word   L8C91
        .word   L8C91
        .word   L8C94
        .word   L9413
        .word   L91FB
        .word   L9469
        .word   L92DB
        .word   L8D4F
L8C8A:  lda     #$00
L8C8C:  sta     $AD                             ; 8C8C 85 AD
        inc     $87                             ; 8C8E E6 87
        rts                                     ; 8C90 60

; ----------------------------------------------------------------------------
L8C91:  inc     $87                             ; 8C91 E6 87
        rts                                     ; 8C93 60

; ----------------------------------------------------------------------------
L8C94:  lda     $80                             ; 8C94 A5 80
        cmp     #$FF                            ; 8C96 C9 FF
        if_ne                                   ; 8C98 F0 03
            jmp L8D4E                           ; 8C9A 4C 4E 8D
        end_if
        lda     #$00                            ; 8C9D A9 00
        sta     $47                             ; 8C9F 85 47
        sta     $57                             ; 8CA1 85 57
        ldy     #$7F                            ; 8CA3 A0 7F
        sty     $49                             ; 8CA5 84 49
L8CA7:  ldy     $49                             ; 8CA7 A4 49
        lda     ($57),y                         ; 8CA9 B1 57
        cmp     #$F0                            ; 8CAB C9 F0
        bcs     L8CB2                           ; 8CAD B0 03
        jmp     L8D34                           ; 8CAF 4C 34 8D

L8CB2:  lda     #$FF                            ; 8CB2 A9 FF
        sta     ($57),y                         ; 8CB4 91 57
        sta     $48                             ; 8CB6 85 48
        lda     $0724                           ; 8CB8 AD 24 07
        bne     L8D34                           ; 8CBB D0 77
        sty     $49                             ; 8CBD 84 49
        tya                                     ; 8CBF 98
        sec                                     ; 8CC0 38
        sbc     #$08                            ; 8CC1 E9 08
        tay                                     ; 8CC3 A8
        lda     ($57),y                         ; 8CC4 B1 57
        cmp     #$A0                            ; 8CC6 C9 A0
        bcs     L8D34                           ; 8CC8 B0 6A
        and     #$F0                            ; 8CCA 29 F0
        cmp     #$60                            ; 8CCC C9 60
        beq     L8D34                           ; 8CCE F0 64
        cmp     #$A0                            ; 8CD0 C9 A0
        beq     L8D34                           ; 8CD2 F0 60
        cmp     #$70                            ; 8CD4 C9 70
        bne     L8D18                           ; 8CD6 D0 40
        sty     $4A                             ; 8CD8 84 4A
        sty     $4C                             ; 8CDA 84 4C
        lda     $49                             ; 8CDC A5 49
        sta     $4B                             ; 8CDE 85 4B
L8CE0:  dec     $4A                             ; 8CE0 C6 4A
        dec     $4B                             ; 8CE2 C6 4B
        ldy     $4B                             ; 8CE4 A4 4B
        lda     ($57),y                         ; 8CE6 B1 57
        cmp     #$F0                            ; 8CE8 C9 F0
        bcc     L8D34                           ; 8CEA 90 48
        ldy     $4A                             ; 8CEC A4 4A
        lda     ($57),y                         ; 8CEE B1 57
        and     #$F0                            ; 8CF0 29 F0
        cmp     #$60                            ; 8CF2 C9 60
        bne     L8CE0                           ; 8CF4 D0 EA
L8CF6:  ldy     $4C                             ; 8CF6 A4 4C
        lda     ($57),y                         ; 8CF8 B1 57
        ldy     $49                             ; 8CFA A4 49
        sta     ($57),y                         ; 8CFC 91 57
        lda     #$FF                            ; 8CFE A9 FF
        ldy     $4C                             ; 8D00 A4 4C
        sta     ($57),y                         ; 8D02 91 57
        lda     $49                             ; 8D04 A5 49
L8D06:  cmp     $4B                             ; 8D06 C5 4B
        beq     L8D34                           ; 8D08 F0 2A
        dec     $49                             ; 8D0A C6 49
        dec     $4C                             ; 8D0C C6 4C
        inc     $47                             ; 8D0E E6 47
        lda     #$07                            ; 8D10 A9 07
        sta     $06F1                           ; 8D12 8D F1 06
        jmp     L8CF6                           ; 8D15 4C F6 8C

L8D18:  ldy     $49                             ; 8D18 A4 49
        tya                                     ; 8D1A 98
        sec                                     ; 8D1B 38
        sbc     #$08                            ; 8D1C E9 08
        tay                                     ; 8D1E A8
        lda     ($57),y                         ; 8D1F B1 57
        sta     $48                             ; 8D21 85 48
        lda     #$FF                            ; 8D23 A9 FF
        sta     ($57),y                         ; 8D25 91 57
        ldy     $49                             ; 8D27 A4 49
        lda     $48                             ; 8D29 A5 48
        sta     ($57),y                         ; 8D2B 91 57
        inc     $47                             ; 8D2D E6 47
        lda     #$07                            ; 8D2F A9 07
        sta     $06F1                           ; 8D31 8D F1 06
L8D34:  dec     $49                             ; 8D34 C6 49
        ldy     $49                             ; 8D36 A4 49
        cpy     #$FF                            ; 8D38 C0 FF
        if_ne                                   ; 8D3A F0 03
            jmp L8CA7                           ; 8D3C 4C A7 8C
        end_if
        lda     #$0F                            ; 8D3F A9 0F
        sta     $80                             ; 8D41 85 80
        lda     $47                             ; 8D43 A5 47
        if_ne                                   ; 8D45 F0 05
            dec $87                             ; 8D47 C6 87
        else                                    ; 8D49 4C 4E 8D
            inc $87                             ; 8D4C E6 87
        end_if
L8D4E:  rts                                     ; 8D4E 60

; ----------------------------------------------------------------------------
L8D4F:  lda     #$00                            ; 8D4F A9 00
        sta     $87                             ; 8D51 85 87
        inc     $97                             ; 8D53 E6 97
        rts                                     ; 8D55 60

; ----------------------------------------------------------------------------
L8D56:  lda     $A8                             ; 8D56 A5 A8
        if_ne                                   ; 8D58 F0 05
            inc $97                             ; 8D5A E6 97
        else                                    ; 8D5C 4C 6F 8D
            lda #$00                            ; 8D5F A9 00
            sta $A1                             ; 8D61 85 A1
            jsr R871F                           ; 8D63 20 1F 87
            jsr R8D70                           ; 8D66 20 70 8D
            jsr R8DBF                           ; 8D69 20 BF 8D
            jsr R8E2B                           ; 8D6C 20 2B 8E
        end_if
        rts                                     ; 8D6F 60

; ----------------------------------------------------------------------------
; no inputs
; -------D--/AXY-CZ--VN
; LOOP: (0,3) RTS: (0,0,3,3)
; READS $43 $5c $85 $86 $8a $8b $92 $a5 $a6 ($57),Y $a38d,X $a455,X $a458,X $a45b,X $a474,X $a4c4,X $a795,X
; WRITES $47 $48 $49 $4a $57 $80 $86 $92 $97 $a0 $06f1 ($57),Y
; JSR $8f52 $90d3
R8D70:
.scope
        lda     $43                             ; 8D70 A5 43
        and     #$01                            ; 8D72 29 01
        beq     L8D7E                           ; 8D74 F0 08
        lda     $5C                             ; 8D76 A5 5C
        and     #$0F                            ; 8D78 29 0F
        cmp     #$04                            ; 8D7A C9 04
        beq     L8D94                           ; 8D7C F0 16
L8D7E:  inc     $92                             ; 8D7E E6 92
        lda     $8A                             ; 8D80 A5 8A
        sta     $A0                             ; 8D82 85 A0
        ldx     $8B                             ; 8D84 A6 8B
        lda     LA38D,x                         ; 8D86 BD 8D A3
        clc                                     ; 8D89 18
        adc     $A0                             ; 8D8A 65 A0
        tax                                     ; 8D8C AA
        lda     LA795,x                         ; 8D8D BD 95 A7
        cmp     $92                             ; 8D90 C5 92
        bcs     L8DBE                           ; 8D92 B0 2A
L8D94:  dec     $86                             ; 8D94 C6 86
        lda     #$00                            ; 8D96 A9 00
        sta     $92                             ; 8D98 85 92
        jsr     R90D3                           ; 8D9A 20 D3 90
        bne     L8DA5                           ; 8D9D D0 06
        lda     $86                             ; 8D9F A5 86
        cmp     #$FF                            ; 8DA1 C9 FF
        bne     L8DBE                           ; 8DA3 D0 19
L8DA5:  inc     $86                             ; 8DA5 E6 86
        lda     #$07                            ; 8DA7 A9 07
        sta     $06F1                           ; 8DA9 8D F1 06
        jsr     R8F52                           ; 8DAC 20 52 8F
        lda     $0740                           ; 8DAF AD 40 07
        if_ne                                   ; 8DB2 F0 05
            lda $53                             ; 8DB4 A5 53
            pha                                 ; 8DB6 48
            pha                                 ; 8DB7 48
            pha                                 ; 8DB8 48
        end_if
        inc     $97                             ; 8DB9 E6 97
        jmp     L8DBE                           ; 8DBB 4C BE 8D
L8DBE:  rts                                     ; 8DBE 60
.endscope

; ----------------------------------------------------------------------------
R8DBF:
.scope
        lda     $5B                             ; 8DBF A5 5B
        and     #$03                            ; 8DC1 29 03
        bne     L8DDA                           ; 8DC3 D0 15
        lda     $5C                             ; 8DC5 A5 5C
        and     #$03                            ; 8DC7 29 03
        beq     L8E2A                           ; 8DC9 F0 5F
        inc     $93                             ; 8DCB E6 93
        lda     $93                             ; 8DCD A5 93
        cmp     #$10                            ; 8DCF C9 10
        bmi     L8E2A                           ; 8DD1 30 57
        lda     #$0A                            ; 8DD3 A9 0A
        sta     $93                             ; 8DD5 85 93
        jmp     L8DE3                           ; 8DD7 4C E3 8D

L8DDA:  lda     #$00                            ; 8DDA A9 00
        sta     $93                             ; 8DDC 85 93
        lda     #$03                            ; 8DDE A9 03
        sta     $06F1                           ; 8DE0 8D F1 06
L8DE3:  lda     $5C                             ; 8DE3 A5 5C
        and     #$01                            ; 8DE5 29 01
        beq     L8E09                           ; 8DE7 F0 20
        lda     $A5                             ; 8DE9 A5 A5
        and     #$01                            ; 8DEB 29 01
        clc                                     ; 8DED 18
        adc     #$06                            ; 8DEE 69 06
        cmp     $85                             ; 8DF0 C5 85
        beq     L8E09                           ; 8DF2 F0 15
        inc     $85                             ; 8DF4 E6 85
        jsr     R90D3                           ; 8DF6 20 D3 90
        if_eq                                   ; 8DF9 D0 08
            lda #$03                            ; 8DFB A9 03
            sta $06F1                           ; 8DFD 8D F1 06
        else                                    ; 8E00 4C 09 8E
            dec $85                             ; 8E03 C6 85
            lda #$0F                            ; 8E05 A9 0F
            sta $93                             ; 8E07 85 93
        end_if
L8E09:  lda     $5C                             ; 8E09 A5 5C
        and     #$02                            ; 8E0B 29 02
        beq     L8E2A                           ; 8E0D F0 1B
        lda     $85                             ; 8E0F A5 85
        cmp     #$00                            ; 8E11 C9 00
        beq     L8E2A                           ; 8E13 F0 15
        dec     $85                             ; 8E15 C6 85
        jsr     R90D3                           ; 8E17 20 D3 90
        if_eq                                   ; 8E1A D0 08
            lda #$03                            ; 8E1C A9 03
            sta $06F1                           ; 8E1E 8D F1 06
        else                                    ; 8E21 4C 2A 8E
            inc $85                             ; 8E24 E6 85
            lda #$0F                            ; 8E26 A9 0F
            sta $93                             ; 8E28 85 93
        end_if
L8E2A:  rts                                     ; 8E2A 60
.endscope

; ----------------------------------------------------------------------------
R8E2B:
.scope
        lda     $A5                             ; 8E2B A5 A5
        sta     $4A                             ; 8E2D 85 4A
        lda     $85                             ; 8E2F A5 85
        sta     $4B                             ; 8E31 85 4B
        lda     $5B                             ; 8E33 A5 5B
        and     #$80                            ; 8E35 29 80
        if_ne                                   ; 8E37 F0 10
            lda #$05                            ; 8E39 A9 05
            sta $06F1                           ; 8E3B 8D F1 06
            dec $A5                             ; 8E3E C6 A5
            lda $A5                             ; 8E40 A5 A5
            and #$03                            ; 8E42 29 03
            sta $A5                             ; 8E44 85 A5
            jsr R8E60                           ; 8E46 20 60 8E
        end_if
        lda     $5B                             ; 8E49 A5 5B
        and     #$40                            ; 8E4B 29 40
        if_ne                                   ; 8E4D F0 10
            lda #$05                            ; 8E4F A9 05
            sta $06F1                           ; 8E51 8D F1 06
            inc $A5                             ; 8E54 E6 A5
            lda $A5                             ; 8E56 A5 A5
            and #$03                            ; 8E58 29 03
            sta $A5                             ; 8E5A 85 A5
            jsr R8E60                           ; 8E5C 20 60 8E
        end_if
        rts                                     ; 8E5F 60
.endscope

; ----------------------------------------------------------------------------
R8E60:
.scope
        lda     $A5                             ; 8E60 A5 A5
        and     #$01                            ; 8E62 29 01
        bne     L8E7F                           ; 8E64 D0 19
        jsr     R90D3                           ; 8E66 20 D3 90
        bne     L8E7D                           ; 8E69 D0 12
        lda     $5C                             ; 8E6B A5 5C
        and     #$02                            ; 8E6D 29 02
        beq     L8E8C                           ; 8E6F F0 1B
        dec     $85                             ; 8E71 C6 85
        jsr     R90D3                           ; 8E73 20 D3 90
        beq     L8E8C                           ; 8E76 F0 14
        inc     $85                             ; 8E78 E6 85
        jmp     L8E8C                           ; 8E7A 4C 8C 8E

L8E7D:  dec     $85                             ; 8E7D C6 85
L8E7F:  jsr     R90D3                           ; 8E7F 20 D3 90
        if_ne                                   ; 8E82 F0 08
            lda $4A                             ; 8E84 A5 4A
            sta $A5                             ; 8E86 85 A5
            lda $4B                             ; 8E88 A5 4B
            sta $85                             ; 8E8A 85 85
        end_if
L8E8C:  rts                                     ; 8E8C 60
.endscope

; ----------------------------------------------------------------------------
R8E8D:
.scope
        lda     $9A                             ; 8E8D A5 9A
        sta     $81                             ; 8E8F 85 81
        lda     $9B                             ; 8E91 A5 9B
        sta     $82                             ; 8E93 85 82
        lda     $9C                             ; 8E95 A5 9C
        sta     $83                             ; 8E97 85 83
        lda     $9D                             ; 8E99 A5 9D
        sta     $84                             ; 8E9B 85 84
        lda     #$00                            ; 8E9D A9 00
        sta     $A5                             ; 8E9F 85 A5
        lda     $A3                             ; 8EA1 A5 A3
        sta     $A6                             ; 8EA3 85 A6
        lda     $0741                           ; 8EA5 AD 41 07
        if_ne                                   ; 8EA8 F0 09
            ldx $A7                             ; 8EAA A6 A7
            lda LCF80,x                         ; 8EAC BD 80 CF
            tax                                 ; 8EAF AA
        else                                    ; 8EB0 4C B9 8E
            ldx $A7                             ; 8EB3 A6 A7
            lda $0780,x                         ; 8EB5 BD 80 07
            tax                                 ; 8EB8 AA
        end_if
        lda     LA7FD,x                         ; 8EB9 BD FD A7
        sta     $9A                             ; 8EBC 85 9A
        lda     LA806,x                         ; 8EBE BD 06 A8
        sta     $9B                             ; 8EC1 85 9B
        inc     $A7                             ; 8EC3 E6 A7
        lda     $A7                             ; 8EC5 A5 A7
        and     #$7F                            ; 8EC7 29 7F
        sta     $A7                             ; 8EC9 85 A7
        lda     #$00                            ; 8ECB A9 00
        sta     $7D                             ; 8ECD 85 7D
        sta     $A2                             ; 8ECF 85 A2
        lda     #$02                            ; 8ED1 A9 02
        sta     $A3                             ; 8ED3 85 A3
        lda     #$03                            ; 8ED5 A9 03
        sta     $85                             ; 8ED7 85 85
        lda     #$0F                            ; 8ED9 A9 0F
        sta     $86                             ; 8EDB 85 86
        inc     $90                             ; 8EDD E6 90
        lda     $90                             ; 8EDF A5 90
        and     #$0F                            ; 8EE1 29 0F
        cmp     #$0A                            ; 8EE3 C9 0A
        if_cs                                   ; 8EE5 90 07
            lda $90                             ; 8EE7 A5 90
            clc                                 ; 8EE9 18
            adc #$06                            ; 8EEA 69 06
            sta $90                             ; 8EEC 85 90
        end_if
        lda     $90                             ; 8EEE A5 90
        and     #$F0                            ; 8EF0 29 F0
        cmp     #$A0                            ; 8EF2 C9 A0
        if_cs                                   ; 8EF4 90 09
            lda $90                             ; 8EF6 A5 90
            clc                                 ; 8EF8 18
            adc #$60                            ; 8EF9 69 60
            sta $90                             ; 8EFB 85 90
            inc $91                             ; 8EFD E6 91
        end_if
        lda     $91                             ; 8EFF A5 91
        and     #$0F                            ; 8F01 29 0F
        cmp     #$0A                            ; 8F03 C9 0A
        if_cs                                   ; 8F05 90 07
            lda $91                             ; 8F07 A5 91
            clc                                 ; 8F09 18
            adc #$06                            ; 8F0A 69 06
            sta $91                             ; 8F0C 85 91
        end_if
        lda     $91                             ; 8F0E A5 91
        and     #$F0                            ; 8F10 29 F0
        cmp     #$A0                            ; 8F12 C9 A0
        if_cs                                   ; 8F14 90 0B
            lda $91                             ; 8F16 A5 91
            clc                                 ; 8F18 18
            adc #$60                            ; 8F19 69 60
            lda #$99                            ; 8F1B A9 99
            sta $90                             ; 8F1D 85 90
            sta $91                             ; 8F1F 85 91
        end_if
        lda     $0723                           ; 8F21 AD 23 07
        bne     L8F47                           ; 8F24 D0 21
        lda     $90                             ; 8F26 A5 90
        cmp     #$00                            ; 8F28 C9 00
        beq     L8F32                           ; 8F2A F0 06
        and     #$0F                            ; 8F2C 29 0F
        cmp     #$00                            ; 8F2E C9 00
        bne     L8F47                           ; 8F30 D0 15
L8F32:  lda     $8A                             ; 8F32 A5 8A
        cmp     #$31                            ; 8F34 C9 31
        beq     L8F47                           ; 8F36 F0 0F
        inc     $8A                             ; 8F38 E6 8A
        lda     #$06                            ; 8F3A A9 06
        sta     $06F1                           ; 8F3C 8D F1 06
        lda     $52                             ; 8F3F A5 52
        ora     #$12                            ; 8F41 09 12
        ora     #$02                            ; 8F43 09 02
        sta     $52                             ; 8F45 85 52
L8F47:  lda     #$00                            ; 8F47 A9 00
        sta     $8F                             ; 8F49 85 8F
        lda     $52                             ; 8F4B A5 52
        ora     #$01                            ; 8F4D 09 01
        sta     $52                             ; 8F4F 85 52
        rts                                     ; 8F51 60
.endscope

; ----------------------------------------------------------------------------
R8F52:
.scope
        ldx     $86                             ; 8F52 A6 86
        ; A = #$78 - 8*x
        lda     LA474,x                         ; 8F54 BD 74 A4
        clc                                     ; 8F57 18
        adc     $85                             ; 8F58 65 85
        sta     $47                             ; 8F5A 85 47
        lda     $A6                             ; 8F5C A5 A6
        sec                                     ; 8F5E 38
        sbc     #$02                            ; 8F5F E9 02
        asl     a                               ; 8F61 0A
        asl     a                               ; 8F62 0A
        asl     a                               ; 8F63 0A
        asl     a                               ; 8F64 0A
        sta     $48                             ; 8F65 85 48
        lda     $A5                             ; 8F67 A5 A5
        asl     a                               ; 8F69 0A
        asl     a                               ; 8F6A 0A
        clc                                     ; 8F6B 18
        adc     $48                             ; 8F6C 65 48
        tax                                     ; 8F6E AA
        lda     #$00                            ; 8F6F A9 00
        sta     $49                             ; 8F71 85 49
        loop
            lda LA4DC,x                         ; 8F73 BD DC A4
            cmp #$63                            ; 8F76 C9 63
            beq break                           ; 8F78 F0 24
            clc                                 ; 8F7A 18
            adc $47                             ; 8F7B 65 47
            sta $57                             ; 8F7D 85 57
            cmp #$80                            ; 8F7F C9 80
            if_cc                               ; 8F81 B0 12
                lda LA50C,x                     ; 8F83 BD 0C A5
                clc                             ; 8F86 18
                sta $4A                         ; 8F87 85 4A
                ldy $49                         ; 8F89 A4 49
                lda $81,y                       ; 8F8B B9 81 00
                clc                             ; 8F8E 18
                adc $4A                         ; 8F8F 65 4A
                ldy #$00                        ; 8F91 A0 00
                sta ($57),y                     ; 8F93 91 57
            end_if
            inx                                 ; 8F95 E8
            inc $49                             ; 8F96 E6 49
            lda $49                             ; 8F98 A5 49
            cmp #$04                            ; 8F9A C9 04
        while_ne                                ; 8F9C D0 D5
        lda     $86                             ; 8F9E A5 86
        eor     #$0F                            ; 8FA0 49 0F
        sta     $80                             ; 8FA2 85 80
        rts                                     ; 8FA4 60
.endscope

; ----------------------------------------------------------------------------
R8FA5:
.scope
        lda     $031E                           ; 8FA5 AD 1E 03
        sta     $0732                           ; 8FA8 8D 32 07
        lda     $039E                           ; 8FAB AD 9E 03
        sta     $0733                           ; 8FAE 8D 33 07
        lda     $0316                           ; 8FB1 AD 16 03
        sta     $0734                           ; 8FB4 8D 34 07
        lda     $0396                           ; 8FB7 AD 96 03
        sta     $0735                           ; 8FBA 8D 35 07
        lda     $030B                           ; 8FBD AD 0B 03
        sta     $0736                           ; 8FC0 8D 36 07
        lda     $038B                           ; 8FC3 AD 8B 03
        sta     $0737                           ; 8FC6 8D 37 07
        rts                                     ; 8FC9 60
.endscope

; ----------------------------------------------------------------------------
R8FCA:
.scope
        lda     $0732                           ; 8FCA AD 32 07
        sta     $031E                           ; 8FCD 8D 1E 03
        lda     $0733                           ; 8FD0 AD 33 07
        sta     $039E                           ; 8FD3 8D 9E 03
        lda     $0734                           ; 8FD6 AD 34 07
        sta     $0316                           ; 8FD9 8D 16 03
        lda     $0735                           ; 8FDC AD 35 07
        sta     $0396                           ; 8FDF 8D 96 03
        lda     $0736                           ; 8FE2 AD 36 07
        sta     $030B                           ; 8FE5 8D 0B 03
        lda     $0737                           ; 8FE8 AD 37 07
        sta     $038B                           ; 8FEB 8D 8B 03
        rts                                     ; 8FEE 60
.endscope

; ----------------------------------------------------------------------------
; jump table vector 6
; enter top-level state 4
L8FEF:  lda     #$04                            ; 8FEF A9 04
        sta     $46                             ; 8FF1 85 46
        rts                                     ; 8FF3 60

; ----------------------------------------------------------------------------
R8FF4:
.scope
        lda     $0727                           ; 8FF4 AD 27 07
        cmp     #$01                            ; 8FF7 C9 01
        if_eq                                   ; 8FF9 D0 20
            ldx $AD                             ; 8FFB A6 AD
            lda LA21F,x                         ; 8FFD BD 1F A2
            tax                                 ; 9000 AA
            loop
                lda $8B                         ; 9001 A5 8B
                clc                             ; 9003 18
                adc $072A                       ; 9004 6D 2A 07
                sta $072A                       ; 9007 8D 2A 07
                inc $072A                       ; 900A EE 2A 07
                jsr R901C                       ; 900D 20 1C 90
                dex                             ; 9010 CA
            while_ne                            ; 9011 D0 EE
            lda $52                             ; 9013 A5 52
            ora #$04                            ; 9015 09 04
            sta $52                             ; 9017 85 52
            inc $AD                             ; 9019 E6 AD
        end_if
        rts                                     ; 901B 60
.endscope

; ----------------------------------------------------------------------------
R901C:
.scope
        lda     $0729                           ; 901C AD 29 07
        cmp     #$0A                            ; 901F C9 0A
        if_pl                                   ; 9021 30 09
            sec                                 ; 9023 38
            sbc #$0A                            ; 9024 E9 0A
            sta $0729                           ; 9026 8D 29 07
            inc $072A                           ; 9029 EE 2A 07
        end_if
        lda     $072A                           ; 902C AD 2A 07
        cmp     #$0A                            ; 902F C9 0A
        if_pl                                   ; 9031 30 09
            sec                                 ; 9033 38
            sbc #$0A                            ; 9034 E9 0A
            sta $072A                           ; 9036 8D 2A 07
            inc $072B                           ; 9039 EE 2B 07
        end_if
        lda     $072B                           ; 903C AD 2B 07
        cmp     #$0A                            ; 903F C9 0A
        if_pl                                   ; 9041 30 09
            sec                                 ; 9043 38
            sbc #$0A                            ; 9044 E9 0A
            sta $072B                           ; 9046 8D 2B 07
            inc $072C                           ; 9049 EE 2C 07
        end_if
        lda     $072C                           ; 904C AD 2C 07
        cmp     #$0A                            ; 904F C9 0A
        if_eq                                   ; 9051 D0 08
            lda #$00                            ; 9053 A9 00
            sta $072C                           ; 9055 8D 2C 07
            inc $072D                           ; 9058 EE 2D 07
        end_if
        lda     $072D                           ; 905B AD 2D 07
        cmp     #$0A                            ; 905E C9 0A
        if_eq                                   ; 9060 D0 08
            lda #$00                            ; 9062 A9 00
            sta $072D                           ; 9064 8D 2D 07
            inc $072E                           ; 9067 EE 2E 07
        end_if
        lda     $072E                           ; 906A AD 2E 07
        cmp     #$0A                            ; 906D C9 0A
        if_eq                                   ; 906F D0 03
            dec $072E                           ; 9071 CE 2E 07
        end_if
        rts                                     ; 9074 60
.endscope

; ----------------------------------------------------------------------------
; Copy $0300-$032F to $80-$AF
; $F5 -> $5B (controller 1 edge)
; $F7 -> $5C (controller 1 state)
; 0 -> $57
; 4 -> $58
R9075:
.scope
        ; copy $0300-$032F to $80-$AF
        ldx     #$00                            ; 9075 A2 00
        loop
            lda $0300,x                         ; 9077 BD 00 03
            sta $80,x                           ; 907A 95 80
            inx                                 ; 907C E8
            cpx #$30                            ; 907D E0 30
        while_ne                                ; 907F D0 F6
        lda     $F5                             ; 9081 A5 F5
        sta     $5B                             ; 9083 85 5B
        lda     $F7                             ; 9085 A5 F7
        sta     $5C                             ; 9087 85 5C
        lda     #$00                            ; 9089 A9 00
        sta     $57                             ; 908B 85 57
        lda     #$04                            ; 908D A9 04
        sta     $58                             ; 908F 85 58
        rts                                     ; 9091 60
.endscope

; ----------------------------------------------------------------------------
; Copy $0380-$038F to $80-$AF
; $F6 -> $5B (controller 2 edge)
; $F8 -> $5C (controller 2 state)
; 0 -> $57
; 5 -> $58
R9092:
.scope
        ldx     #$00                            ; 9092 A2 00
        loop
            lda $0380,x                         ; 9094 BD 80 03
            sta $80,x                           ; 9097 95 80
            inx                                 ; 9099 E8
            cpx #$30                            ; 909A E0 30
        while_ne                                ; 909C D0 F6
        lda     $F6                             ; 909E A5 F6
        sta     $5B                             ; 90A0 85 5B
        lda     $F8                             ; 90A2 A5 F8
        sta     $5C                             ; 90A4 85 5C
        lda     #$00                            ; 90A6 A9 00
        sta     $57                             ; 90A8 85 57
        lda     #$05                            ; 90AA A9 05
        sta     $58                             ; 90AC 85 58
        rts                                     ; 90AE 60
.endscope

; ----------------------------------------------------------------------------
; Copy $80-$AF to $0300-$032F
R90AF:
.scope
        ldx     #$00                            ; 90AF A2 00
        loop
            lda $80,x                           ; 90B1 B5 80
            sta $0300,x                         ; 90B3 9D 00 03
            inx                                 ; 90B6 E8
            cpx #$30                            ; 90B7 E0 30
        while_ne                                ; 90B9 D0 F6
        rts                                     ; 90BB 60
.endscope

; ----------------------------------------------------------------------------
; Copy $80-$AF to $0380-$03AF
R90BC:
.scope
        ldx     #$00                            ; 90BC A2 00
        loop
            lda $80,x                           ; 90BE B5 80
            sta $0380,x                         ; 90C0 9D 80 03
            inx                                 ; 90C3 E8
            cpx #$30                            ; 90C4 E0 30
        while_ne                                ; 90C6 D0 F6
        rts                                     ; 90C8 60
.endscope

; ----------------------------------------------------------------------------
R90C9:
.scope
        lda     #$FF                            ; 90C9 A9 FF
        ldx     #$04                            ; 90CB A2 04
        ldy     #$05                            ; 90CD A0 05
        jsr     RB894                           ; 90CF 20 94 B8
        rts                                     ; 90D2 60
.endscope

; ----------------------------------------------------------------------------
R90D3:
.scope
        ldx     $A6                             ; 90D3 A6 A6
        dex                                     ; 90D5 CA
        dex                                     ; 90D6 CA
        lda     $A5                             ; 90D7 A5 A5
        and     #$01                            ; 90D9 29 01
        bne     L90F0                           ; 90DB D0 13
        lda     LA455,x                         ; 90DD BD 55 A4
        clc                                     ; 90E0 18
        adc     $85                             ; 90E1 65 85
        bmi     L9131                           ; 90E3 30 4C
        lda     LA458,x                         ; 90E5 BD 58 A4
        clc                                     ; 90E8 18
        adc     $85                             ; 90E9 65 85
        bpl     L9131                           ; 90EB 10 44
        jmp     L90F8                           ; 90ED 4C F8 90

L90F0:  lda     LA45B,x                         ; 90F0 BD 5B A4
        clc                                     ; 90F3 18
        adc     $86                             ; 90F4 65 86
        bmi     L9131                           ; 90F6 30 39
L90F8:  lda     #$00                            ; 90F8 A9 00
        sta     $57                             ; 90FA 85 57
        ldx     $86                             ; 90FC A6 86
        lda     LA474,x                         ; 90FE BD 74 A4
        clc                                     ; 9101 18
        adc     $85                             ; 9102 65 85
        sta     $47                             ; 9104 85 47
        lda     $A6                             ; 9106 A5 A6
        sec                                     ; 9108 38
        sbc     #$02                            ; 9109 E9 02
        asl     a                               ; 910B 0A
        sta     $49                             ; 910C 85 49
        lda     $A5                             ; 910E A5 A5
        and     #$01                            ; 9110 29 01
        clc                                     ; 9112 18
        adc     $49                             ; 9113 65 49
        asl     a                               ; 9115 0A
        asl     a                               ; 9116 0A
        tax                                     ; 9117 AA
        lda     #$04                            ; 9118 A9 04
        sta     $48                             ; 911A 85 48
L911C:  lda     LA4C4,x                         ; 911C BD C4 A4
        clc                                     ; 911F 18
        adc     $47                             ; 9120 65 47
        tay                                     ; 9122 A8
        lda     ($57),y                         ; 9123 B1 57
        cmp     #$FF                            ; 9125 C9 FF
        bne     L9131                           ; 9127 D0 08
        inx                                     ; 9129 E8
        dec     $48                             ; 912A C6 48
        bne     L911C                           ; 912C D0 EE
        lda     #$00                            ; 912E A9 00
        rts                                     ; 9130 60
.endscope

; ----------------------------------------------------------------------------
L9131:  lda     #$FF                            ; 9131 A9 FF
        rts                                     ; 9133 60

; ----------------------------------------------------------------------------
; Called by NMI handler
R9134:
.scope
        lda     $0741                           ; 9134 AD 41 07
        if_eq                                   ; 9137 D0 04
            jsr RB7C7                           ; 9139 20 C7 B7
            rts                                 ; 913C 60
        end_if
        lda     $0741                           ; 913D AD 41 07
        cmp     #$FF                            ; 9140 C9 FF
        beq     L9190                           ; 9142 F0 4C
        jsr     RB7C7                           ; 9144 20 C7 B7
        lda     $F5                             ; 9147 A5 F5
        cmp     #$10                            ; 9149 C9 10
        beq     L918B                           ; 914B F0 3E
        lda     $69                             ; 914D A5 69
        if_ne                                   ; 914F F0 05
            dec $69                             ; 9151 C6 69
            jmp L917D                           ; 9153 4C 7D 91
        end_if
        ldx     #$00                            ; 9156 A2 00
        lda     ($36,x)                         ; 9158 A1 36
        sta     $47                             ; 915A 85 47
        jsr     R91C2                           ; 915C 20 C2 91
        lda     $70                             ; 915F A5 70
        eor     $47                             ; 9161 45 47
        and     $47                             ; 9163 25 47
        sta     $F5                             ; 9165 85 F5
        lda     $47                             ; 9167 A5 47
        sta     $70                             ; 9169 85 70
        ldx     #$00                            ; 916B A2 00
        lda     ($36,x)                         ; 916D A1 36
        sta     $69                             ; 916F 85 69
        jsr     R91C2                           ; 9171 20 C2 91
        lda     $37                             ; 9174 A5 37
        cmp     #$D2                            ; 9176 C9 D2
        beq     L9186                           ; 9178 F0 0C
        jmp     L9181                           ; 917A 4C 81 91

L917D:  lda     #$00                            ; 917D A9 00
        sta     $F5                             ; 917F 85 F5
L9181:  lda     $70                             ; 9181 A5 70
        sta     $F7                             ; 9183 85 F7
        rts                                     ; 9185 60

; enter top-level state 0.
L9186:  lda     #$00                            ; 9186 A9 00
        sta     $46                             ; 9188 85 46
        rts                                     ; 918A 60

L918B:  lda     #$D0                            ; 918B A9 D0
        sta     $37                             ; 918D 85 37
        rts                                     ; 918F 60
.endscope

; ----------------------------------------------------------------------------
L9190:
.scope
        jsr     RB7C7                           ; 9190 20 C7 B7
        lda     $F7                             ; 9193 A5 F7
        cmp     $70                             ; 9195 C5 70
        beq     L91B8                           ; 9197 F0 1F
        ldx     #$00                            ; 9199 A2 00
        lda     $70                             ; 919B A5 70
        sta     ($36,x)                         ; 919D 81 36
        jsr     R91C2                           ; 919F 20 C2 91
        lda     $69                             ; 91A2 A5 69
        sta     ($36,x)                         ; 91A4 81 36
        jsr     R91C2                           ; 91A6 20 C2 91
        lda     $37                             ; 91A9 A5 37
        cmp     #$D2                            ; 91AB C9 D2
        beq     L91BB                           ; 91AD F0 0C
        lda     $F7                             ; 91AF A5 F7
        sta     $70                             ; 91B1 85 70
        lda     #$00                            ; 91B3 A9 00
        sta     $69                             ; 91B5 85 69
        rts                                     ; 91B7 60
L91B8:  inc     $69                             ; 91B8 E6 69
        rts                                     ; 91BA 60
L91BB:  lda     #$00                            ; 91BB A9 00
        sta     $36                             ; 91BD 85 36
        ; enter top-level state 0.
        sta     $46                             ; 91BF 85 46
        rts                                     ; 91C1 60
.endscope

; ----------------------------------------------------------------------------
R91C2:
.scope
        lda     $36                             ; 91C2 A5 36
        clc                                     ; 91C4 18
        adc     #$01                            ; 91C5 69 01
        sta     $36                             ; 91C7 85 36
        lda     #$00                            ; 91C9 A9 00
        adc     $37                             ; 91CB 65 37
        sta     $37                             ; 91CD 85 37
        rts                                     ; 91CF 60
.endscope

; ----------------------------------------------------------------------------
R91D0:
.scope
        lda     #$B9                            ; 91D0 A9 B9
        sta     $48                             ; 91D2 85 48
        ldy     #$00                            ; 91D4 A0 00
        sty     $47                             ; 91D6 84 47
        sty     $49                             ; 91D8 84 49
        sty     $0740                           ; 91DA 8C 40 07
        loop
            loop
                lda ($47),y                     ; 91DD B1 47
                clc                             ; 91DF 18
                adc $49                         ; 91E0 65 49
                sta $49                         ; 91E2 85 49
                iny                             ; 91E4 C8
            while_ne                            ; 91E5 D0 F6
            inc $48                             ; 91E7 E6 48
            lda $48                             ; 91E9 A5 48
            cmp #$BE                            ; 91EB C9 BE
        while_ne                                ; 91ED D0 EE
        lda     $49                             ; 91EF A5 49
        cmp     #$C1                            ; 91F1 C9 C1
        if_ne                                   ; 91F3 F0 05
            lda #$FF                            ; 91F5 A9 FF
            sta $0740                           ; 91F7 8D 40 07
        end_if
        rts                                     ; 91FA 60
.endscope

; ----------------------------------------------------------------------------
L91FB:
.scope
        lda     $94                             ; 91FB A5 94
        if_ne                                   ; 91FD F0 09
            lda $80                             ; 91FF A5 80
            cmp #$FF                            ; 9201 C9 FF
            if_ne                               ; 9203 F0 03
                jmp L92DA                       ; 9205 4C DA 92
            end_if
        end_if

        lda     #$00                            ; 9208 A9 00
        sta     $59                             ; 920A 85 59
L920C:  lda     $59                             ; 920C A5 59
        sta     $5A                             ; 920E 85 5A
        lda     #$00                            ; 9210 A9 00
        sta     $47                             ; 9212 85 47
        ldy     $59                             ; 9214 A4 59
        lda     ($57),y                         ; 9216 B1 57
        sta     $48                             ; 9218 85 48
        cmp     #$F0                            ; 921A C9 F0
        if_cs                                   ; 921C 90 03
            jmp L92AD                           ; 921E 4C AD 92
        end_if

        lda     $48                             ; 9221 A5 48
        and     #$0F                            ; 9223 29 0F
        sta     $48                             ; 9225 85 48
L9227:  inc     $5A                             ; 9227 E6 5A
        lda     $5A                             ; 9229 A5 5A
        and     #$07                            ; 922B 29 07
        if_ne                                   ; 922D F0 0F
            ldy $5A                             ; 922F A4 5A
            lda ($57),y                         ; 9231 B1 57
            and #$0F                            ; 9233 29 0F
            cmp $48                             ; 9235 C5 48
            if_eq                               ; 9237 D0 05
                inc $47                         ; 9239 E6 47
                jmp L9227                       ; 923B 4C 27 92
            end_if
        end_if
        lda     $47                             ; 923E A5 47
        cmp     #$03                            ; 9240 C9 03
        if_pl                                   ; 9242 30 62
            inc $8F                             ; 9244 E6 8F
            sta $8E                             ; 9246 85 8E
            jsr R944B                           ; 9248 20 4B 94
            lda $A1                             ; 924B A5 A1
            clc                                 ; 924D 18
            adc $47                             ; 924E 65 47
            sta $A1                             ; 9250 85 A1
            inc $A1                             ; 9252 E6 A1
            lda $59                             ; 9254 A5 59
            and #$78                            ; 9256 29 78
            lsr a                               ; 9258 4A
            lsr a                               ; 9259 4A
            lsr a                               ; 925A 4A
            sta $95                             ; 925B 85 95
            lda $5A                             ; 925D A5 5A
            sta $49                             ; 925F 85 49
            lda $59                             ; 9261 A5 59
            sta $5A                             ; 9263 85 5A
            loop
                ldy $5A                         ; 9265 A4 5A
                lda ($57),y                     ; 9267 B1 57
                and #$F0                        ; 9269 29 F0
                cmp #$80                        ; 926B C9 80
                if_eq                           ; 926D D0 00
                end_if
                lda #$02                        ; 926F A9 02
                sta $06F1                       ; 9271 8D F1 06
                lda ($57),y                     ; 9274 B1 57
                and #$F0                        ; 9276 29 F0
                cmp #$D0                        ; 9278 C9 D0
                if_eq                           ; 927A D0 14
                    lda #$04                    ; 927C A9 04
                    sta $06F1                   ; 927E 8D F1 06
                    jsr R941A                   ; 9281 20 1A 94
                    lda #$10                    ; 9284 A9 10
                    ora $52                     ; 9286 05 52
                    sta $52                     ; 9288 85 52
                    lda $A4                     ; 928A A5 A4
                    if_eq                       ; 928C D0 02
                        inc $9E                 ; 928E E6 9E
                    end_if
                end_if
                lda ($57),y                     ; 9290 B1 57
                and #$0F                        ; 9292 29 0F
                ora #$B0                        ; 9294 09 B0
                sta ($57),y                     ; 9296 91 57
                inc $5A                         ; 9298 E6 5A
                ldy $5A                         ; 929A A4 5A
                cpy $49                         ; 929C C4 49
            while_ne                            ; 929E D0 C5
            inc $94                             ; 92A0 E6 94
            lda $49                             ; 92A2 A5 49
            sta $5A                             ; 92A4 85 5A
        end_if
        lda     $5A                             ; 92A6 A5 5A
        sta     $59                             ; 92A8 85 59
        jmp     L92AF                           ; 92AA 4C AF 92

L92AD:  inc     $59                             ; 92AD E6 59
L92AF:  lda     $59                             ; 92AF A5 59
        and     #$07                            ; 92B1 29 07
        if_ne                                   ; 92B3 F0 07
            cmp #$05                            ; 92B5 C9 05
            if_mi                               ; 92B7 10 03
                jmp L920C                       ; 92B9 4C 0C 92
            end_if
        end_if

        lda     $59                             ; 92BC A5 59
        cmp     #$80                            ; 92BE C9 80
        if_ne                                   ; 92C0 F0 16
            and #$07                            ; 92C2 29 07
            if_ne                               ; 92C4 F0 09
                lda $59                         ; 92C6 A5 59
                and #$78                        ; 92C8 29 78
                clc                             ; 92CA 18
                adc #$08                        ; 92CB 69 08
                sta $59                         ; 92CD 85 59
            end_if
            lda $59                             ; 92CF A5 59
            cmp #$80                            ; 92D1 C9 80
            if_ne                               ; 92D3 F0 03
                jmp L920C                       ; 92D5 4C 0C 92
            end_if
        end_if
        inc     $87                             ; 92D8 E6 87
L92DA:  rts                                     ; 92DA 60
.endscope ;L91FB

; ----------------------------------------------------------------------------
L92DB:
.scope
        ldy     #$7F                            ; 92DB A0 7F
        sty     $47                             ; 92DD 84 47
L92DF:  ldy     $47                             ; 92DF A4 47
        lda     ($57),y                         ; 92E1 B1 57
        and     #$F0                            ; 92E3 29 F0
        cmp     #$B0                            ; 92E5 C9 B0
        if_eq                                   ; 92E7 D0 09
            lda ($57),y                         ; 92E9 B1 57
            ora #$F0                            ; 92EB 09 F0
            sta ($57),y                         ; 92ED 91 57
            jmp L93F9                           ; 92EF 4C F9 93
        end_if
        cmp #$40                                ; 92F2 C9 40
        if_eq                                   ; 92F4 D0 1F
            lda $47                             ; 92F6 A5 47
            clc                                 ; 92F8 18
            adc #$08                            ; 92F9 69 08
            tay                                 ; 92FB A8
            lda ($57),y                         ; 92FC B1 57
            and #$F0                            ; 92FE 29 F0
            cmp #$90                            ; 9300 C9 90
            if_ne                                   ; 9302 F0 0E
                cmp #$50                        ; 9304 C9 50
                if_ne                           ; 9306 F0 0A
                    ldy $47                     ; 9308 A4 47
                    lda ($57),y                 ; 930A B1 57
                    and #$0F                    ; 930C 29 0F
                    ora #$80                    ; 930E 09 80
                    sta ($57),y                 ; 9310 91 57
                end_if
            end_if
            jmp L93F9                           ; 9312 4C F9 93
        end_if
        cmp     #$50                            ; 9315 C9 50
        if_eq                                   ; 9317 D0 1F
            lda $47                             ; 9319 A5 47
            sec                                 ; 931B 38
            sbc #$08                            ; 931C E9 08
            tay                                 ; 931E A8
            lda ($57),y                         ; 931F B1 57
            and #$F0                            ; 9321 29 F0
            cmp #$90                            ; 9323 C9 90
            if_ne                               ; 9325 F0 0E
                cmp #$40                        ; 9327 C9 40
                if_ne                           ; 9329 F0 0A
                    ldy $47                     ; 932B A4 47
                    lda ($57),y                 ; 932D B1 57
                    and #$0F                    ; 932F 29 0F
                    ora #$80                    ; 9331 09 80
                    sta ($57),y                 ; 9333 91 57
                end_if
            end_if
            jmp L93F9                           ; 9335 4C F9 93
        end_if
        cmp     #$60                            ; 9338 C9 60
        if_eq                                   ; 933A D0 1F
            lda $47                             ; 933C A5 47
            clc                                 ; 933E 18
            adc #$01                            ; 933F 69 01
            tay                                 ; 9341 A8
            lda ($57),y                         ; 9342 B1 57
            and #$F0                            ; 9344 29 F0
            cmp #$A0                            ; 9346 C9 A0
            if_ne                               ; 9348 F0 0E
                cmp #$70                        ; 934A C9 70
                if_ne                           ; 934C F0 0A
                    ldy $47                     ; 934E A4 47
                    lda ($57),y                 ; 9350 B1 57
                    and #$0F                    ; 9352 29 0F
                    ora #$80                    ; 9354 09 80
                    sta ($57),y                 ; 9356 91 57
                end_if
            end_if
            jmp L93F9                           ; 9358 4C F9 93
        end_if
        cmp     #$70                            ; 935B C9 70
        if_eq                                   ; 935D D0 1F
            lda $47                             ; 935F A5 47
            sec                                 ; 9361 38
            sbc #$01                            ; 9362 E9 01
            tay                                 ; 9364 A8
            lda ($57),y                         ; 9365 B1 57
            and #$F0                            ; 9367 29 F0
            cmp #$A0                            ; 9369 C9 A0
            if_ne                               ; 936B F0 0E
                cmp #$60                        ; 936D C9 60
                if_ne                           ; 936F F0 0A
                    ldy $47                     ; 9371 A4 47
                    lda ($57),y                 ; 9373 B1 57
                    and #$0F                    ; 9375 29 0F
                    ora #$80                    ; 9377 09 80
                    sta ($57),y                 ; 9379 91 57
                end_if
            end_if
            jmp L93F9                           ; 937B 4C F9 93
        end_if
        cmp     #$90                            ; 937E C9 90
        if_eq                                   ; 9380 D0 3B
            lda $47                             ; 9382 A5 47
            sec                                 ; 9384 38
            sbc #$08                            ; 9385 E9 08
            tay                                 ; 9387 A8
            lda ($57),y                         ; 9388 B1 57
            and #$F0                            ; 938A 29 F0
            cmp #$90                            ; 938C C9 90
            if_ne                               ; 938E F0 0E
                cmp #$40                        ; 9390 C9 40
                if_ne                           ; 9392 F0 0A
                    ldy $47                     ; 9394 A4 47
                    lda ($57),y                 ; 9396 B1 57
                    and #$0F                    ; 9398 29 0F
                    ora #$40                    ; 939A 09 40
                    sta ($57),y                 ; 939C 91 57
                end_if
            end_if
            lda $47                             ; 939E A5 47
            clc                                 ; 93A0 18
            adc #$08                            ; 93A1 69 08
            tay                                 ; 93A3 A8
            lda ($57),y                         ; 93A4 B1 57
            and #$F0                            ; 93A6 29 F0
            cmp #$90                            ; 93A8 C9 90
            if_ne                               ; 93AA F0 0E
                cmp #$50                        ; 93AC C9 50
                if_ne                           ; 93AE F0 0A
                    ldy $47                     ; 93B0 A4 47
                    lda ($57),y                 ; 93B2 B1 57
                    and #$0F                    ; 93B4 29 0F
                    ora #$50                    ; 93B6 09 50
                    sta ($57),y                 ; 93B8 91 57
                end_if
            end_if
            jmp L93F9                           ; 93BA 4C F9 93
        end_if
        cmp     #$A0                            ; 93BD C9 A0
        if_eq                                   ; 93BF D0 38
            lda $47                             ; 93C1 A5 47
            sec                                 ; 93C3 38
            sbc #$01                            ; 93C4 E9 01
            tay                                 ; 93C6 A8
            lda ($57),y                         ; 93C7 B1 57
            and #$F0                            ; 93C9 29 F0
            cmp #$A0                            ; 93CB C9 A0
            if_ne                               ; 93CD F0 0E
                cmp #$60                        ; 93CF C9 60
                if_ne                           ; 93D1 F0 0A
                    ldy $47                     ; 93D3 A4 47
                    lda ($57),y                 ; 93D5 B1 57
                    and #$0F                    ; 93D7 29 0F
                    ora #$60                    ; 93D9 09 60
                    sta ($57),y                 ; 93DB 91 57
                end_if
            end_if
            lda $47                             ; 93DD A5 47
            clc                                 ; 93DF 18
            adc #$01                            ; 93E0 69 01
            tay                                 ; 93E2 A8
            lda ($57),y                         ; 93E3 B1 57
            and #$F0                            ; 93E5 29 F0
            cmp #$A0                            ; 93E7 C9 A0
            if_ne                               ; 93E9 F0 0E
                cmp #$70                        ; 93EB C9 70
                if_ne                           ; 93ED F0 0A
                    ldy $47                     ; 93EF A4 47
                    lda ($57),y                 ; 93F1 B1 57
                    and #$0F                    ; 93F3 29 0F
                    ora #$70                    ; 93F5 09 70
                    sta ($57),y                 ; 93F7 91 57
                end_if
            end_if
        end_if
L93F9:  dec     $47                             ; 93F9 C6 47
        lda     $47                             ; 93FB A5 47
        cmp     #$FF                            ; 93FD C9 FF
        if_ne                                   ; 93FF F0 03
            jmp L92DF                           ; 9401 4C DF 92
        end_if
        inc     $87                             ; 9404 E6 87
        lda     #$0F                            ; 9406 A9 0F
        sta     $80                             ; 9408 85 80
        lda     $94                             ; 940A A5 94
        if_ne                                   ; 940C F0 04
            lda #$01                            ; 940E A9 01
            sta $87                             ; 9410 85 87
        end_if
        rts                                     ; 9412 60
.endscope ;L92DB

; ----------------------------------------------------------------------------
L9413:
        lda     #$00                            ; 9413 A9 00
        sta     $94                             ; 9415 85 94
        inc     $87                             ; 9417 E6 87
        rts                                     ; 9419 60

; ----------------------------------------------------------------------------
R941A:
.scope
        lda     ($57),y                         ; 941A B1 57
        and     #$0F                            ; 941C 29 0F
        tax                                     ; 941E AA
        lda     #$01                            ; 941F A9 01
        sta     $75,x                           ; 9421 95 75
        lda     #$00                            ; 9423 A9 00
        sta     $78,x                           ; 9425 95 78
        lda     $72,x                           ; 9427 B5 72
        sec                                     ; 9429 38
        sbc     #$01                            ; 942A E9 01
        sta     $72,x                           ; 942C 95 72
        jsr     R8FF4                           ; 942E 20 F4 8F
        lda     $A4                             ; 9431 A5 A4
        if_ne                                   ; 9433 F0 11
            dec $A4                             ; 9435 C6 A4
            lda $A4                             ; 9437 A5 A4
            and #$0F                            ; 9439 29 0F
            cmp #$0F                            ; 943B C9 0F
            if_eq                               ; 943D D0 07
                lda $A4                         ; 943F A5 A4
                sec                             ; 9441 38
                sbc #$06                        ; 9442 E9 06
                sta $A4                         ; 9444 85 A4
            end_if
        end_if
        lda     #$0F                            ; 9446 A9 0F
        sta     $80                             ; 9448 85 80
        rts                                     ; 944A 60
.endscope

; ----------------------------------------------------------------------------
R944B:
.scope
        lda     $8F                             ; 944B A5 8F
        if_ne                                   ; 944D F0 0A
            cmp #$05                            ; 944F C9 05
            if_cc                               ; 9451 B0 06
                tax                             ; 9453 AA
                dex                             ; 9454 CA
                lda $48                         ; 9455 A5 48
                sta $A9,x                       ; 9457 95 A9
            end_if
        end_if
        rts                                     ; 9459 60
.endscope

; ----------------------------------------------------------------------------
; unreachable?
        lda     $8F                             ; 945A A5 8F
        cmp     #$02                            ; 945C C9 02
        if_eq                                   ; 945E D0 08
            lda $58                             ; 9460 A5 58
            sec                                 ; 9462 38
            sbc #$03                            ; 9463 E9 03
            sta $06F4                           ; 9465 8D F4 06
        end_if
        rts                                     ; 9468 60

; ----------------------------------------------------------------------------
L9469:
.scope
        lda     #$00                            ; 9469 A9 00
        sta     $59                             ; 946B 85 59
L946D:  lda     $59                             ; 946D A5 59
        sta     $5A                             ; 946F 85 5A
        lda     #$00                            ; 9471 A9 00
        sta     $47                             ; 9473 85 47
        ldy     $59                             ; 9475 A4 59
        lda     ($57),y                         ; 9477 B1 57
        sta     $48                             ; 9479 85 48
        cmp     #$F0                            ; 947B C9 F0
        if_cs                                   ; 947D 90 03
            jmp L9510                           ; 947F 4C 10 95
        end_if
        lda     $48                             ; 9482 A5 48
        and     #$0F                            ; 9484 29 0F
        sta     $48                             ; 9486 85 48
;TODO: some kind of forever/break control structure?
L9488:  lda     $5A                             ; 9488 A5 5A
        clc                                     ; 948A 18
        adc     #$08                            ; 948B 69 08
        sta     $5A                             ; 948D 85 5A
        lda     $5A                             ; 948F A5 5A
        and     #$F8                            ; 9491 29 F8
        if_ne                                   ; 9493 F0 0F
            ldy $5A                             ; 9495 A4 5A
            lda ($57),y                         ; 9497 B1 57
            and #$0F                            ; 9499 29 0F
            cmp $48                             ; 949B C5 48
            if_eq                               ; 949D D0 05
                inc $47                         ; 949F E6 47
                jmp L9488                       ; 94A1 4C 88 94
            end_if
        end_if

        lda     $47                             ; 94A4 A5 47
        cmp     #$03                            ; 94A6 C9 03
        if_pl                                   ; 94A8 30 5F
            inc $8F                             ; 94AA E6 8F
            sta $8E                             ; 94AC 85 8E
            jsr R944B                           ; 94AE 20 4B 94
            lda $A1                             ; 94B1 A5 A1
            clc                                 ; 94B3 18
            adc $47                             ; 94B4 65 47
            sta $A1                             ; 94B6 85 A1
            inc $A1                             ; 94B8 E6 A1
            lda $59                             ; 94BA A5 59
            and #$78                            ; 94BC 29 78
            lsr a                               ; 94BE 4A
            lsr a                               ; 94BF 4A
            lsr a                               ; 94C0 4A
            sta $95                             ; 94C1 85 95
            lda $5A                             ; 94C3 A5 5A
            sta $49                             ; 94C5 85 49
            lda $59                             ; 94C7 A5 59
            sta $5A                             ; 94C9 85 5A
            loop
                lda #$02                        ; 94CB A9 02
                sta $06F1                       ; 94CD 8D F1 06
                ldy $5A                         ; 94D0 A4 5A
                lda ($57),y                     ; 94D2 B1 57
                and #$F0                        ; 94D4 29 F0
                cmp #$D0                        ; 94D6 C9 D0
                if_eq                           ; 94D8 D0 14
                    lda #$04                    ; 94DA A9 04
                    sta $06F1                   ; 94DC 8D F1 06
                    jsr R941A                   ; 94DF 20 1A 94
                    lda #$10                    ; 94E2 A9 10
                    ora $52                     ; 94E4 05 52
                    sta $52                     ; 94E6 85 52
                    lda $A4                     ; 94E8 A5 A4
                    if_eq                       ; 94EA D0 02
                        inc $9E                 ; 94EC E6 9E
                    end_if
                end_if
                lda ($57),y                     ; 94EE B1 57
                and #$0F                        ; 94F0 29 0F
                ora #$B0                        ; 94F2 09 B0
                sta ($57),y                     ; 94F4 91 57
                lda $5A                         ; 94F6 A5 5A
                clc                             ; 94F8 18
                adc #$08                        ; 94F9 69 08
                sta $5A                         ; 94FB 85 5A
                ldy $5A                         ; 94FD A4 5A
                cpy $49                         ; 94FF C4 49
            while_ne                            ; 9501 D0 C8
            inc $94                             ; 9503 E6 94
            lda $49                             ; 9505 A5 49
            sta $5A                             ; 9507 85 5A
        end_if
        lda     $5A                             ; 9509 A5 5A
        sta     $59                             ; 950B 85 59
        jmp     L9517                           ; 950D 4C 17 95

L9510:  lda     $59                             ; 9510 A5 59
        clc                                     ; 9512 18
        adc     #$08                            ; 9513 69 08
        sta     $59                             ; 9515 85 59
L9517:  lda     $59                             ; 9517 A5 59
        cmp     #$68                            ; 9519 C9 68
        if_cc                                   ; 951B B0 03
            jmp L946D                           ; 951D 4C 6D 94
        end_if
        inc     $59                             ; 9520 E6 59
        lda     $59                             ; 9522 A5 59
        and     #$07                            ; 9524 29 07
        sta     $59                             ; 9526 85 59
        lda     $59                             ; 9528 A5 59
        if_ne                                   ; 952A F0 03
            jmp L946D                           ; 952C 4C 6D 94
        end_if
        inc     $87                             ; 952F E6 87
        rts                                     ; 9531 60
.endscope ;L9469

; ----------------------------------------------------------------------------
; jump table vector 5
L9532:
.scope
        lda     #$00                            ; 9532 A9 00
        sta     $54                             ; 9534 85 54
        sta     $0732                           ; 9536 8D 32 07
        lda     #$04                            ; 9539 A9 04
        sta     $58                             ; 953B 85 58
        lda     $0309                           ; 953D AD 09 03
        if_eq                                   ; 9540 D0 06
            inc $031E                           ; 9542 EE 1E 03
        else                                    ; 9545 4C 56 95
            lda $0727                           ; 9548 AD 27 07
            cmp #$01                            ; 954B C9 01
            beq L9585                           ; 954D F0 36
            jsr R96C0                           ; 954F 20 C0 96
            lda #$01                            ; 9552 A9 01
            sta $61                             ; 9554 85 61
        end_if
        lda     $80                             ; 9556 A5 80
        sta     $0300                           ; 9558 8D 00 03
        lda     #$05                            ; 955B A9 05
        sta     $58                             ; 955D 85 58
        lda     $0389                           ; 955F AD 89 03
        if_eq                                   ; 9562 D0 06
            inc $039E                           ; 9564 EE 9E 03
        else                                    ; 9567 4C 80 95
            lda $0309                           ; 956A AD 09 03
            if_ne                               ; 956D F0 0A
                jsr R9682                       ; 956F 20 82 96
                lda #$00                        ; 9572 A9 00
                sta $61                         ; 9574 85 61
            else                                ; 9576 4C 80 95
                jsr R96C0                       ; 9579 20 C0 96
                lda #$02                        ; 957C A9 02
                sta $61                         ; 957E 85 61
            end_if
        end_if
        lda     $80                             ; 9580 A5 80
        sta     $0380                           ; 9582 8D 80 03
L9585:
        ; enter top-level state 7.
        lda     #$07                            ; 9585 A9 07
        sta     $46                             ; 9587 85 46
        rts                                     ; 9589 60
.endscope

; ----------------------------------------------------------------------------
; jump table vector 7
L958A:
.scope
        lda     #$40                            ; 958A A9 40
        jsr     R9701                           ; 958C 20 01 97
        lda     #$80                            ; 958F A9 80
        ora     $52                             ; 9591 05 52
        sta     $52                             ; 9593 85 52
        lda     $0727                           ; 9595 AD 27 07
        cmp     #$02                            ; 9598 C9 02
        if_eq                                   ; 959A D0 2D
            lda $031E                           ; 959C AD 1E 03
            cmp $0725                           ; 959F CD 25 07
            if_ne                               ; 95A2 F0 14
                lda $039E                       ; 95A4 AD 9E 03
                cmp $0725                       ; 95A7 CD 25 07
                if_ne                           ; 95AA F0 0C
                    ldx $0731                   ; 95AC AE 31 07
                    lda LA261,x                 ; 95AF BD 61 A2
                    sta $06F5                   ; 95B2 8D F5 06
                    jmp L9646                   ; 95B5 4C 46 96
                end_if
            end_if
            lda #$05                            ; 95B8 A9 05
            sta $06F5                           ; 95BA 8D F5 06
            lda $0727                           ; 95BD AD 27 07
            cmp #$02                            ; 95C0 C9 02
            if_eq                               ; 95C2 D0 05
                lda #$0B                        ; 95C4 A9 0B
                sta $06F5                       ; 95C6 8D F5 06
            end_if
        end_if
        lda     #$80                            ; 95C9 A9 80
        jsr     R9701                           ; 95CB 20 01 97
        lda     #$FF                            ; 95CE A9 FF
        ldx     #$04                            ; 95D0 A2 04
        ldy     #$05                            ; 95D2 A0 05
        jsr     RB894                           ; 95D4 20 94 B8
        lda     #$04                            ; 95D7 A9 04
        sta     $58                             ; 95D9 85 58
        jsr     R96D4                           ; 95DB 20 D4 96
        lda     #$0F                            ; 95DE A9 0F
        sta     $0300                           ; 95E0 8D 00 03
        lda     #$05                            ; 95E3 A9 05
        sta     $58                             ; 95E5 85 58
        jsr     R96D4                           ; 95E7 20 D4 96
        lda     #$0F                            ; 95EA A9 0F
        sta     $0380                           ; 95EC 8D 80 03
        lda     #$0F                            ; 95EF A9 0F
        sta     $80                             ; 95F1 85 80
        lda     #$00                            ; 95F3 A9 00
        sta     $61                             ; 95F5 85 61
        lda     #$01                            ; 95F7 A9 01
        sta     $55                             ; 95F9 85 55
        lda     $031E                           ; 95FB AD 1E 03
        cmp     $0725                           ; 95FE CD 25 07
        if_ne                                   ; 9601 F0 04
            lda #$02                            ; 9603 A9 02
            sta $55                             ; 9605 85 55
        end_if
        loop
            lda $43                             ; 9607 A5 43
            and #$08                            ; 9609 29 08
            if_ne                               ; 960B F0 13
                lda #$6D                        ; 960D A9 6D
                sta $44                         ; 960F 85 44
                ldx $0727                       ; 9611 AE 27 07
                lda LA105,x                     ; 9614 BD 05 A1
                sta $45                         ; 9617 85 45
                lda #$10                        ; 9619 A9 10
                sta $53                         ; 961B 85 53
                jsr R88F6                       ; 961D 20 F6 88
            end_if
            jsr RB654                           ; 9620 20 54 B6
            lda $F5                             ; 9623 A5 F5
            and #$10                            ; 9625 29 10
        while_eq                                ; 9627 F0 DE
        lda     #$FE                            ; 9629 A9 FE
        ldx     #$04                            ; 962B A2 04
        ldy     #$05                            ; 962D A0 05
        jsr     RB894                           ; 962F 20 94 B8
        ; enter top-level state 1.
        lda     #$01                            ; 9632 A9 01
        sta     $46                             ; 9634 85 46
        lda     #$00                            ; 9636 A9 00
        sta     $89                             ; 9638 85 89
        jsr     R9721                           ; 963A 20 21 97
        lda     #$00                            ; 963D A9 00
        sta     $F5                             ; 963F 85 F5
        lda     #$FF                            ; 9641 A9 FF
        sta     $54                             ; 9643 85 54
        rts                                     ; 9645 60

L9646:  jsr     R96ED                           ; 9646 20 ED 96
        loop
            lda $43                             ; 9649 A5 43
            and #$08                            ; 964B 29 08
            if_ne                               ; 964D F0 13
                lda #$6D                        ; 964F A9 6D
                sta $44                         ; 9651 85 44
                ldx $0727                       ; 9653 AE 27 07
                lda LA105,x                     ; 9656 BD 05 A1
                sta $45                         ; 9659 85 45
                lda #$10                        ; 965B A9 10
                sta $53                         ; 965D 85 53
                jsr R88F6                       ; 965F 20 F6 88
            end_if
            jsr RB654                           ; 9662 20 54 B6
            lda $F5                             ; 9665 A5 F5
            cmp #$10                            ; 9667 C9 10
        while_ne                                ; 9669 D0 DE
        jsr     R90C9                           ; 966B 20 C9 90
        jsr     R96ED                           ; 966E 20 ED 96
        ; enter top-level state 3.
        lda     #$03                            ; 9671 A9 03
        sta     $46                             ; 9673 85 46
        lda     #$00                            ; 9675 A9 00
        sta     $89                             ; 9677 85 89
        lda     #$00                            ; 9679 A9 00
        sta     $F5                             ; 967B 85 F5
        lda     #$FF                            ; 967D A9 FF
        sta     $54                             ; 967F 85 54
        rts                                     ; 9681 60
.endscope

; ----------------------------------------------------------------------------
R9682:
.scope
        lda     #$04                            ; 9682 A9 04
        sta     $58                             ; 9684 85 58
        jsr     R9691                           ; 9686 20 91 96
        lda     #$05                            ; 9689 A9 05
        sta     $58                             ; 968B 85 58
        jsr     R9691                           ; 968D 20 91 96
        rts                                     ; 9690 60
.endscope

; ----------------------------------------------------------------------------
R9691:
.scope
        lda     #$00                            ; 9691 A9 00
        sta     $57                             ; 9693 85 57
        ldy     #$28                            ; 9695 A0 28
        loop
            tya                                 ; 9697 98
            sec                                 ; 9698 38
            sbc #$28                            ; 9699 E9 28
            tax                                 ; 969B AA
            lda LA80F,x                         ; 969C BD 0F A8
            beq break                           ; 969F F0 06
            sta ($57),y                         ; 96A1 91 57
            iny                                 ; 96A3 C8
        forever                                 ; 96A4 4C 97 96
        lda     #$0F                            ; 96A7 A9 0F
        sta     $80                             ; 96A9 85 80
        rts                                     ; 96AB 60
.endscope

; ----------------------------------------------------------------------------
; unreachable?
.scope
        lda     #$00                            ; 96AC A9 00
        sta     $57                             ; 96AE 85 57
        ldy     #$7F                            ; 96B0 A0 7F
        loop
            lda #$FF                            ; 96B2 A9 FF
            sta ($57),y                         ; 96B4 91 57
            dey                                 ; 96B6 88
            cpy #$FF                            ; 96B7 C0 FF
        while_ne                                ; 96B9 D0 F7
        lda     #$0F                            ; 96BB A9 0F
        sta     $80                             ; 96BD 85 80
        rts                                     ; 96BF 60
.endscope

; ----------------------------------------------------------------------------
R96C0:
.scope
        lda     #$00                            ; 96C0 A9 00
        sta     $57                             ; 96C2 85 57
        ldy     #$40                            ; 96C4 A0 40
        loop
            lda #$FF                            ; 96C6 A9 FF
            sta ($57),y                         ; 96C8 91 57
            iny                                 ; 96CA C8
            cpy #$80                            ; 96CB C0 80
        while_ne                                ; 96CD D0 F7
        lda     #$0F                            ; 96CF A9 0F
        sta     $80                             ; 96D1 85 80
        rts                                     ; 96D3 60
.endscope

; ----------------------------------------------------------------------------
R96D4:
.scope
        lda     #$00                            ; 96D4 A9 00
        sta     $57                             ; 96D6 85 57
        ldx     #$00                            ; 96D8 A2 00
        ldy     #$10                            ; 96DA A0 10
        loop
            lda LA838,x                         ; 96DC BD 38 A8
            beq break                           ; 96DF F0 07
            sta ($57),y                         ; 96E1 91 57
            inx                                 ; 96E3 E8
            iny                                 ; 96E4 C8
        forever                                 ; 96E5 4C DC 96
        lda     #$0F                            ; 96E8 A9 0F
        sta     $80                             ; 96EA 85 80
        rts                                     ; 96EC 60
.endscope

; ----------------------------------------------------------------------------
R96ED:
.scope
        lda     #$0F                            ; 96ED A9 0F
        sta     $0300                           ; 96EF 8D 00 03
        sta     $0380                           ; 96F2 8D 80 03
        loop
           jsr RB654                           ; 96F5 20 54 B6
           lda $0300                           ; 96F8 AD 00 03
           cmp #$FF                            ; 96FB C9 FF
        while_ne                                ; 96FD D0 F6
        rts                                     ; 96FF 60
.endscope

; ----------------------------------------------------------------------------
; jump table entry
L9700:  rts                                     ; 9700 60

; ----------------------------------------------------------------------------
R9701:
.scope
        sta     $51                             ; 9701 85 51
        lda     #$01                            ; 9703 A9 01
        sta     $5D                             ; 9705 85 5D
        loop
            jsr RB654                           ; 9707 20 54 B6
            dec $51                             ; 970A C6 51
            lda $51                             ; 970C A5 51
        while_ne                                ; 970E D0 F7
        rts                                     ; 9710 60
.endscope

; ----------------------------------------------------------------------------
; unused?
        sta     $51                             ; 9711 85 51
        lda     #$00                            ; 9713 A9 00
        sta     $5D                             ; 9715 85 5D
        loop
            jsr RB654                           ; 9717 20 54 B6
            dec $51                             ; 971A C6 51
            lda $51                             ; 971C A5 51
        while_ne                                ; 971E D0 F7
        rts                                     ; 9720 60

; ----------------------------------------------------------------------------
R9721:
.scope
        lda $0705                               ; 9721 AD 05 07
        cmp $072E                               ; 9724 CD 2E 07
        beq L972D                               ; 9727 F0 04
        bcs L978D ;exit                         ; 9729 B0 62
        bcc L9769 ;always taken                 ; 972B 90 3C
L972D:  iny                                     ; 972D C8
        lda $0704                               ; 972E AD 04 07
        cmp $072D                               ; 9731 CD 2D 07
        beq L973A                               ; 9734 F0 04
        bcs L978D                               ; 9736 B0 55
        bcc L9769 ;always taken                 ; 9738 90 2F
L973A:  iny                                     ; 973A C8
        lda $0703                               ; 973B AD 03 07
        cmp $072C                               ; 973E CD 2C 07
        beq L9747                               ; 9741 F0 04
        bcs L978D                               ; 9743 B0 48
        bcc L9769 ;always taken                 ; 9745 90 22
L9747:  lda $0702                               ; 9747 AD 02 07
        cmp $072B                               ; 974A CD 2B 07
        beq L9753                               ; 974D F0 04
        bcs L978D                               ; 974F B0 3C
        bcc L9769 ;always taken                 ; 9751 90 16
L9753:  iny                                     ; 9753 C8
        lda $0701                               ; 9754 AD 01 07
        cmp $072A                               ; 9757 CD 2A 07
        beq L9760                               ; 975A F0 04
        bcs L978D                               ; 975C B0 2F
        bcc L9769 ;always taken                 ; 975E 90 09
L9760:  iny                                     ; 9760 C8
        lda $0700                               ; 9761 AD 00 07
        cmp $0729                               ; 9764 CD 29 07
        bcs L978D                               ; 9767 B0 24
L9769:  lda $072E                               ; 9769 AD 2E 07
        sta $0705                               ; 976C 8D 05 07
        lda $072D                               ; 976F AD 2D 07
        sta $0704                               ; 9772 8D 04 07
        lda $072C                               ; 9775 AD 2C 07
        sta $0703                               ; 9778 8D 03 07
        lda $072B                               ; 977B AD 2B 07
        sta $0702                               ; 977E 8D 02 07
        lda $072A                               ; 9781 AD 2A 07
        sta $0701                               ; 9784 8D 01 07
        lda $0729                               ; 9787 AD 29 07
        sta $0700                               ; 978A 8D 00 07
L978D:  rts                                     ; 978D 60
.endscope

; ----------------------------------------------------------------------------
R978E:
.scope
        lda     $0741                           ; 978E AD 41 07
        bne     L97F7                           ; 9791 D0 64
        lda     $F7                             ; 9793 A5 F7
        cmp     #$F0                            ; 9795 C9 F0
        bne     L97A3                           ; 9797 D0 0A
L9799:
        ; enter top-level state 0.
        lda     #$00                            ; 9799 A9 00
        sta     $46                             ; 979B 85 46
        sta     L068D                           ; 979D 8D 8D 06
        jmp     L97F6                           ; 97A0 4C F6 97

L97A3:  lda     $54                             ; 97A3 A5 54
        beq     L97F6                           ; 97A5 F0 4F
        lda     $F5                             ; 97A7 A5 F5
        and     #$10                            ; 97A9 29 10
        beq     L97F6                           ; 97AB F0 49
        lda     #$05                            ; 97AD A9 05
        sta     L068D                           ; 97AF 8D 8D 06
        lda     #$00                            ; 97B2 A9 00
        sta     $5D                             ; 97B4 85 5D
        jsr     RB654                           ; 97B6 20 54 B6
        lda     #$16                            ; 97B9 A9 16
        sta     L2001                           ; 97BB 8D 01 20
        lda     #$FF                            ; 97BE A9 FF
        ldx     #$02                            ; 97C0 A2 02
        ldy     #$02                            ; 97C2 A0 02
        jsr     RB894                           ; 97C4 20 94 B8
L97C7:  lda     #$70                            ; 97C7 A9 70
        sta     $44                             ; 97C9 85 44
        lda     #$77                            ; 97CB A9 77
        sta     $45                             ; 97CD 85 45
        lda     #$00                            ; 97CF A9 00
        sta     $53                             ; 97D1 85 53
        jsr     R88F6                           ; 97D3 20 F6 88
        lda     $F5                             ; 97D6 A5 F5
        cmp     #$10                            ; 97D8 C9 10
        beq     L97E8                           ; 97DA F0 0C
        lda     $F7                             ; 97DC A5 F7
        cmp     #$F0                            ; 97DE C9 F0
        beq     L9799                           ; 97E0 F0 B7
        jsr     RB654                           ; 97E2 20 54 B6
        jmp     L97C7                           ; 97E5 4C C7 97

L97E8:  lda     #$FF                            ; 97E8 A9 FF
        sta     $5D                             ; 97EA 85 5D
        lda     #$1E                            ; 97EC A9 1E
        sta     L2001                           ; 97EE 8D 01 20
        lda     #$00                            ; 97F1 A9 00
        sta     L068D                           ; 97F3 8D 8D 06
L97F6:  rts                                     ; 97F6 60

L97F7:  lda     $F5                             ; 97F7 A5 F5
        cmp     #$10                            ; 97F9 C9 10
        if_eq                                   ; 97FB D0 1E
            lda #$00                            ; 97FD A9 00
            sta $36                             ; 97FF 85 36
            ; enter top-level state 0.
            sta $46                             ; 9801 85 46
            lda $073C                           ; 9803 AD 3C 07
            sta $0316                           ; 9806 8D 16 03
            lda $073D                           ; 9809 AD 3D 07
            sta $030B                           ; 980C 8D 0B 03
            lda $073E                           ; 980F AD 3E 07
            sta $0727                           ; 9812 8D 27 07
            lda $073F                           ; 9815 AD 3F 07
            sta $0731                           ; 9818 8D 31 07
        end_if
        rts                                     ; 981B 60
.endscope

; ----------------------------------------------------------------------------
; jump table vector 0
L981C:
.scope
        lda     $0741                           ; 981C AD 41 07
        cmp     #$FE                            ; 981F C9 FE
        if_eq                                   ; 9821 D0 1E
            lda #$00                            ; 9823 A9 00
            sta $36                             ; 9825 85 36
            ; enter top-level state 0.
            sta $46                             ; 9827 85 46
            lda $073C                           ; 9829 AD 3C 07
            sta $0316                           ; 982C 8D 16 03
            lda $073D                           ; 982F AD 3D 07
            sta $030B                           ; 9832 8D 0B 03
            lda $073E                           ; 9835 AD 3E 07
            sta $0727                           ; 9838 8D 27 07
            lda $073F                           ; 983B AD 3F 07
            sta $0731                           ; 983E 8D 31 07
        end_if
        lda     #$06                            ; 9841 A9 06
        sta     $06F5                           ; 9843 8D F5 06
        lda     #$02                            ; 9846 A9 02
        jsr     RB8E0                           ; 9848 20 E0 B8
        lda     #$00                            ; 984B A9 00
        sta     $5D                             ; 984D 85 5D
        sta     $52                             ; 984F 85 52
        sta     $0741                           ; 9851 8D 41 07
        sta     $51                             ; 9854 85 51
        lda     #$FF                            ; 9856 A9 FF
        sta     $80                             ; 9858 85 80
        sta     $0300                           ; 985A 8D 00 03
        sta     $0380                           ; 985D 8D 80 03
        lda     #$00                            ; 9860 A9 00
        sta     $36                             ; 9862 85 36
        lda     #$D0                            ; 9864 A9 D0
        sta     $37                             ; 9866 85 37
        jsr     RB67C                           ; 9868 20 7C B6
        jsr     RB6A2                           ; 986B 20 A2 B6
        jsr     RB6C2                           ; 986E 20 C2 B6
        .word   LB91C                           ; 9871 1C B9
        lda     #$81                            ; 9873 A9 81
        sta     $66                             ; 9875 85 66
        jsr     R91D0                           ; 9877 20 D0 91
        jsr     RB695                           ; 987A 20 95 B6
        jsr     RB689                           ; 987D 20 89 B6
        lda     #$00                            ; 9880 A9 00
        sta     $54                             ; 9882 85 54
        lda     #$FF                            ; 9884 A9 FF
        sta     $80                             ; 9886 85 80
L9888:  lda     $43                             ; 9888 A5 43
        and     #$10                            ; 988A 29 10
        lsr     a                               ; 988C 4A
        lsr     a                               ; 988D 4A
        lsr     a                               ; 988E 4A
        lsr     a                               ; 988F 4A
        clc                                     ; 9890 18
        adc     #$03                            ; 9891 69 03
        jsr     RB8F4                           ; 9893 20 F4 B8
        lda     $F5                             ; 9896 A5 F5
        cmp     #$08                            ; 9898 C9 08
        if_eq                                   ; 989A D0 15
            lda $0727                           ; 989C AD 27 07
            cmp #$01                            ; 989F C9 01
            if_ne                               ; 98A1 F0 0E
                lda #$01                        ; 98A3 A9 01
                sta $06F1                       ; 98A5 8D F1 06
                lda #$01                        ; 98A8 A9 01
                sta $0727                       ; 98AA 8D 27 07
                lda #$00                        ; 98AD A9 00
                sta $51                         ; 98AF 85 51
            end_if
        end_if
        lda     $F5                             ; 98B1 A5 F5
        cmp     #$04                            ; 98B3 C9 04
        if_eq                                   ; 98B5 D0 15
            lda $0727                           ; 98B7 AD 27 07
            cmp #$02                            ; 98BA C9 02
            if_ne                               ; 98BC F0 0E
                lda #$01                        ; 98BE A9 01
                sta $06F1                       ; 98C0 8D F1 06
                lda #$02                        ; 98C3 A9 02
                sta $0727                       ; 98C5 8D 27 07
                lda #$00                        ; 98C8 A9 00
                sta $51                         ; 98CA 85 51
            end_if
        end_if
        cmp     #$20                            ; 98CC C9 20
        if_eq                                   ; 98CE D0 11
            lda #$01                            ; 98D0 A9 01
            sta $06F1                           ; 98D2 8D F1 06
            lda $0727                           ; 98D5 AD 27 07
            eor #$03                            ; 98D8 49 03
            sta $0727                           ; 98DA 8D 27 07
            lda #$00                            ; 98DD A9 00
            sta $51                             ; 98DF 85 51
        end_if
        lda     #$45                            ; 98E1 A9 45
        sta     $44                             ; 98E3 85 44
        ldx     $0727                           ; 98E5 AE 27 07
        lda     LA267,x                         ; 98E8 BD 67 A2
        sta     $45                             ; 98EB 85 45
        lda     #$21                            ; 98ED A9 21
        sta     $53                             ; 98EF 85 53
        jsr     R88F6                           ; 98F1 20 F6 88
        jsr     R8BE5                           ; 98F4 20 E5 8B
        jsr     RB654                           ; 98F7 20 54 B6
        lda     $43                             ; 98FA A5 43
        bne     L9906                           ; 98FC D0 08
        inc     $51                             ; 98FE E6 51
        lda     $51                             ; 9900 A5 51
        cmp     #$08                            ; 9902 C9 08
        beq     L9912                           ; 9904 F0 0C
L9906:  lda     $F5                             ; 9906 A5 F5
        cmp     #$10                            ; 9908 C9 10
        beq     L990F                           ; 990A F0 03
        jmp     L9888                           ; 990C 4C 88 98

L990F:
        ; enter top-level state 1
        inc     $46                             ; 990F E6 46
        rts                                     ; 9911 60

L9912:  lda     #$FE                            ; 9912 A9 FE
        sta     $0741                           ; 9914 8D 41 07
        lda     $0316                           ; 9917 AD 16 03
        sta     $073C                           ; 991A 8D 3C 07
        lda     $030B                           ; 991D AD 0B 03
        sta     $073D                           ; 9920 8D 3D 07
        lda     $0727                           ; 9923 AD 27 07
        sta     $073E                           ; 9926 8D 3E 07
        lda     $0731                           ; 9929 AD 31 07
        sta     $073F                           ; 992C 8D 3F 07
        lda     #$00                            ; 992F A9 00
        sta     $70                             ; 9931 85 70
        sta     $69                             ; 9933 85 69
        lda     #$01                            ; 9935 A9 01
        sta     $8B                             ; 9937 85 8B
        sta     $030B                           ; 9939 8D 0B 03
        sta     $0727                           ; 993C 8D 27 07
        lda     #$03                            ; 993F A9 03
        sta     $0731                           ; 9941 8D 31 07
        lda     #$44                            ; 9944 A9 44
        sta     $A4                             ; 9946 85 A4
        sta     $0324                           ; 9948 8D 24 03
        lda     #$0A                            ; 994B A9 0A
        sta     $0316                           ; 994D 8D 16 03
        jmp     L990F                           ; 9950 4C 0F 99
.endscope ;L981C

; ----------------------------------------------------------------------------
; jump table vector 1
L9953:
.scope
        lda     $0741                           ; 9953 AD 41 07
        if_ne                                   ; 9956 F0 03
            jmp L9AC2                           ; 9958 4C C2 9A
        end_if
        jsr     RFFD3                           ; 995B 20 D3 FF
        lda     #$05                            ; 995E A9 05
        jsr     RB8E0                           ; 9960 20 E0 B8
        lda     #$05                            ; 9963 A9 05
        jsr     RB8F4                           ; 9965 20 F4 B8
        lda     #$00                            ; 9968 A9 00
        sta     $5D                             ; 996A 85 5D
        sta     $52                             ; 996C 85 52
        sta     $65                             ; 996E 85 65
        sta     $0728                           ; 9970 8D 28 07
        lda     #$03                            ; 9973 A9 03
        sta     $0725                           ; 9975 8D 25 07
        lda     #$FF                            ; 9978 A9 FF
        sta     $80                             ; 997A 85 80
        sta     $0300                           ; 997C 8D 00 03
        sta     $0380                           ; 997F 8D 80 03
        lda     $0316                           ; 9982 AD 16 03
        cmp     #$15                            ; 9985 C9 15
        if_pl                                   ; 9987 30 05
            lda #$14                            ; 9989 A9 14
            sta $0316                           ; 998B 8D 16 03
        end_if
        jsr     RB67C                           ; 998E 20 7C B6
        jsr     RB6A2                           ; 9991 20 A2 B6
        jsr     RB6C2                           ; 9994 20 C2 B6
        .word   LBD7D                           ; 9997 7D BD
        lda     #$01                            ; 9999 A9 01
        sta     $68                             ; 999B 85 68
        jsr     R8508                           ; 999D 20 08 85
        lda     #$82                            ; 99A0 A9 82
        sta     $66                             ; 99A2 85 66
        lda     #$20                            ; 99A4 A9 20
        sta     $2006                           ; 99A6 8D 06 20
        lda     #$AA                            ; 99A9 A9 AA
        sta     $2006                           ; 99AB 8D 06 20
        lda     $0727                           ; 99AE AD 27 07
        sta     $2007                           ; 99B1 8D 07 20
        lda     $0727                           ; 99B4 AD 27 07
        cmp     #$01                            ; 99B7 C9 01
        if_eq                                   ; 99B9 D0 05
            jsr RB6C2                           ; 99BB 20 C2 B6
            .word LA26A                         ; 99BE 6A A2
        end_if
        lda     #$04                            ; 99C0 A9 04
        sta     $68                             ; 99C2 85 68
        jsr     RB695                           ; 99C4 20 95 B6
        jsr     RB689                           ; 99C7 20 89 B6
        lda     #$00                            ; 99CA A9 00
        sta     $54                             ; 99CC 85 54
        lda     #$FF                            ; 99CE A9 FF
        sta     $0300                           ; 99D0 8D 00 03
        lda     #$07                            ; 99D3 A9 07
        sta     $06F5                           ; 99D5 8D F5 06
        loop
            ldx #$17                            ; 99D8 A2 17
            ldy #$02                            ; 99DA A0 02
            jsr RB771                           ; 99DC 20 71 B7
            lda $F5                             ; 99DF A5 F5
            cmp #$40                            ; 99E1 C9 40
            if_eq                               ; 99E3 D0 07
                ; enter top-level state 0.
                lda #$00                        ; 99E5 A9 00
                sta $46                         ; 99E7 85 46
                jmp L9AC4                       ; 99E9 4C C4 9A
            end_if
            cmp #$10                            ; 99EC C9 10
            if_eq                               ; 99EE D0 03
                jmp L9AC2                       ; 99F0 4C C2 9A
            end_if
            lda $65                             ; 99F3 A5 65
            cmp #$00                            ; 99F5 C9 00
            if_eq                               ; 99F7 D0 19
                jsr R9075                       ; 99F9 20 75 90
                jsr R9AC5                       ; 99FC 20 C5 9A
                jsr R90AF                       ; 99FF 20 AF 90
                lda $0727                       ; 9A02 AD 27 07
                cmp #$02                        ; 9A05 C9 02
                if_eq                           ; 9A07 D0 09
                    jsr R9092                   ; 9A09 20 92 90
                    jsr R9AC5                   ; 9A0C 20 C5 9A
                    jsr R90BC                   ; 9A0F 20 BC 90
                end_if
            end_if
            lda $65                             ; 9A12 A5 65
            cmp #$01                            ; 9A14 C9 01
            if_eq                               ; 9A16 D0 19
                jsr R9075                       ; 9A18 20 75 90
                jsr R9B1D                       ; 9A1B 20 1D 9B
                jsr R90AF                       ; 9A1E 20 AF 90
                lda $0727                       ; 9A21 AD 27 07
                cmp #$02                        ; 9A24 C9 02
                if_eq                           ; 9A26 D0 09
                    jsr R9092                   ; 9A28 20 92 90
                    jsr R9B1D                   ; 9A2B 20 1D 9B
                    jsr R90BC                   ; 9A2E 20 BC 90
                end_if
            end_if
            lda $65                             ; 9A31 A5 65
            cmp #$02                            ; 9A33 C9 02
            if_eq                               ; 9A35 D0 28
                lda $F5                         ; 9A37 A5 F5
                and #$01                        ; 9A39 29 01
                if_ne                           ; 9A3B F0 0F
                    lda $0731                   ; 9A3D AD 31 07
                    cmp #$02                    ; 9A40 C9 02
                    if_ne                       ; 9A42 F0 08
                        lda #$03                ; 9A44 A9 03
                        sta $06F1               ; 9A46 8D F1 06
                        inc $0731               ; 9A49 EE 31 07
                    end_if
                end_if
                lda $F5                         ; 9A4C A5 F5
                and #$02                        ; 9A4E 29 02
                if_ne                           ; 9A50 F0 0D
                    lda $0731                   ; 9A52 AD 31 07
                    if_ne                       ; 9A55 F0 08
                        lda #$03                ; 9A57 A9 03
                        sta $06F1               ; 9A59 8D F1 06
                        dec $0731               ; 9A5C CE 31 07
                    end_if
                end_if
            end_if
            lda $F5                             ; 9A5F A5 F5
            cmp #$08                            ; 9A61 C9 08
            if_eq                               ; 9A63 D0 11
                lda $65                         ; 9A65 A5 65
                if_ne                           ; 9A67 F0 0D
                    lda #$01                    ; 9A69 A9 01
                    sta $06F1                   ; 9A6B 8D F1 06
                    dec $65                     ; 9A6E C6 65
                    lda $65                     ; 9A70 A5 65
                    sta $68                     ; 9A72 85 68
                    inc $68                     ; 9A74 E6 68
                end_if
            end_if
            lda $F5                             ; 9A76 A5 F5
            cmp #$04                            ; 9A78 C9 04
            if_eq                               ; 9A7A D0 13
                lda $65                         ; 9A7C A5 65
                cmp #$02                        ; 9A7E C9 02
                if_ne                           ; 9A80 F0 0D
                    lda #$01                    ; 9A82 A9 01
                    sta $06F1                   ; 9A84 8D F1 06
                    inc $65                     ; 9A87 E6 65
                    lda $65                     ; 9A89 A5 65
                    sta $68                     ; 9A8B 85 68
                    inc $68                     ; 9A8D E6 68
                end_if
            end_if
            jsr R9075                           ; 9A8F 20 75 90
            jsr R9B42                           ; 9A92 20 42 9B
            jsr R90AF                           ; 9A95 20 AF 90
            lda $0727                           ; 9A98 AD 27 07
            cmp #$02                            ; 9A9B C9 02
            if_eq                               ; 9A9D D0 09
                jsr R9092                       ; 9A9F 20 92 90
                jsr R9B42                       ; 9AA2 20 42 9B
                jsr R90BC                       ; 9AA5 20 BC 90
            end_if
            ldx $0731                           ; 9AA8 AE 31 07
            lda LA117,x                         ; 9AAB BD 17 A1
            sta $44                             ; 9AAE 85 44
            lda #$B7                            ; 9AB0 A9 B7
            sta $45                             ; 9AB2 85 45
            lda LA113,x                         ; 9AB4 BD 13 A1
            sta $53                             ; 9AB7 85 53
            jsr R88F6                           ; 9AB9 20 F6 88
            jsr RB654                           ; 9ABC 20 54 B6
        forever                                 ; 9ABF 4C D8 99
L9AC2:
        ; enter top-level state 2
        inc $46                                 ; 9AC2 E6 46
L9AC4:  rts                                     ; 9AC4 60
.endscope ;L9953

; ----------------------------------------------------------------------------
R9AC5:
.scope
        lda     $93                             ; 9AC5 A5 93
        if_eq                                   ; 9AC7 D0 0A
            lda $5B                             ; 9AC9 A5 5B
            and #$03                            ; 9ACB 29 03
            beq L9B1C                           ; 9ACD F0 4D
            lda #$07                            ; 9ACF A9 07
            sta $93                             ; 9AD1 85 93
        end_if
        lda     $5C                             ; 9AD3 A5 5C
        and     #$03                            ; 9AD5 29 03
        if_eq                                   ; 9AD7 D0 07
            lda #$00                            ; 9AD9 A9 00
            sta $93                             ; 9ADB 85 93
        else                                    ; 9ADD 4C 1C 9B
            inc $93                             ; 9AE0 E6 93
            lda $93                             ; 9AE2 A5 93
            cmp #$08                            ; 9AE4 C9 08
            if_cs                               ; 9AE6 90 34
                lda #$01                        ; 9AE8 A9 01
                sta $93                         ; 9AEA 85 93
                lda $5C                         ; 9AEC A5 5C
                and #$01                        ; 9AEE 29 01
                if_ne                           ; 9AF0 F0 13
                    lda $96                     ; 9AF2 A5 96
                    cmp #$14                    ; 9AF4 C9 14
                    if_ne                       ; 9AF6 F0 0D
                        lda #$03                ; 9AF8 A9 03
                        sta $06F1               ; 9AFA 8D F1 06
                        lda $68                 ; 9AFD A5 68
                        ora #$04                ; 9AFF 09 04
                        sta $68                 ; 9B01 85 68
                        inc $96                 ; 9B03 E6 96
                    end_if
                end_if
                lda $5C                         ; 9B05 A5 5C
                and #$02                        ; 9B07 29 02
                if_ne                           ; 9B09 F0 11
                    lda $96                     ; 9B0B A5 96
                    if_ne                       ; 9B0D F0 0D
                        lda #$03                ; 9B0F A9 03
                        sta $06F1               ; 9B11 8D F1 06
                        lda $68                 ; 9B14 A5 68
                        ora #$04                ; 9B16 09 04
                        sta $68                 ; 9B18 85 68
                        dec $96                 ; 9B1A C6 96
                    end_if
                end_if
            end_if
        end_if
L9B1C:  rts                                     ; 9B1C 60
.endscope ;R9AC5

; ----------------------------------------------------------------------------
R9B1D:
.scope
        lda $5B                                 ; 9B1D A5 5B
        cmp #$01                                ; 9B1F C9 01
        if_eq                                   ; 9B21 D0 0D
            lda $8B                             ; 9B23 A5 8B
            cmp #$02                            ; 9B25 C9 02
            if_ne                               ; 9B27 F0 07
                lda #$03                        ; 9B29 A9 03
                sta $06F1                       ; 9B2B 8D F1 06
                inc $8B                         ; 9B2E E6 8B
            end_if
        end_if
        lda $5B                                 ; 9B30 A5 5B
        cmp #$02                                ; 9B32 C9 02
        if_eq                                   ; 9B34 D0 0B
            lda $8B                             ; 9B36 A5 8B
            if_ne                               ; 9B38 F0 07
                lda #$03                        ; 9B3A A9 03
                sta $06F1                       ; 9B3C 8D F1 06
                dec $8B                         ; 9B3F C6 8B
            end_if
        end_if
        rts                                     ; 9B41 60
.endscope

; ----------------------------------------------------------------------------
R9B42:
.scope
        ldx     $96                             ; 9B42 A6 96
        lda     LA294,x                         ; 9B44 BD 94 A2
        sta     $44                             ; 9B47 85 44
        ldx     $58                             ; 9B49 A6 58
        lda     LA2A9,x                         ; 9B4B BD A9 A2
        sta     $45                             ; 9B4E 85 45
        lda     $58                             ; 9B50 A5 58
        clc                                     ; 9B52 18
        adc     #$19                            ; 9B53 69 19
        sta     $53                             ; 9B55 85 53
        jsr     R88F6                           ; 9B57 20 F6 88
        ldx     $8B                             ; 9B5A A6 8B
        lda     LA2AF,x                         ; 9B5C BD AF A2
        sta     $44                             ; 9B5F 85 44
        ldx     $58                             ; 9B61 A6 58
        lda     LA2B2,x                         ; 9B63 BD B2 A2
        sta     $45                             ; 9B66 85 45
        lda     $58                             ; 9B68 A5 58
        clc                                     ; 9B6A 18
        adc     #$FE                            ; 9B6B 69 FE
        sta     $53                             ; 9B6D 85 53
        jsr     R88F6                           ; 9B6F 20 F6 88
        rts                                     ; 9B72 60
.endscope

; ----------------------------------------------------------------------------
; jump table vector 4
L9B73:
.scope
        jsr     R9075                           ; 9B73 20 75 90
        jsr     R9BB9                           ; 9B76 20 B9 9B
        jsr     R90AF                           ; 9B79 20 AF 90
        lda     $0727                           ; 9B7C AD 27 07
        cmp     #$02                            ; 9B7F C9 02
        bne     L9B9A                           ; 9B81 D0 17

        lda     $9E                             ; 9B83 A5 9E
        cmp     $0725                           ; 9B85 CD 25 07
        beq     L9BB4                           ; 9B88 F0 2A

        jsr     R9092                           ; 9B8A 20 92 90
        jsr     R9BB9                           ; 9B8D 20 B9 9B
        jsr     R90BC                           ; 9B90 20 BC 90
        lda     $9E                             ; 9B93 A5 9E
        cmp     $0725                           ; 9B95 CD 25 07
        beq     L9BB4                           ; 9B98 F0 1A

L9B9A:  jsr     RB24F                           ; 9B9A 20 4F B2
        lda     $0389                           ; 9B9D AD 89 03
        bne     L9BA7                           ; 9BA0 D0 05

        lda     $0309                           ; 9BA2 AD 09 03
        beq     L9BB3                           ; 9BA5 F0 0C

L9BA7:
        ; enter top-level state 5
        lda     #$05                            ; 9BA7 A9 05
        sta     $46                             ; 9BA9 85 46
        lda     #$04                            ; 9BAB A9 04
        sta     $0317                           ; 9BAD 8D 17 03
        sta     $0397                           ; 9BB0 8D 97 03
L9BB3:  rts                                     ; 9BB3 60

L9BB4:
        ; enter top-level state 7
        lda     #$07                            ; 9BB4 A9 07
        sta     $46                             ; 9BB6 85 46
        rts                                     ; 9BB8 60
.endscope

; ----------------------------------------------------------------------------
R9BB9:
.scope
        lda     $97                             ; 9BB9 A5 97
        jsr     RB8AC                           ; 9BBB 20 AC B8
        .word   L8D56                           ; 9BBE 56 8D
        .word   L8C6F
        .word   L9BD4
        .word   L9BCF
        .word   L9700
        .word   L9BCC
        .word   L9F87
.endscope

; ----------------------------------------------------------------------------
L9BCC:  inc     $97                             ; 9BCC E6 97
        rts                                     ; 9BCE 60

; ----------------------------------------------------------------------------
L9BCF:  lda     #$00                            ; 9BCF A9 00
        sta     $97                             ; 9BD1 85 97
        rts                                     ; 9BD3 60

; ----------------------------------------------------------------------------
L9BD4:
.scope
        lda     $0727                           ; 9BD4 AD 27 07
        cmp     #$02                            ; 9BD7 C9 02
        bne     L9BE4                           ; 9BD9 D0 09
        jsr     R9BE9                           ; 9BDB 20 E9 9B
        jsr     R9C01                           ; 9BDE 20 01 9C
        jmp     L9BE8                           ; 9BE1 4C E8 9B

L9BE4:  lda     #$05                            ; 9BE4 A9 05
        sta     $97                             ; 9BE6 85 97
L9BE8:  rts                                     ; 9BE8 60
.endscope

; ----------------------------------------------------------------------------
R9BE9:
.scope
        lda     $8F                             ; 9BE9 A5 8F
        cmp     #$02                            ; 9BEB C9 02
        if_cs                                   ; 9BED 90 0D
            clc                                 ; 9BEF 18
            adc $98                             ; 9BF0 65 98
            sta $98                             ; 9BF2 85 98
            lda $58                             ; 9BF4 A5 58
            sec                                 ; 9BF6 38
            sbc #$03                            ; 9BF7 E9 03
            sta $06F4                           ; 9BF9 8D F4 06
        end_if
        lda     #$00                            ; 9BFC A9 00
        sta     $8F                             ; 9BFE 85 8F
        rts                                     ; 9C00 60
.endscope

; ----------------------------------------------------------------------------
R9C01:
.scope
        lda     #$00                            ; 9C01 A9 00
        sta     $57                             ; 9C03 85 57
        ldx     $58                             ; 9C05 A6 58
        lda     LA545,x                         ; 9C07 BD 45 A5
        tax                                     ; 9C0A AA
        lda     $0318,x                         ; 9C0B BD 18 03
        cmp     #$02                            ; 9C0E C9 02
        if_cs                                   ; 9C10 90 7A
            if_eq                               ; 9C12 D0 1A
                lda $43                         ; 9C14 A5 43
                and #$03                        ; 9C16 29 03
                tay                             ; 9C18 A8
                lda $0329,x                     ; 9C19 BD 29 03
                ora #$80                        ; 9C1C 09 80
                sta ($57),y                     ; 9C1E 91 57
                iny                             ; 9C20 C8
                iny                             ; 9C21 C8
                iny                             ; 9C22 C8
                iny                             ; 9C23 C8
                lda $032A,x                     ; 9C24 BD 2A 03
                ora #$80                        ; 9C27 09 80
                sta ($57),y                     ; 9C29 91 57
            else                                ; 9C2B 4C 7A 9C
                cmp     #$03                    ; 9C2E C9 03
                if_eq                           ; 9C30 D0 21
                    lda $43                     ; 9C32 A5 43
                    and #$03                    ; 9C34 29 03
                    tay                         ; 9C36 A8
                    lda $0329,x                 ; 9C37 BD 29 03
                    ora #$80                    ; 9C3A 09 80
                    sta ($57),y                 ; 9C3C 91 57
                    iny                         ; 9C3E C8
                    iny                         ; 9C3F C8
                    lda $032A,x                 ; 9C40 BD 2A 03
                    ora #$80                    ; 9C43 09 80
                    sta ($57),y                 ; 9C45 91 57
                    iny                         ; 9C47 C8
                    iny                         ; 9C48 C8
                    lda $032B,x                 ; 9C49 BD 2B 03
                    ora #$80                    ; 9C4C 09 80
                    sta ($57),y                 ; 9C4E 91 57
                else                            ; 9C50 4C 7A 9C
                    lda $43                     ; 9C53 A5 43
                    and #$01                    ; 9C55 29 01
                    tay                         ; 9C57 A8
                    lda $0329,x                 ; 9C58 BD 29 03
                    ora #$80                    ; 9C5B 09 80
                    sta ($57),y                 ; 9C5D 91 57
                    iny                         ; 9C5F C8
                    iny                         ; 9C60 C8
                    lda $032A,x                 ; 9C61 BD 2A 03
                    ora #$80                    ; 9C64 09 80
                    sta ($57),y                 ; 9C66 91 57
                    iny                         ; 9C68 C8
                    iny                         ; 9C69 C8
                    lda $032B,x                 ; 9C6A BD 2B 03
                    ora #$80                    ; 9C6D 09 80
                    sta ($57),y                 ; 9C6F 91 57
                    iny                         ; 9C71 C8
                    iny                         ; 9C72 C8
                    lda $032C,x                 ; 9C73 BD 2C 03
                    ora #$80                    ; 9C76 09 80
                    sta ($57),y                 ; 9C78 91 57
                end_if
            end_if
            ldx $58                             ; 9C7A A6 58
            lda LA545,x                         ; 9C7C BD 45 A5
            tax                                 ; 9C7F AA
            lda #$00                            ; 9C80 A9 00
            sta $0318,x                         ; 9C82 9D 18 03
            lda #$01                            ; 9C85 A9 01
            sta $97                             ; 9C87 85 97
        else                                    ; 9C89 4C 90 9C
            lda #$05                            ; 9C8C A9 05
            sta $97                             ; 9C8E 85 97
        end_if
        rts                                     ; 9C90 60
.endscope

; ----------------------------------------------------------------------------
; jump table vector 8
L9C91:
.scope
        lda     $0741                           ; 9C91 AD 41 07
        bne     L9CEA                           ; 9C94 D0 54
        lda     #$00                            ; 9C96 A9 00
        sta     $0324                           ; 9C98 8D 24 03
        sta     $03A4                           ; 9C9B 8D A4 03
        loop
            loop
                jsr R8FA5                       ; 9C9E 20 A5 8F
                jsr R9075                       ; 9CA1 20 75 90
                jsr R9CFF                       ; 9CA4 20 FF 9C
                jsr R90AF                       ; 9CA7 20 AF 90
                lda $0727                       ; 9CAA AD 27 07
                cmp #$02                        ; 9CAD C9 02
                if_eq                           ; 9CAF D0 0E
                    lda $0316                   ; 9CB1 AD 16 03
                    cmp $0396                   ; 9CB4 CD 96 03
                    if_ne                       ; 9CB7 F0 06
                        jsr R9092               ; 9CB9 20 92 90
                        jsr R9CFF               ; 9CBC 20 FF 9C
                    end_if
                end_if
                jsr R90BC                       ; 9CBF 20 BC 90
                jsr R8FCA                       ; 9CC2 20 CA 8F
                jsr RB654                       ; 9CC5 20 54 B6
                lda $0328                       ; 9CC8 AD 28 03
            while_ne                            ; 9CCB D0 D1
            lda $03A8                           ; 9CCD AD A8 03
        while_ne                                ; 9CD0 D0 CC
L9CD2:  lda     #$04                            ; 9CD2 A9 04
        sta     $58                             ; 9CD4 85 58
        lda     #$0F                            ; 9CD6 A9 0F
        sta     $80                             ; 9CD8 85 80
        sta     $0300                           ; 9CDA 8D 00 03
        sta     $0380                           ; 9CDD 8D 80 03
        lda     #$80                            ; 9CE0 A9 80
        jsr     R9701                           ; 9CE2 20 01 97
        ; enter top-level state 4
        lda     #$04                            ; 9CE5 A9 04
        sta     $46                             ; 9CE7 85 46
        rts                                     ; 9CE9 60

L9CEA:
        ; copy $CF00-$CF7F to $0400-$047F
        ldx     #$7F                            ; 9CEA A2 7F
        loop
            lda LCF00,x                         ; 9CEC BD 00 CF
            sta $0400,x                         ; 9CEF 9D 00 04
            dex                                 ; 9CF2 CA
            cpx #$FF                            ; 9CF3 E0 FF
        while_ne                                ; 9CF5 D0 F5
        lda     #$00                            ; 9CF7 A9 00
        sta     $0328                           ; 9CF9 8D 28 03
        jmp     L9CD2                           ; 9CFC 4C D2 9C
.endscope

; ----------------------------------------------------------------------------
R9CFF:
.scope
        lda     $A8                             ; 9CFF A5 A8
        if_eq                                   ; 9D01 D0 03
            jmp L9E4B                           ; 9D03 4C 4B 9E
        end_if
        loop
            ldx #$17                            ; 9D06 A2 17
            ldy #$02                            ; 9D08 A0 02
            jsr RB771                           ; 9D0A 20 71 B7
            lda $17                             ; 9D0D A5 17
            and #$0F                            ; 9D0F 29 0F
            sta $47                             ; 9D11 85 47
            ldx $96                             ; 9D13 A6 96
            lda LA3DE,x                         ; 9D15 BD DE A3
            cmp $47                             ; 9D18 C5 47
        while_cc                                ; 9D1A 90 EA
        lda     $47                             ; 9D1C A5 47
        tax                                     ; 9D1E AA
        lda     LA474,x                         ; 9D1F BD 74 A4
        sta     $47                             ; 9D22 85 47
        lda     $18                             ; 9D24 A5 18
        and     #$07                            ; 9D26 29 07
        clc                                     ; 9D28 18
        adc     $47                             ; 9D29 65 47
        sta     $57                             ; 9D2B 85 57
        sta     $49                             ; 9D2D 85 49
        lda     $A8                             ; 9D2F A5 A8
        and     #$03                            ; 9D31 29 03
        sta     $48                             ; 9D33 85 48
        cmp     #$03                            ; 9D35 C9 03
        if_eq                                   ; 9D37 D0 13
            ldx #$17                            ; 9D39 A2 17
            ldy #$02                            ; 9D3B A0 02
            jsr RB771                           ; 9D3D 20 71 B7
            lda $18                             ; 9D40 A5 18
            and #$0F                            ; 9D42 29 0F
            tax                                 ; 9D44 AA
            lda LA7ED,x                         ; 9D45 BD ED A7
            and #$03                            ; 9D48 29 03
            sta $48                             ; 9D4A 85 48
        end_if
L9D4C:  ldy     #$00                            ; 9D4C A0 00
        lda     ($57),y                         ; 9D4E B1 57
        cmp     #$FF                            ; 9D50 C9 FF
        beq     L9D61                           ; 9D52 F0 0D
L9D54:  inc     $49                             ; 9D54 E6 49
        lda     $49                             ; 9D56 A5 49
        sta     $57                             ; 9D58 85 57
        cmp     #$80                            ; 9D5A C9 80
        bcc     L9D4C                           ; 9D5C 90 EE
        jmp     L9E4B                           ; 9D5E 4C 4B 9E

L9D61:  lda     $48                             ; 9D61 A5 48
        sta     $47                             ; 9D63 85 47
        ldx     $8B                             ; 9D65 A6 8B
        lda     LA390,x                         ; 9D67 BD 90 A3
        sta     $4A                             ; 9D6A 85 4A
        ldx     $8B                             ; 9D6C A6 8B
        lda     LA393,x                         ; 9D6E BD 93 A3
        sta     $4B                             ; 9D71 85 4B
        lda     #$00                            ; 9D73 A9 00
        sta     $4C                             ; 9D75 85 4C
        lda     #$00                            ; 9D77 A9 00
        sta     $57                             ; 9D79 85 57
        lda     $49                             ; 9D7B A5 49
        sec                                     ; 9D7D 38
        sbc     $4A                             ; 9D7E E5 4A
        tay                                     ; 9D80 A8
        lda     ($57),y                         ; 9D81 B1 57
        and     #$03                            ; 9D83 29 03
        tax                                     ; 9D85 AA
        lda     LA22D,x                         ; 9D86 BD 2D A2
        ora     $4C                             ; 9D89 05 4C
        sta     $4C                             ; 9D8B 85 4C
        lda     #$00                            ; 9D8D A9 00
        sta     $57                             ; 9D8F 85 57
        lda     $49                             ; 9D91 A5 49
        clc                                     ; 9D93 18
        adc     $4A                             ; 9D94 65 4A
        tay                                     ; 9D96 A8
        lda     ($57),y                         ; 9D97 B1 57
        and     #$03                            ; 9D99 29 03
        tax                                     ; 9D9B AA
        lda     LA22D,x                         ; 9D9C BD 2D A2
        ora     $4C                             ; 9D9F 05 4C
        sta     $4C                             ; 9DA1 85 4C
        lda     #$00                            ; 9DA3 A9 00
        sta     $57                             ; 9DA5 85 57
        lda     $49                             ; 9DA7 A5 49
        and     #$07                            ; 9DA9 29 07
        cmp     #$02                            ; 9DAB C9 02
        bcc     L9DC1                           ; 9DAD 90 12
        lda     $49                             ; 9DAF A5 49
        sec                                     ; 9DB1 38
        sbc     $4B                             ; 9DB2 E5 4B
        tay                                     ; 9DB4 A8
        lda     ($57),y                         ; 9DB5 B1 57
        and     #$03                            ; 9DB7 29 03
        tax                                     ; 9DB9 AA
        lda     LA22D,x                         ; 9DBA BD 2D A2
        ora     $4C                             ; 9DBD 05 4C
        sta     $4C                             ; 9DBF 85 4C
L9DC1:  lda     #$00                            ; 9DC1 A9 00
        sta     $57                             ; 9DC3 85 57
        lda     $49                             ; 9DC5 A5 49
        and     #$07                            ; 9DC7 29 07
        cmp     #$06                            ; 9DC9 C9 06
        if_cc                                   ; 9DCB B0 12
            lda $49                             ; 9DCD A5 49
            clc                                 ; 9DCF 18
            adc $4B                             ; 9DD0 65 4B
            tay                                 ; 9DD2 A8
            lda ($57),y                         ; 9DD3 B1 57
            and #$03                            ; 9DD5 29 03
            tax                                 ; 9DD7 AA
            lda LA22D,x                         ; 9DD8 BD 2D A2
            ora $4C                             ; 9DDB 05 4C
            sta $4C                             ; 9DDD 85 4C
        end_if
        loop
            lda $4C                             ; 9DDF A5 4C
            cmp #$07                            ; 9DE1 C9 07
            if_eq                               ; 9DE3 D0 03
                jmp L9D54                       ; 9DE5 4C 54 9D
            end_if
            lda #$00                            ; 9DE8 A9 00
            sta $51                             ; 9DEA 85 51
            ldx $48                             ; 9DEC A6 48
            lda LA22D,x                         ; 9DEE BD 2D A2
            and $4C                             ; 9DF1 25 4C
            beq break                           ; 9DF3 F0 0D
            dec $48                             ; 9DF5 C6 48
            lda $48                             ; 9DF7 A5 48
            bpl continue                        ; 9DF9 10 E4
            lda #$02                            ; 9DFB A9 02
            sta $48                             ; 9DFD 85 48
        forever                                 ; 9DFF 4C DF 9D
        lda     $49                             ; 9E02 A5 49
        sta     $57                             ; 9E04 85 57
        ldy     #$00                            ; 9E06 A0 00
        lda     $48                             ; 9E08 A5 48
        ora     #$D0                            ; 9E0A 09 D0
        sta     ($57),y                         ; 9E0C 91 57
        and     #$07                            ; 9E0E 29 07
        tax                                     ; 9E10 AA
        lda     $72,x                           ; 9E11 B5 72
        clc                                     ; 9E13 18
        adc     #$01                            ; 9E14 69 01
        sta     $72,x                           ; 9E16 95 72
        lda     $0316                           ; 9E18 AD 16 03
        cmp     $0396                           ; 9E1B CD 96 03
        if_eq                                   ; 9E1E D0 09
            lda $48                             ; 9E20 A5 48
            ora #$D0                            ; 9E22 09 D0
            ldy $49                             ; 9E24 A4 49
            sta $0500,y                         ; 9E26 99 00 05
        end_if
        inc     $A4                             ; 9E29 E6 A4
        lda     $A4                             ; 9E2B A5 A4
        and     #$0F                            ; 9E2D 29 0F
        cmp     #$0A                            ; 9E2F C9 0A
        if_eq                                   ; 9E31 D0 07
            lda $A4                             ; 9E33 A5 A4
            clc                                 ; 9E35 18
            adc #$06                            ; 9E36 69 06
            sta $A4                             ; 9E38 85 A4
        end_if
        lda     $57                             ; 9E3A A5 57
        lsr     a                               ; 9E3C 4A
        lsr     a                               ; 9E3D 4A
        lsr     a                               ; 9E3E 4A
        sta     $80                             ; 9E3F 85 80
        lda     $A4                             ; 9E41 A5 A4
        lda     #$10                            ; 9E43 A9 10
        ora     $52                             ; 9E45 05 52
        sta     $52                             ; 9E47 85 52
        dec     $A8                             ; 9E49 C6 A8
L9E4B:  rts                                     ; 9E4B 60
.endscope

; ----------------------------------------------------------------------------
R9E4C:
.scope
        lda     $96                             ; 9E4C A5 96
        cmp     #$15                            ; 9E4E C9 15
        beq     L9E67                           ; 9E50 F0 15
        bcc     L9E57                           ; 9E52 90 03
        jmp     L9EDA                           ; 9E54 4C DA 9E

L9E57:  lda     $8B                             ; 9E57 A5 8B
        asl     a                               ; 9E59 0A
        asl     a                               ; 9E5A 0A
        asl     a                               ; 9E5B 0A
        asl     a                               ; 9E5C 0A
        asl     a                               ; 9E5D 0A
        clc                                     ; 9E5E 18
        adc     $96                             ; 9E5F 65 96
        tax                                     ; 9E61 AA
        lda     L9FF8,x                         ; 9E62 BD F8 9F
        beq     L9EDA                           ; 9E65 F0 73
L9E67:  lda     #$07                            ; 9E67 A9 07
        jsr     RB8E0                           ; 9E69 20 E0 B8
        lda     #$06                            ; 9E6C A9 06
        jsr     RB8F4                           ; 9E6E 20 F4 B8
        jsr     RB67C                           ; 9E71 20 7C B6
        jsr     RB6A2                           ; 9E74 20 A2 B6
        ldx     $8B                             ; 9E77 A6 8B
        lda     LA0DE,x                         ; 9E79 BD DE A0
        sta     $66                             ; 9E7C 85 66
        jsr     RB6C2                           ; 9E7E 20 C2 B6
        .word   LCA5A                           ; 9E81 5A CA
        lda     #$00                            ; 9E83 A9 00
        sta     $5D                             ; 9E85 85 5D
        sta     $5E                             ; 9E87 85 5E
        lda     #$FF                            ; 9E89 A9 FF
        sta     $0300                           ; 9E8B 8D 00 03
        sta     $0380                           ; 9E8E 8D 80 03
        jsr     RB695                           ; 9E91 20 95 B6
        jsr     RB689                           ; 9E94 20 89 B6
        ldx     $8B                             ; 9E97 A6 8B
        lda     LA095,x                         ; 9E99 BD 95 A0
        sta     $06F5                           ; 9E9C 8D F5 06
        lda     #$01                            ; 9E9F A9 01
        sta     $7F                             ; 9EA1 85 7F
        lda     #$FF                            ; 9EA3 A9 FF
        sta     $51                             ; 9EA5 85 51
        jsr     R9F09                           ; 9EA7 20 09 9F
        jsr     RB352                           ; 9EAA 20 52 B3
        lda     #$70                            ; 9EAD A9 70
        sta     $38                             ; 9EAF 85 38
        lda     #$82                            ; 9EB1 A9 82
        sta     $39                             ; 9EB3 85 39
        lda     #$5E                            ; 9EB5 A9 5E
        sta     $4F                             ; 9EB7 85 4F
        lda     #$F8                            ; 9EB9 A9 F8
        sta     $50                             ; 9EBB 85 50
        lda     #$00                            ; 9EBD A9 00
        sta     $3A                             ; 9EBF 85 3A
        sta     $3D                             ; 9EC1 85 3D
        loop
            jsr R9F18                           ; 9EC3 20 18 9F
            jsr RB42F                           ; 9EC6 20 2F B4
            jsr R9F70                           ; 9EC9 20 70 9F
            jsr RB5B8                           ; 9ECC 20 B8 B5
            jsr RB654                           ; 9ECF 20 54 B6
            dec $51                             ; 9ED2 C6 51
            lda $F5                             ; 9ED4 A5 F5
            cmp #$10                            ; 9ED6 C9 10
        while_ne                                ; 9ED8 D0 E9
L9EDA:  lda     #$00                            ; 9EDA A9 00
        sta     $7F                             ; 9EDC 85 7F
        lda     #$FF                            ; 9EDE A9 FF
        ldx     #$04                            ; 9EE0 A2 04
        ldy     #$05                            ; 9EE2 A0 05
        jsr     RB894                           ; 9EE4 20 94 B8
        lda     #$01                            ; 9EE7 A9 01
        sta     $5D                             ; 9EE9 85 5D
        lda     #$02                            ; 9EEB A9 02
        jsr     RB8E0                           ; 9EED 20 E0 B8
        lda     #$03                            ; 9EF0 A9 03
        jsr     RB8F4                           ; 9EF2 20 F4 B8
        jsr     RB67C                           ; 9EF5 20 7C B6
        jsr     RB6A2                           ; 9EF8 20 A2 B6
        jsr     R82D1                           ; 9EFB 20 D1 82
        lda     #$9E                            ; 9EFE A9 9E
        sta     $52                             ; 9F00 85 52
        jsr     RB695                           ; 9F02 20 95 B6
        jsr     RB689                           ; 9F05 20 89 B6
        rts                                     ; 9F08 60
.endscope

; ----------------------------------------------------------------------------
R9F09:
.scope
        ldx     #$00                            ; 9F09 A2 00
;TODO: forever/break
L9F0B:  lda     LA0E5,x                         ; 9F0B BD E5 A0
        sta     $0760,x                         ; 9F0E 9D 60 07
        beq     L9F17                           ; 9F11 F0 04
        inx                                     ; 9F13 E8
        jmp     L9F0B                           ; 9F14 4C 0B 9F

L9F17:  rts                                     ; 9F17 60
.endscope

; ----------------------------------------------------------------------------
; 9F18 and 9F28 are both entry points
R9F18:
        lda     $8B                             ; 9F18 A5 8B
        asl     a                               ; 9F1A 0A
        asl     a                               ; 9F1B 0A
        asl     a                               ; 9F1C 0A
        asl     a                               ; 9F1D 0A
        asl     a                               ; 9F1E 0A
        clc                                     ; 9F1F 18
        adc     $96                             ; 9F20 65 96
        tax                                     ; 9F22 AA
        lda     L9FF8,x                         ; 9F23 BD F8 9F
        beq     L9F6F                           ; 9F26 F0 47
R9F28:  lda     #$00                            ; 9F28 A9 00
        sta     $49                             ; 9F2A 85 49
;TODO: forever/break
L9F2C:  lda     $49                             ; 9F2C A5 49
        tax                                     ; 9F2E AA
        lda     $0760,x                         ; 9F2F BD 60 07
        beq     L9F6F                           ; 9F32 F0 3B
        sta     $4A                             ; 9F34 85 4A
        tax                                     ; 9F36 AA
        lda     LA0EF,x                         ; 9F37 BD EF A0
        sta     $4B                             ; 9F3A 85 4B
        lda     $43                             ; 9F3C A5 43
        and     $4B                             ; 9F3E 25 4B
        if_eq                                   ; 9F40 D0 0C
            lda $49                             ; 9F42 A5 49
            tax                                 ; 9F44 AA
            lda $0761,x                         ; 9F45 BD 61 07
            sec                                 ; 9F48 38
            sbc #$01                            ; 9F49 E9 01
            sta $0761,x                         ; 9F4B 9D 61 07
        end_if
        lda     $4A                             ; 9F4E A5 4A
        tax                                     ; 9F50 AA
        lda     LA0E1,x                         ; 9F51 BD E1 A0
        sta     $53                             ; 9F54 85 53
        lda     $49                             ; 9F56 A5 49
        tax                                     ; 9F58 AA
        lda     $0761,x                         ; 9F59 BD 61 07
        sta     $44                             ; 9F5C 85 44
        lda     $0762,x                         ; 9F5E BD 62 07
        sta     $45                             ; 9F61 85 45
        jsr     R88F6                           ; 9F63 20 F6 88
        inc     $49                             ; 9F66 E6 49
        inc     $49                             ; 9F68 E6 49
        inc     $49                             ; 9F6A E6 49
        jmp     L9F2C                           ; 9F6C 4C 2C 9F

L9F6F:  rts                                     ; 9F6F 60

; ----------------------------------------------------------------------------
R9F70:
.scope
        lda     $38                             ; 9F70 A5 38
        sta     $44                             ; 9F72 85 44
        lda     $39                             ; 9F74 A5 39
        sta     $45                             ; 9F76 85 45
        lda     $43                             ; 9F78 A5 43
        and     #$08                            ; 9F7A 29 08
        lsr     a                               ; 9F7C 4A
        lsr     a                               ; 9F7D 4A
        clc                                     ; 9F7E 18
        adc     #$20                            ; 9F7F 69 20
        sta     $53                             ; 9F81 85 53
        jsr     R88F6                           ; 9F83 20 F6 88
        rts                                     ; 9F86 60
.endscope

; ----------------------------------------------------------------------------
; jump table vector
L9F87:
.scope
        lda     $0727                           ; 9F87 AD 27 07
        cmp     #$01                            ; 9F8A C9 01
        beq     L9F91                           ; 9F8C F0 03
        jmp     L9FCD                           ; 9F8E 4C CD 9F

L9F91:  lda     $8B                             ; 9F91 A5 8B
        cmp     #$02                            ; 9F93 C9 02
        beq     L9FA1                           ; 9F95 F0 0A
        cmp     #$01                            ; 9F97 C9 01
        beq     L9FA1                           ; 9F99 F0 06
        lda     $43                             ; 9F9B A5 43
        and     #$01                            ; 9F9D 29 01
        beq     L9FED                           ; 9F9F F0 4C
L9FA1:  inc     $7D                             ; 9FA1 E6 7D
        ldx     $7D                             ; 9FA3 A6 7D
        lda     LA401,x                         ; 9FA5 BD 01 A4
        cmp     #$FF                            ; 9FA8 C9 FF
        beq     L9FCD                           ; 9FAA F0 21
        and     #$F0                            ; 9FAC 29 F0
        cmp     #$F0                            ; 9FAE C9 F0
        bne     L9FBC                           ; 9FB0 D0 0A
        lda     LA401,x                         ; 9FB2 BD 01 A4
        and     #$03                            ; 9FB5 29 03
        sta     $7E                             ; 9FB7 85 7E
        jmp     L9FA1                           ; 9FB9 4C A1 9F

L9FBC:  lda     $7D                             ; 9FBC A5 7D
        and     #$01                            ; 9FBE 29 01
        bne     L9FED                           ; 9FC0 D0 2B
        dec     $A2                             ; 9FC2 C6 A2
        lda     $A2                             ; 9FC4 A5 A2
        and     #$03                            ; 9FC6 29 03
        sta     $A2                             ; 9FC8 85 A2
        jmp     L9FED                           ; 9FCA 4C ED 9F

L9FCD:  jsr     R8E8D                           ; 9FCD 20 8D 8E
        lda     #$00                            ; 9FD0 A9 00
        sta     $A2                             ; 9FD2 85 A2
        lda     #$00                            ; 9FD4 A9 00
        sta     $7D                             ; 9FD6 85 7D
        lda     #$03                            ; 9FD8 A9 03
        sta     $97                             ; 9FDA 85 97
        jsr     R90D3                           ; 9FDC 20 D3 90
        if_ne                                   ; 9FDF F0 0C
            lda #$05                            ; 9FE1 A9 05
            sta $06F5                           ; 9FE3 8D F5 06
            jsr R8F52                           ; 9FE6 20 52 8F
            lda #$01                            ; 9FE9 A9 01
            sta $89                             ; 9FEB 85 89
        end_if
.endscope
L9FED:  rts                                     ; 9FED 60

; ----------------------------------------------------------------------------
; 10-byte lookup table, used by L8036
L9FEE:  .byte $21,$44,$52,$2E,$4D,$41,$52,$49   ; 9FEE 21 44 52 2E 4D 41 52 49
        .byte $4F,$21                           ; 9FF6 4F 21
; ----------------------------------------------------------------------------
; 96-byte lookup table, used by RB5B8 and others
L9FF8:  .byte $00,$00,$00,$00,$00,$00,$00,$00   ; 9FF8 00 00 00 00 00 00 00 00
        .byte $00,$00,$00,$00,$00,$00,$00,$00   ; A000 00 00 00 00 00 00 00 00
        .byte $00,$00,$00,$00,$00,$00,$00,$00   ; A008 00 00 00 00 00 00 00 00
        .byte $00,$00,$00,$00,$00,$00,$00,$00   ; A010 00 00 00 00 00 00 00 00
        .byte $00,$00,$00,$00,$00,$00,$07,$00   ; A018 00 00 00 00 00 00 07 00
        .byte $00,$00,$00,$05,$00,$00,$00,$00   ; A020 00 00 00 05 00 00 00 00
        .byte $06,$00,$00,$00,$00,$08,$00,$00   ; A028 06 00 00 00 00 08 00 00
        .byte $00,$00,$00,$00,$00,$00,$00,$00   ; A030 00 00 00 00 00 00 00 00
        .byte $00,$00,$00,$00,$00,$00,$02,$00   ; A038 00 00 00 00 00 00 02 00
        .byte $00,$00,$00,$01,$00,$00,$00,$00   ; A040 00 00 00 01 00 00 00 00
        .byte $04,$00,$00,$00,$00,$00,$00,$00   ; A048 04 00 00 00 00 00 00 00
        .byte $00,$00,$00,$00,$00,$00,$00,$00   ; A050 00 00 00 00 00 00 00 00
; ----------------------------------------------------------------------------
; lookup table, used by RB5B8
LA058:  .byte $00,$01,$0F,$03,$07,$07,$03,$07   ; A058 00 01 0F 03 07 07 03 07
        .byte $07                               ; A060 07
; ----------------------------------------------------------------------------
; lookup table, used by RB5B8
LA061:  .byte $00,$38,$3A,$3C,$3E,$40,$42,$44,$46

; ----------------------------------------------------------------------------
; lookup table, used by RB5B8
LA06A:  .byte $00,$F0,$00,$F0,$00,$F0,$F0,$00,$00

; ----------------------------------------------------------------------------
; lookup table, used by RB5B8
LA073:  .byte $00,$00,$0F,$00,$01,$03,$00,$00,$03

; ----------------------------------------------------------------------------
; lookup table, used in RB5B8
LA07C:  .byte $00,$FF,$01,$FF,$01,$FF,$FE,$01,$01

; ----------------------------------------------------------------------------
; lookup table, used in RB43F
LA085:  .byte $85,$85,$85,$85,$85,$85,$8A,$85
        .byte $85,$85,$8A,$85,$85,$85,$85,$85

; ----------------------------------------------------------------------------
; lookup table, used in R9E4C
LA095:  .byte $08,$01,$01

; ----------------------------------------------------------------------------
; lookup table, used in R8661 and L86CD
LA098:  .byte $00,$28,$29,$2A,$2B,$2C,$2D,$2E
        .byte $2F,$30,$31,$32,$33,$34,$35,$36
        .byte $37,$88,$89,$8A,$8B,$8C,$8E,$8F
        .byte $90,$91,$92,$95,$C8,$C9,$CA,$CB
        .byte $CC,$D4,$D3

; ----------------------------------------------------------------------------
; lookup table, used in R8661 and L86CD
LA0BB:  .byte $00,$0C,$18,$17,$10,$1B,$0A,$1D,$1E,$15,$0A,$1D,$12,$18,$17,$1C
        .byte $24,$1F,$12,$1B,$1E,$1C,$15,$0E,$1F,$0E,$15,$01,$1C,$19,$0E,$0E
        .byte $0D,$00,$FF

; ----------------------------------------------------------------------------
; lookup table, used in R9E4C
LA0DE:  .byte $86,$84,$84
; ----------------------------------------------------------------------------
; lookup table, used in R9F18/R9F28
LA0E1:  .byte $00,$16,$17,$18

; ----------------------------------------------------------------------------
; null-terminated string, used in R9F09
LA0E5:  .byte $01,$D0,$36,$02,$30,$74,$03,$D8,$AB,$00

; ----------------------------------------------------------------------------
; lookup table, used in R9F18/R9F28
LA0EF:  .byte $00,$03,$07,$0F,$01,$16,$01,$17
        .byte $18,$19,$18,$1A,$1B,$1C,$1B,$20

; ----------------------------------------------------------------------------
; 2-byte lookup table, used in L8C28
LA0FF:  .byte $29,$14                           ; A0FF 29 14
; 2-byte lookup table, used in L8C28
LA101:  .byte $23,$13                           ; A101 23 13
; 2-byte lookup table, used in L8C28
LA103:  .byte $26,$15                           ; A103 26 15

; ----------------------------------------------------------------------------
; lookup table
LA105:  .byte $00,$C3,$D3                       ; A105 00 C3 D3

; ----------------------------------------------------------------------------
; lookup table
LA108:  .byte $00,$34,$B4                       ; A108 00 34 B4

; ----------------------------------------------------------------------------
; lookup table, used in R886C
LA10B:  .byte $00,$34,$B4                       ; A10B 00 34 B4
; ----------------------------------------------------------------------------
; lookup table, used in R886C
LA10E:  .byte $06,$11,$00,$40,$C0               ; A10E 06 11 00 40 C0

; ----------------------------------------------------------------------------
; lookup table, used in L9953
LA113:  .byte $04,$04,$05,$00                   ; A113 04 04 05 00
; ----------------------------------------------------------------------------
; lookup table, used in L9953
LA117:  .byte $38,$70,$A7                       ; A117 38 70 A7

; ----------------------------------------------------------------------------
; lookup table, used in R89D4, indexed by $75
LA11A:  .byte $00,$01,$01,$01,$00               ; A11A 00 01 01 01 00

; ----------------------------------------------------------------------------
; 21-byte lookup table, used in R89D4, indexed by $3E
LA11F:  .byte $20,$22,$24,$25,$27,$28,$2A,$2B,$2C,$2D,$2E,$2F,$2F,$2F,$30,$30
        .byte $30,$30,$30,$2F,$2F
; ----------------------------------------------------------------------------
; 21-byte lookup table, used in R89D4, indexed by $3E
LA134:  .byte $2F,$2E,$2D,$2C,$2B,$2A,$28,$27,$25,$24,$22,$20,$1E,$1C,$1B,$19
        .byte $18,$16,$15,$14,$13
; ----------------------------------------------------------------------------
; 86-byte lookup table, used in R89D4, indexed by $3E
LA149:  .byte $12,$11,$11,$11,$10,$10,$10,$10,$10,$11,$11,$11,$12,$13,$14,$15
        .byte $16,$18,$19,$1B,$1C,$1E,$20,$22,$24,$25,$27,$28,$2A,$2B,$2C,$2D
        .byte $2E,$2F,$2F,$2F,$30,$30,$30,$30,$30,$2F,$2F,$2F,$2E,$2D,$2C,$2B
        .byte $2A,$28,$27,$25,$24,$22,$20,$1E,$1C,$1B,$19,$18,$16,$15,$14,$13
        .byte $12,$11,$11,$11,$10,$10,$10,$10,$10,$11,$11,$11,$12,$13,$14,$15
        .byte $16,$18,$19,$1B,$1C,$1E
; ----------------------------------------------------------------------------
; 21-byte lookup table, used in R89D4, indexed by $3E
LA19F:  .byte $AF,$AF,$AE,$AE,$AD,$AC,$AB,$AA,$A8,$A7,$A5,$A3,$A2,$A0,$9E,$9D
        .byte $9B,$99,$98,$96,$94
; ----------------------------------------------------------------------------
; 21-byte lookup table, used in R89D4, indexed by $3E
LA1B4:  .byte $93,$91,$8F,$8E,$8C,$8B,$8A,$89,$88,$88,$87,$87,$87,$88,$88,$89
        .byte $8A,$8B,$8C,$8E,$8F
; ----------------------------------------------------------------------------
; 86-byte lookup table, used in R89D4, indexed by $3E
LA1C9:  .byte $91,$93,$94,$96,$98,$99,$9B,$9D,$9E,$A0,$A2,$A3,$A5,$A7,$A8,$AA
        .byte $AB,$AC,$AD,$AE,$AE,$AF,$AF,$AF,$AE,$AE,$AD,$AC,$AB,$AA,$A8,$A7
        .byte $A5,$A3,$A2,$A0,$9E,$9D,$9B,$99,$98,$96,$94,$93,$91,$8F,$8E,$8C
        .byte $8B,$8A,$89,$88,$88,$87,$87,$87,$88,$88,$89,$8A,$8B,$8C,$8E,$8F
        .byte $91,$93,$94,$96,$98,$99,$9B,$9D,$9E,$A0,$A2,$A3,$A5,$A7,$A8,$AA
        .byte $AB,$AC,$AD,$AE,$AE,$AF

; ----------------------------------------------------------------------------
; lookup table, used by R8FF4
LA21F:  .byte $01,$02,$04,$08,$10,$20,$20,$20,$20,$20,$20

; ----------------------------------------------------------------------------
; lookup table, used by R8617
LA22A:  .byte $0A,$03,$00                       ; A22A 0A 03 00
; ----------------------------------------------------------------------------
; lookup table, used by ...
LA22D:  .byte $01,$02,$04,$00                   ; A22D 01 02 04 00

; ----------------------------------------------------------------------------
; lookup table, indexed by $78,$79,$7A
LA231:  .byte $FC,$F8,$F4,$F2,$F1,$F0,$F1,$F2,$F4,$F8,$FC,$00
; ----------------------------------------------------------------------------
; lookup table, used by R8FF4 (index by 3s)
LA23D:  .byte $15,$18,$20,$00
        .byte $16,$0E,$0D,$00
        .byte $FE,$11,$12,$00
; ----------------------------------------------------------------------------
; lookup table, used by R8693 (index by 3s)
LA249:  .byte $15,$18,$20,$00
        .byte $16,$0E,$0D,$00
        .byte $FF,$11,$12,$00
; ----------------------------------------------------------------------------
; lookup table, used by L8AB1
LA255:  .byte $23,$24,$23,$25
; ----------------------------------------------------------------------------
; lookup table, used by
LA259:  .byte $26,$27,$26,$28
; ----------------------------------------------------------------------------
; lookup table, used by
LA25D:  .byte $29,$2A,$29,$2B
; ----------------------------------------------------------------------------
; lookup table, used by
LA261:  .byte $09,$0A,$09
; ----------------------------------------------------------------------------
; lookup table, used by
LA264:  .byte $04,$02,$03
; ----------------------------------------------------------------------------
; lookup table, used by
LA267:  .byte $00,$A7,$B7
; ----------------------------------------------------------------------------
; Argument to RB6C2
LA26A:  .byte $21,$88                           ; PPU address $2188
        .byte $02                               ; 2 bytes non-repeated
        .byte $FF,$FF
        .byte $21,$96                           ; PPU address $2196
        .byte $04                               ; 4 bytes non-repeated
        .byte $FF,$FF,$FF,$FF
        .byte $21,$B6                           ; PPU address $21B6
        .byte $04                               ; 4 bytes non-repeated
        .byte $FF,$FF,$FF,$FF
        .byte $21,$D6                           ; PPU address $21D6
        .byte $04                               ; 4 bytes non-repeated
        .byte $FF,$FF,$FF,$FF
        .byte $22,$28                           ; PPU address $2228
        .byte $02                               ; 2 bytes non-repeated
        .byte $F3,$F4
        .byte $22,$48                           ; PPU address $2248
        .byte $02                               ; 2 bytes non-repeated
        .byte $F5,$F6
        .byte $22,$68                           ; PPU address $2268
        .byte $02                               ; 2 bytes non-repeated
        .byte $FF,$FF
        .byte $FF                               ; terminator byte
; ----------------------------------------------------------------------------
; lookup table, used in R9B42
LA294:  .byte $57,$5B,$5F,$63,$67,$6B,$6F,$73
        .byte $77,$7B,$7F,$83,$87,$8B,$8F,$93
        .byte $97,$9B,$9F,$A3,$A7
; ----------------------------------------------------------------------------
LA2A9:  .byte $00,$00,$00,$00,$53,$62
; ----------------------------------------------------------------------------
LA2AF:  .byte $58,$80,$A4
; ----------------------------------------------------------------------------
LA2B2:  .byte $00,$00,$00,$00,$87,$96

; ----------------------------------------------------------------------------
; Argument to RB6C2
; Screen attribute data
LA2B8:  .byte $23,$C0,$20
        .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
        .byte $00,$00,$00,$00,$00,$88,$22,$00,$00,$50,$50,$50,$10,$88,$22,$00
        .byte $23,$E0,$20
        .byte $00,$05,$05,$05,$01,$00,$00,$00,$00,$55,$55,$55,$11,$00,$00,$00
        .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
        .byte $FF
; ----------------------------------------------------------------------------
; Argument to RB6C2
; Screen attribute data
LA2FF:  .byte $23,$C0,$20
        .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$50,$50,$50,$10,$00,$00,$00
        .byte $00,$05,$05,$05,$01,$88,$22,$00,$00,$00,$00,$00,$00,$88,$22,$00
        .byte $23,$E0,$20
        .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$55,$55,$55,$11,$00,$00,$00
        .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
        .byte $FF
; ----------------------------------------------------------------------------
; Argument to RB6C2
; Screen attribute data
LA346:  .byte $23,$C0,$20
        .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$50,$50,$50,$10,$00,$00,$00
        .byte $00,$05,$05,$05,$01,$88,$22,$00,$00,$50,$50,$50,$10,$88,$22,$00
        .byte $23,$E0,$20
        .byte $00,$05,$05,$05,$01,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
        .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
        .byte $FF

; ----------------------------------------------------------------------------
; lookup table used in R8D70
LA38D:  .byte $0F,$19,$1F                       ; A38D 0F 19 1F
; ----------------------------------------------------------------------------
; lookup table used in R9CFF
LA390:  .byte $10,$10,$10                       ; A390 10 10 10
; ----------------------------------------------------------------------------
; lookup table used in R9CFF
LA393:  .byte $02,$02,$02                       ; A393 02 02 02

; ----------------------------------------------------------------------------
; lookup table used in R8393 (indexed by $031E×2)
LA396:  .byte $22,$0E,$21,$CE,$21,$8E

; ----------------------------------------------------------------------------
; lookup table used in R8393 (indexed by $039E×2)
LA39C:  .byte $22,$10,$21,$D0,$21,$90,$00,$04,$08,$12,$16,$20,$24,$28,$32,$36
        .byte $40,$44,$48,$52,$56,$60,$64,$68,$72,$76,$80,$84,$88,$92,$96,$30
        .byte $30,$30,$30,$30,$30,$30,$30,$30,$30,$30,$30,$30,$30,$30,$28,$28
        .byte $20,$20,$18,$18,$18,$18,$18,$18,$18,$18,$18,$18,$18,$18,$18,$18
        .byte $18,$18

; ----------------------------------------------------------------------------
LA3DE:  .byte $09,$09,$09,$09,$09,$09,$09,$09,$09,$09,$09,$09,$09,$09,$09,$0A
        .byte $0A,$0B,$0B,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C
        .byte $0C,$0C,$0C

; ----------------------------------------------------------------------------
LA401:  .byte $BE,$F1,$BE,$BC,$B8,$B4,$F2,$B0,$AC,$A8,$A4,$A0,$9E,$98,$94,$90
        .byte $8C,$88,$84,$80,$7C,$7A,$78,$F0,$78,$FF
; ----------------------------------------------------------------------------
LA41B:  .byte $45,$00,$40,$36,$2E,$27,$00,$21,$1E,$1B,$19,$18,$18,$1A,$1C,$1F
        .byte $23,$28,$2D,$34,$3C,$43,$4A,$00,$4F,$F8,$01,$08,$FF,$00,$00,$07
        .byte $0F,$17,$02,$02,$02,$02,$02,$02,$02,$02,$03,$03,$03,$03,$03,$03
        .byte $03,$03,$04,$04,$04,$04,$04,$04,$04,$04
; ----------------------------------------------------------------------------
LA455:  .byte $00,$FF,$FF                       ; A455 00 FF FF
; ----------------------------------------------------------------------------
LA458:  .byte $F9,$F9,$FA                       ; A458 F9 F9 FA
; ----------------------------------------------------------------------------
LA45B:  .byte $00,$FF,$FF,$60,$68,$70,$78,$80,$88,$90,$98,$C0,$C1,$C2,$B0,$B1
        .byte $B2,$08,$F8,$01,$FF,$50,$40,$70,$60
; ----------------------------------------------------------------------------
; lookup table, 16 bytes
LA474:  .byte $78,$70,$68,$60,$58,$50,$48,$40   ; A474 78 70 68 60 58 50 48 40
        .byte $38,$30,$28,$20,$18,$10,$08,$00   ; A47C 38 30 28 20 18 10 08 00
; ----------------------------------------------------------------------------
; lookup table, used in R871F
LA484:  .byte $C8,$C0,$B8,$B0,$A8,$A0,$98,$90,$88,$80,$78,$70,$68,$60,$58,$50

; ----------------------------------------------------------------------------
LA494:  .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$09,$12,$1B
; ----------------------------------------------------------------------------
LA4A0:  .byte $00,$60,$02,$00,$00,$70,$02,$08,$FF,$00,$50,$02,$00,$F8,$40,$02
        .byte $00,$FF,$00,$70,$02,$08,$00,$60,$02,$00,$FF,$F8,$40,$02,$00,$00
        .byte $50,$02,$00,$FF
; ----------------------------------------------------------------------------
LA4C4:  .byte $00,$01,$00,$00,$F8,$00,$00,$00,$FF,$00,$01,$00,$F8,$00,$08,$00
        .byte $FF,$00,$01,$02,$F0,$F8,$00,$08

; ----------------------------------------------------------------------------
; lookup table, used in R8F52
LA4DC:  .byte $00,$01,$63,$63,$00,$F8,$63,$63,$01,$00,$63,$63,$F8,$00,$63,$63
        .byte $FF,$00,$01,$63,$08,$00,$F8,$63,$01,$00,$FF,$63,$F8,$00,$08,$63
        .byte $FF,$00,$01,$02,$08,$00,$F8,$F0,$02,$01,$00,$FF,$F0,$F8,$00,$08

; ----------------------------------------------------------------------------
LA50C:  .byte $60,$70,$00,$00,$50,$40,$00,$00,$70,$60,$00,$00,$40,$50,$00,$00
        .byte $60,$A0,$70,$00,$50,$90,$40,$00,$70,$A0,$60,$00,$40,$90,$50,$00
        .byte $60,$A0,$A0,$70,$50,$90,$90,$40,$70,$A0,$A0,$60,$40,$90,$90,$50
        .byte $47,$57,$67,$77,$87,$97,$A7,$01,$02

; ----------------------------------------------------------------------------
LA545:  .byte $00,$00,$00,$00,$80,$00,$11,$13,$15,$17,$10,$12,$14,$16,$09,$0B
        .byte $0D,$0F,$08,$0A,$0C,$0E,$10,$12,$14,$16,$11,$13,$15,$17,$08,$0A
        .byte $0C,$0E,$09,$0B,$0D,$0F

; ----------------------------------------------------------------------------
; Argument to RB6C2
; Palette RAM indexes
LA56B:  .byte $3F,$00,$20
        .byte $0F,$31,$2C,$0C,$0F,$32,$28,$0C,$0F,$28,$15,$21,$0F,$00,$22,$0C
        .byte $0F,$37,$30,$18,$0F,$28,$15,$0F,$0F,$28,$15,$21,$0F,$28,$21,$0F
        .byte $FF
; ----------------------------------------------------------------------------
; Argument to RB6C2
; Palette RAM indexes
LA58F:  .byte $3F,$00,$20
        .byte $0F,$0A,$1A,$11,$0F,$30,$28,$11,$0F,$0A,$1A,$15,$0F,$30,$28,$15
        .byte $0F,$37,$30,$18,$0F,$30,$15,$0C,$0F,$30,$2C,$0C,$0F,$38,$21,$0F
        .byte $FF
; ----------------------------------------------------------------------------
; Argument to RB6C2
; Palette RAM indexes
LA5B3:  .byte $3F,$00,$20
        .byte $0F,$30,$27,$15,$0F,$30,$17,$0F,$0F,$30,$29,$1A,$0F,$30,$0A,$0F
        .byte $0F,$30,$27,$15,$0F,$30,$17,$0F,$0F,$30,$29,$1A,$0F,$29,$27,$21
        .byte $FF
; ----------------------------------------------------------------------------
; Argument to RB6C2
; Palette RAM indexes
LA5D7:  .byte $3F,$00,$20
        .byte $0F,$31,$2C,$0C,$0F,$32,$28,$0C,$0F,$28,$15,$21,$0F,$00,$22,$0C
        .byte $0F,$37,$30,$18,$0F,$28,$15,$0F,$0F,$28,$15,$21,$0F,$28,$21,$0F
        .byte $FF
; ----------------------------------------------------------------------------
; Argument to RB6C2
; Palette RAM indexes
LA5FB:  .byte $3F,$00,$20
        .byte $22,$1A,$0A,$28,$22,$30,$0F,$0F,$22,$28,$15,$21,$22,$08,$18,$0F
        .byte $22,$27,$15,$3C,$22,$30,$10,$0F,$22,$28,$15,$0F,$22,$35,$29,$0F
        .byte $FF
; ----------------------------------------------------------------------------
; Argument to RB6C2
; Palette RAM indexes
LA61F:  .byte $3F,$00,$20
        .byte $02,$0F,$0F,$0F,$02,$02,$0F,$0F,$02,$28,$15,$21,$02,$08,$18,$0F
        .byte $02,$0F,$0F,$0F,$02,$30,$10,$0F,$02,$28,$15,$0F,$02,$10,$00,$0F
        .byte $FF
; ----------------------------------------------------------------------------
; Argument to RB6C2
; Palette RAM indexes
LA643:  .byte $3F,$00,$20
        .byte $0F,$0F,$0F,$0F,$0F,$30,$0F,$0F,$0F,$0F,$0F,$0F,$0F,$08,$18,$0F
        .byte $0F,$0F,$0F,$0F,$0F,$30,$0F,$0F,$0F,$0F,$0F,$0F,$0F,$0F,$0F,$0F
        .byte $FF
; ----------------------------------------------------------------------------
; Argument to RB6C2
LA667:  .byte $3F,$10                           ; PPU address $3F10
        .byte $10                               ; 16 non-repeated bytes
        .byte $02,$28,$15,$21
        .byte $02,$02,$10,$0F
        .byte $02,$28,$15,$0F
        .byte $02,$10,$00,$0F
        .byte $FF                               ; terminator byte
; ----------------------------------------------------------------------------
; Argument to RB6C2
; Palette RAM indexes
LA67B:  .byte $3F,$00,$20
        .byte $23,$19,$09,$18,$23,$30,$0F,$0F,$23,$28,$15,$21,$23,$08,$18,$0F
        .byte $23,$28,$16,$2C,$23,$10,$00,$0F,$23,$28,$15,$21,$23,$0F,$0F,$0F
        .byte $FF
; ----------------------------------------------------------------------------
; Argument to RB6C2
; Palette RAM indexes
LA69F:  .byte $3F,$00,$20
        .byte $13,$0A,$0F,$08,$13,$30,$0F,$0F,$13,$28,$15,$21,$13,$08,$18,$0F
        .byte $13,$08,$06,$1C,$13,$00,$21,$02,$13,$28,$15,$21,$13,$0F,$0F,$0F
        .byte $FF
; ----------------------------------------------------------------------------
; Argument to RB6C2
; Palette RAM indexes
LA6C3:  .byte $3F,$00,$20
        .byte $23,$19,$09,$18,$23,$30,$0F,$0F,$23,$28,$15,$21,$23,$08,$18,$0F
        .byte $23,$28,$16,$2C,$23,$10,$00,$0F,$23,$28,$15,$21,$23,$0F,$0F,$0F
        .byte $FF
; ----------------------------------------------------------------------------
; Argument to RB6C2
; Palette RAM indexes
LA6E7:  .byte $3F,$00,$10
        .byte $02,$0F,$0F,$0F,$02,$30,$0F,$0F,$02,$28,$15,$21,$02,$08,$18,$0F
        .byte $FF

; ----------------------------------------------------------------------------
; lookup table, used in R871F
LA6FB:  .byte $60,$60,$20,$A0,$C0,$F8,$6E,$82
        .byte $00,$00,$30,$00,$00,$01,$00,$00
        .byte $00,$08,$00,$00,$00,$12,$00,$00
        .byte $00,$30,$00,$00

; ----------------------------------------------------------------------------
; array of pairs of bytes, used by R8321
LA717:  .byte $21,$4C,$21,$6C,$21,$8C,$21,$AC
        .byte $21,$CC,$21,$EC,$22,$0C,$22,$2C
        .byte $22,$4C,$22,$6C,$22,$8C,$22,$AC
        .byte $22,$CC,$22,$EC,$23,$0C,$23,$2C

; ----------------------------------------------------------------------------
; array of pairs of bytes, used by R8321
LA737:  .byte $21,$44,$21,$64,$21,$84,$21,$A4
        .byte $21,$C4,$21,$E4,$22,$04,$22,$24
        .byte $22,$44,$22,$64,$22,$84,$22,$A4
        .byte $22,$C4,$22,$E4,$23,$04,$23,$24

; ----------------------------------------------------------------------------
; array of pairs of bytes, used by R8321
LA757:  .byte $21,$54,$21,$74,$21,$94,$21,$B4
        .byte $21,$D4,$21,$F4,$22,$14,$22,$34
        .byte $22,$54,$22,$74,$22,$94,$22,$B4
        .byte $22,$D4,$22,$F4,$23,$14,$23,$34

; ----------------------------------------------------------------------------
; lookup table, used in multiple places: R8393, R8508, R86AD, R87A2
LA777:  .byte $00,$01,$02,$03,$04,$05,$06,$07
        .byte $08,$09,$10,$11,$12,$13,$14,$15
        .byte $16,$17,$18,$19,$20,$21,$22,$23
        .byte $24,$25,$26,$27,$28,$29

; ----------------------------------------------------------------------------
; lookup table, used by R8D70
LA795:  .byte $45,$43,$41,$3F,$3D,$3B,$39,$37
        .byte $35,$33,$31,$2F,$2D,$2B,$29,$27
        .byte $25,$23,$21,$1F,$1D,$1B,$19,$17
        .byte $15,$13,$12,$11,$10,$0F,$0E,$0D
        .byte $0C,$0B,$0A,$09,$09,$08,$08,$07
        .byte $07,$06,$06,$05,$05,$05,$05,$05
        .byte $05,$05,$05,$05,$05,$05,$05,$04
        .byte $04,$04,$04,$04,$03,$03,$03,$03
        .byte $03,$02,$02,$02,$02,$02,$01,$01
        .byte $01,$01,$01,$01,$01,$01,$01,$01
        .byte $00,$01,$02,$03,$04,$05,$06,$03

; ----------------------------------------------------------------------------
; lookup table, used by R9CFF
LA7ED:  .byte $00,$01,$02,$02,$01,$00,$00,$01
        .byte $02,$02,$01,$00,$00,$01,$02,$01

; ----------------------------------------------------------------------------
; lookup table, used by R8E8D
LA7FD:  .byte $00,$00,$00,$01,$01,$01,$02,$02,$02

; ----------------------------------------------------------------------------
; lookup table, used by R8E8D
LA806:  .byte $00,$01,$02,$00,$01,$02,$00,$01,$02

; ----------------------------------------------------------------------------
; null-terminated string, used by R9691
LA80F:  .byte $8B,$8C,$8C,$8C,$8C,$8C,$8C,$8D,$8E
        .byte $FE,$FE,$FE,$FE,$FE,$FE,$8F,$8E,$FE
        .byte $0D,$1B,$0A,$20,$FE,$8F,$8E,$FE,$FE
        .byte $FE,$FE,$FE,$FE,$8F,$ED,$EE,$EE,$EE
        .byte $EE,$EE,$EE,$EF,$00

; ----------------------------------------------------------------------------
; null-terminated string, used by R96D4
LA838:  .byte $8B,$8C,$8C,$8C,$8C,$8C,$8C,$8D,$8E
        .byte $FE,$FE,$FE,$FE,$FE,$FE,$8F,$8E,$FE
        .byte $10,$0A,$16,$0E,$FE,$8F,$8E,$FE,$FE
        .byte $FE,$FE,$FE,$FE,$8F,$8E,$FE,$18,$1F
        .byte $0E,$1B,$FE,$8F,$8E,$FE,$FE,$FE,$FE
        .byte $FE,$FE,$8F,$ED,$EE,$EE,$EE,$EE,$EE
        .byte $EE,$EF,$00

; ----------------------------------------------------------------------------
; null-terminated string, used by RB337
LA871:  .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$8B
        .byte $8C,$8C,$8C,$8C,$8C,$8C,$8D,$8E,$FE
        .byte $FE,$FE,$FE,$FE,$FE,$8F,$8E,$1C,$1D
        .byte $0A,$10,$0E,$FE,$8F,$8E,$FE,$0C,$15
        .byte $0E,$0A,$1B,$8F,$8E,$FE,$FE,$FE,$FE
        .byte $FE,$FE,$8F,$8E,$1D,$1B,$22,$FE,$FE
        .byte $FE,$8F,$8E,$FE,$FE,$17,$0E,$21,$1D
        .byte $8F,$8E,$FE,$FE,$FE,$FE,$FE,$FE,$8F
        .byte $ED,$EE,$EE,$EE,$EE,$EE,$EE,$EF,$00

; ----------------------------------------------------------------------------
; array of pointers to strings
LA8C2:
.scope
        .word LA958, LA96D, LA96D, LA97A
        .word LA987, LA9C8, LA9F9, LAA26
        .word LAA67, LAAA4, LAAE1, LAB1E
        .word LAB63, LABA0, LABAD, LABBA
        .word LABC3, LABD8, LAC05, LAC05
        .word LAC2A, LAC4F, LAC74, LAC9D
        .word LACB6, LACBF, LACBF, LACBF
        .word LACBF, LACBF, LACC4, LACC9
        .word LACC9, LACD6, LACDB, LACE8
        .word LAD0D, LAD32, LAD57, LAD7C
        .word LADA1, LADC6, LADEB, LAE10
        .word LAE35, LAE56, LAE77, LAE98
        .word LAEB9, LAEDA, LAEFB, LAF44
        .word LAF65, LAFD6, LAFE7, LAFF8
        .word LB029, LB042, LB05B, LB074
        .word LB08D, LB08D, LB0B6, LB0D7
        .word LB0F8, LB10D, LB122, LB13B
        .word LB15C, LB175, LB18E, LB1CB
        .word LB208, LB23D, LB246
; ----------------------------------------------------------------------------
; strings
LA958:  .byte $00,$0A,$00,$00,$00,$0B,$00,$08,$00,$0C,$00,$10,$00,$0D,$00,$18
        .byte $00,$0E,$00,$20,$80
LA96D:  .byte $00,$F0,$03,$00,$00,$F1,$03,$08,$00,$F2,$03,$10,$80
LA97A:  .byte $00,$F0,$83,$00,$00,$F1,$83,$08,$00,$F2,$83,$10,$80
LA987:  .byte $00,$3F,$03,$00,$00,$2F,$03,$08,$00,$2F,$03,$10,$00,$2F,$03,$18
        .byte $00,$2F,$03,$20,$00,$2F,$03,$28,$00,$5F,$03,$30,$08,$2E,$03,$00
        .byte $08,$2E,$03,$30,$10,$4F,$03,$00,$10,$2F,$03,$08,$10,$2F,$03,$10
        .byte $10,$2F,$03,$18,$10,$2F,$03,$20,$10,$2F,$03,$28,$10,$6F,$03,$30
        .byte $80
LA9C8:  .byte $00,$3F,$03,$00,$00,$2F,$03,$08,$00,$2F,$03,$10,$00,$2F,$03,$18
        .byte $00,$5F,$03,$20,$08,$2E,$03,$00,$08,$2E,$03,$20,$10,$4F,$03,$00
        .byte $10,$2F,$03,$08,$10,$2F,$03,$10,$10,$2F,$03,$18,$10,$6F,$03,$20
        .byte $80
LA9F9:  .byte $00,$20,$01,$00,$00,$21,$01,$08,$00,$84,$01,$10,$00,$83,$41,$18
        .byte $08,$22,$01,$00,$08,$23,$01,$08,$08,$94,$01,$10,$08,$93,$41,$18
        .byte $10,$24,$01,$08,$10,$A4,$01,$10,$10,$A3,$41,$18,$80
LAA26:  .byte $E0,$10,$01,$F8,$E0,$11,$01,$00,$E0,$11,$41,$08,$E0,$10,$41,$10
        .byte $E8,$12,$01,$F8,$E8,$13,$01,$00,$E8,$13,$41,$08,$E8,$12,$41,$10
        .byte $F0,$12,$81,$F8,$F0,$13,$81,$00,$F0,$13,$C1,$08,$F0,$12,$C1,$10
        .byte $F8,$10,$81,$F8,$F8,$11,$81,$00,$F8,$11,$C1,$08,$F8,$10,$C1,$10
        .byte $80
LAA67:  .byte $00,$67,$00,$00,$00,$68,$00,$08,$00,$69,$00,$10,$08,$15,$00,$00
        .byte $08,$16,$00,$08,$08,$17,$00,$10,$10,$18,$00,$00,$10,$19,$00,$08
        .byte $10,$1A,$00,$10,$18,$1B,$00,$00,$18,$1C,$00,$08,$18,$1D,$00,$10
        .byte $20,$30,$00,$00,$20,$31,$00,$08,$20,$32,$00,$10,$80
LAAA4:  .byte $00,$1E,$00,$00,$00,$68,$00,$08,$00,$69,$00,$10,$08,$2E,$00,$00
        .byte $08,$16,$00,$08,$08,$17,$00,$10,$10,$3E,$00,$00,$10,$19,$00,$08
        .byte $10,$1A,$00,$10,$18,$4E,$00,$00,$18,$1C,$00,$08,$18,$1D,$00,$10
        .byte $20,$30,$00,$00,$20,$31,$00,$08,$20,$32,$00,$10,$80
LAAE1:  .byte $00,$33,$00,$00,$00,$34,$00,$08,$00,$35,$00,$10,$08,$43,$00,$00
        .byte $08,$44,$00,$08,$08,$45,$00,$10,$10,$53,$00,$00,$10,$54,$00,$08
        .byte $10,$55,$00,$10,$18,$63,$00,$00,$18,$64,$00,$08,$18,$65,$00,$10
        .byte $20,$73,$00,$00,$20,$74,$00,$08,$20,$75,$00,$10,$80
LAB1E:  .byte $00,$36,$00,$00,$00,$34,$00,$08,$00,$35,$00,$10,$08,$66,$00,$F8
        .byte $08,$46,$00,$00,$08,$44,$00,$08,$08,$45,$00,$10,$10,$76,$00,$F8
        .byte $10,$56,$00,$00,$10,$54,$00,$08,$10,$55,$00,$10,$18,$63,$00,$00
        .byte $18,$64,$00,$08,$18,$65,$00,$10,$20,$73,$00,$00,$20,$74,$00,$08
        .byte $20,$75,$00,$10,$80
LAB63:  .byte $00,$36,$00,$00,$00,$34,$00,$08,$00,$35,$00,$10,$08,$37,$00,$00
        .byte $08,$44,$00,$08,$08,$45,$00,$10,$10,$47,$00,$00,$10,$54,$00,$08
        .byte $10,$55,$00,$10,$18,$57,$00,$00,$18,$64,$00,$08,$18,$65,$00,$10
        .byte $20,$73,$00,$00,$20,$74,$00,$08,$20,$75,$00,$10,$80
LABA0:  .byte $00,$15,$00,$00,$00,$18,$00,$08,$00,$20,$00,$10,$80
LABAD:  .byte $00,$16,$00,$00,$00,$0E,$00,$08,$00,$0D,$00,$10,$80
LABBA:  .byte $00,$11,$00,$00,$00,$12,$00,$08,$80
LABC3:  .byte $00,$0D,$00,$00,$00,$0F,$00,$08,$00,$0B,$00,$10,$00,$14,$00,$18
        .byte $00,$0F,$00,$20,$80
LABD8:  .byte $00,$20,$01,$00,$00,$2B,$01,$08,$00,$39,$01,$10,$00,$38,$41,$18
        .byte $08,$22,$01,$00,$08,$2C,$01,$08,$08,$49,$01,$10,$08,$48,$41,$18
        .byte $10,$2D,$01,$08,$10,$59,$01,$10,$10,$58,$41,$18,$80
LAC05:  .byte $00,$38,$01,$00,$00,$39,$01,$08,$00,$38,$41,$10,$08,$48,$01,$00
        .byte $08,$49,$01,$08,$08,$48,$41,$10,$10,$58,$01,$00,$10,$59,$01,$08
        .byte $10,$58,$41,$10,$80
LAC2A:  .byte $00,$3A,$03,$00,$00,$3B,$03,$08,$00,$3A,$43,$10,$08,$4A,$03,$00
        .byte $08,$4B,$03,$08,$08,$4A,$43,$10,$10,$5A,$03,$00,$10,$5B,$03,$08
        .byte $10,$5A,$43,$10,$80
LAC4F:  .byte $00,$3C,$03,$00,$00,$3D,$03,$08,$00,$3C,$43,$10,$08,$4C,$03,$00
        .byte $08,$4D,$03,$08,$08,$4C,$43,$10,$10,$5C,$03,$00,$10,$5D,$03,$08
        .byte $10,$5C,$43,$10,$80
LAC74:  .byte $00,$20,$21,$00,$00,$21,$21,$08,$00,$22,$21,$10,$00,$23,$21,$18
        .byte $00,$24,$21,$20,$08,$30,$21,$00,$08,$31,$21,$08,$08,$32,$21,$10
        .byte $08,$33,$21,$18,$08,$34,$21,$20,$80
LAC9D:  .byte $00,$03,$21,$00,$00,$04,$21,$08,$00,$05,$21,$10,$08,$13,$21,$00
        .byte $08,$14,$21,$08,$08,$15,$21,$10,$80
LACB6:  .byte $00,$44,$21,$00,$00,$45,$21,$08,$80
LACBF:  .byte $00,$45,$00,$00,$80
LACC4:  .byte $00,$45,$80,$00,$80
LACC9:  .byte $00,$00,$00,$00,$00,$01,$00,$0A,$00,$02,$00,$14,$80
LACD6:  .byte $00,$29,$01,$00,$80
LACDB:  .byte $00,$10,$00,$00,$00,$11,$00,$0A,$00,$12,$00,$14,$80
LACE8:  .byte $00,$83,$01,$00,$00,$84,$01,$08,$00,$83,$41,$10,$08,$93,$01,$00
        .byte $08,$94,$01,$08,$08,$93,$41,$10,$10,$A3,$01,$00,$10,$A4,$01,$08
        .byte $10,$A3,$41,$10,$80
LAD0D:  .byte $00,$85,$01,$00,$00,$86,$01,$08,$00,$87,$01,$10,$08,$95,$01,$00
        .byte $08,$96,$01,$08,$08,$97,$01,$10,$10,$A5,$01,$00,$10,$A6,$01,$08
        .byte $10,$A7,$01,$10,$80
LAD32:  .byte $00,$87,$41,$00,$00,$86,$41,$08,$00,$85,$41,$10,$08,$97,$41,$00
        .byte $08,$96,$41,$08,$08,$95,$41,$10,$10,$A7,$41,$00,$10,$A6,$41,$08
        .byte $10,$A5,$41,$10,$80
LAD57:  .byte $00,$B3,$03,$00,$00,$B4,$03,$08,$00,$B3,$43,$10,$08,$C3,$03,$00
        .byte $08,$C4,$03,$08,$08,$C3,$43,$10,$10,$D3,$03,$00,$10,$D4,$03,$08
        .byte $10,$D3,$43,$10,$80
LAD7C:  .byte $00,$B5,$03,$00,$00,$B6,$03,$08,$00,$B7,$03,$10,$08,$C5,$03,$00
        .byte $08,$C6,$03,$08,$08,$C7,$03,$10,$10,$D5,$03,$00,$10,$D6,$03,$08
        .byte $10,$D7,$03,$10,$80
LADA1:  .byte $00,$B7,$43,$00,$00,$B6,$43,$08,$00,$B5,$43,$10,$08,$C7,$43,$00
        .byte $08,$C6,$43,$08,$08,$C5,$43,$10,$10,$D7,$43,$00,$10,$D6,$43,$08
        .byte $10,$D5,$43,$10,$80
LADC6:  .byte $00,$88,$03,$00,$00,$89,$03,$08,$00,$88,$43,$10,$08,$98,$03,$00
        .byte $08,$99,$03,$08,$08,$98,$43,$10,$10,$A8,$03,$00,$10,$A9,$03,$08
        .byte $10,$A8,$43,$10,$80
LADEB:  .byte $00,$8A,$03,$00,$00,$8B,$03,$08,$00,$8C,$03,$10,$08,$9A,$03,$00
        .byte $08,$9B,$03,$08,$08,$9C,$03,$10,$10,$AA,$03,$00,$10,$AB,$03,$08
        .byte $10,$AC,$03,$10,$80
LAE10:  .byte $00,$8C,$43,$00,$00,$8B,$43,$08,$00,$8A,$43,$10,$08,$9C,$43,$00
        .byte $08,$9B,$43,$08,$08,$9A,$43,$10,$10,$AC,$43,$00,$10,$AB,$43,$08
        .byte $10,$AA,$43,$10,$80
LAE35:  .byte $00,$BB,$01,$00,$00,$BC,$01,$08,$08,$CB,$01,$00,$08,$CC,$01,$08
        .byte $08,$CD,$01,$10,$10,$DB,$01,$00,$10,$DC,$01,$08,$10,$DD,$01,$10
        .byte $80
LAE56:  .byte $00,$BC,$41,$08,$00,$BB,$41,$10,$08,$CD,$41,$00,$08,$CC,$41,$08
        .byte $08,$CB,$41,$10,$10,$DD,$41,$00,$10,$DC,$41,$08,$10,$DB,$41,$10
        .byte $80
LAE77:  .byte $00,$B8,$03,$00,$00,$B9,$03,$08,$08,$C8,$03,$00,$08,$C9,$03,$08
        .byte $08,$CA,$03,$10,$10,$D8,$03,$00,$10,$D9,$03,$08,$10,$DA,$03,$10
        .byte $80
LAE98:  .byte $00,$B9,$43,$08,$00,$B8,$43,$10,$08,$CA,$43,$00,$08,$C9,$43,$08
        .byte $08,$C8,$43,$10,$10,$DA,$43,$00,$10,$D9,$43,$08,$10,$D8,$43,$10
        .byte $80
LAEB9:  .byte $00,$8D,$03,$00,$00,$8E,$03,$08,$08,$9D,$03,$00,$08,$9E,$03,$08
        .byte $08,$9F,$03,$10,$10,$AD,$03,$00,$10,$AE,$03,$08,$10,$AF,$03,$10
        .byte $80
LAEDA:  .byte $00,$8E,$43,$08,$00,$8D,$43,$10,$08,$9F,$43,$00,$08,$9E,$43,$08
        .byte $08,$9D,$43,$10,$10,$AF,$43,$00,$10,$AE,$43,$08,$10,$AD,$43,$10
        .byte $80
LAEFB:  .byte $00,$67,$00,$00,$00,$68,$00,$08,$00,$69,$00,$10,$08,$6A,$00,$00
        .byte $08,$6B,$00,$08,$08,$6C,$00,$10,$10,$77,$00,$F8,$10,$78,$00,$00
        .byte $10,$79,$00,$08,$10,$7A,$00,$10,$10,$7B,$00,$18,$18,$7C,$00,$00
        .byte $18,$7D,$00,$08,$18,$7E,$00,$10,$18,$7F,$00,$18,$20,$73,$00,$00
        .byte $20,$74,$00,$08,$20,$75,$00,$10,$80
LAF44:  .byte $00,$90,$00,$00,$00,$91,$00,$08,$00,$90,$40,$10,$08,$92,$00,$00
        .byte $08,$92,$40,$10,$10,$90,$80
        .byte $00,$10,$91,$80                   ; AF5B
        .byte $08,$10,$90,$C0,$10,$80           ; AF5F
LAF65:  .byte $00,$0A,$22,$10,$00,$0B,$22,$18,$00,$0C,$22,$20,$00,$0D,$22,$28
        .byte $08,$18,$22,$00,$08,$19,$22,$08,$08,$1A,$22,$10,$08,$1B,$22,$18
        .byte $08,$1C,$22,$20,$08,$1D,$22,$28,$08,$1E,$22,$30,$08,$1F,$22,$38
        .byte $10,$28,$22,$00,$10,$29,$22,$08,$10,$2A,$22,$10,$10,$2B,$22,$18
        .byte $10,$2C,$22,$20,$10,$2D,$22,$28,$10,$2E,$22,$30,$10,$2F,$22,$38
        .byte $18,$38,$22,$00,$18,$39,$22,$08,$18,$3A,$22,$10,$18,$3B,$22,$18
        .byte $18,$3C,$22,$20,$18,$3D,$22,$28,$18,$3E,$22,$30,$18,$3F,$22,$38
        .byte $80
LAFD6:  .byte $20,$4A,$22,$10,$20,$4B,$22,$18,$20,$4C,$22,$20,$20,$4D,$22,$28
        .byte $80
LAFE7:  .byte $20,$5A,$22,$10,$20,$5B,$22,$18,$20,$5C,$22,$20,$20,$5D,$22,$28
        .byte $80
LAFF8:  .byte $28,$07,$02,$18,$28,$07,$42,$20,$30,$17,$02,$18,$30,$17,$42,$20
        .byte $38,$26,$02,$10,$38,$27,$02,$18,$38,$27,$42,$20,$38,$26,$42,$28
        .byte $40,$36,$02,$10,$40,$37,$02,$18,$40,$37,$42,$20,$40,$36,$42,$28
        .byte $80
LB029:  .byte $00,$54,$23,$00,$00,$55,$23,$08,$00,$56,$23,$10,$08,$64,$23,$00
        .byte $08,$65,$23,$08,$08,$66,$23,$10,$80
LB042:  .byte $00,$54,$23,$00,$00,$55,$23,$08,$00,$57,$23,$10,$08,$64,$23,$00
        .byte $08,$65,$23,$08,$08,$66,$23,$10,$80
LB05B:  .byte $00,$72,$63,$00,$00,$71,$63,$08,$00,$70,$63,$10,$08,$82,$63,$00
        .byte $08,$81,$63,$08,$08,$80
        .byte $63,$10,$80                       ; B071
LB074:  .byte $00,$72,$63,$00,$00,$71,$63,$08,$00,$70,$63,$10,$08,$92,$63,$00
        .byte $08,$91,$63,$08,$08,$90,$63,$10,$80
LB08D:  .byte $00,$A0,$21,$00,$00,$A1,$21,$08,$00,$A2,$21,$10,$08,$B0,$21,$00
        .byte $08,$B1,$21,$08,$08,$B2,$21,$10,$08,$B3,$21,$18,$10,$C1,$21,$08
        .byte $10,$C2,$21,$10,$10,$C3,$21,$18,$80
LB0B6:  .byte $00,$74,$63,$08,$00,$73,$63,$10,$08,$85,$63,$00,$08,$84,$63,$08
        .byte $08,$83,$63,$10,$10,$95,$63,$00,$10,$94,$63,$08,$10,$93,$63,$10
        .byte $80
LB0D7:  .byte $00,$74,$63,$08,$00,$73,$63,$10,$08,$75,$63,$00,$08,$84,$63,$08
        .byte $08,$83,$63,$10,$10,$95,$63,$00,$10,$94,$63,$08,$10,$93,$63,$10
        .byte $80
LB0F8:  .byte $00,$76,$22,$00,$00,$77,$22,$08,$08,$86,$22,$00,$08,$87,$22,$08
        .byte $08,$89,$22,$10,$80
LB10D:  .byte $00,$76,$22,$00,$00,$78,$22,$08,$08,$86,$22,$00,$08,$88,$22,$08
        .byte $08,$89,$22,$10,$80
LB122:  .byte $00,$6A,$21,$00,$00,$6B,$21,$08,$08,$7A,$21,$00,$08,$7B,$21,$08
        .byte $10,$8A,$21,$00,$10,$8B,$21,$08,$80
LB13B:  .byte $00,$6A,$21,$00,$00,$6B,$21,$08,$08,$7A,$21,$00,$08,$7B,$21,$08
        .byte $10,$8A,$21,$00,$10,$8B,$21,$08,$10,$6C,$22,$10,$10,$6D,$22,$18
        .byte $80
LB15C:  .byte $00,$7E,$62,$00,$00,$7D,$62,$08,$00,$7C,$62,$10,$08,$8E,$62,$00
        .byte $08,$8D,$62,$08,$08,$8C,$62,$10,$80
LB175:  .byte $00,$9E,$62,$00,$00,$9D,$62,$08,$00,$9C,$62,$10,$08,$AE,$62,$00
        .byte $08,$AD,$62,$08,$08,$AC,$62,$10,$80
LB18E:  .byte $00,$A6,$63,$08,$00,$A5,$63,$10,$00,$A4,$63,$18,$08,$B7,$63,$00
        .byte $08,$B6,$63,$08,$08,$B5,$63,$10,$08,$B4,$63,$18,$10,$C7,$63,$00
        .byte $10,$C6,$63,$08,$10,$C5,$63,$10,$10,$C4,$63,$18,$18,$D7,$63,$00
        .byte $18,$D6,$63,$08,$18,$D5,$63,$10,$18,$D4,$63,$18,$80
LB1CB:  .byte $00,$A6,$63,$08,$00,$A5,$63,$10,$00,$A4,$63,$18,$08,$B7,$63,$00
        .byte $08,$98,$63,$08,$08,$97,$63,$10,$08,$B4,$63,$18,$10,$C7,$63,$00
        .byte $10,$A8,$63,$08,$10,$A7,$63,$10,$10,$C4,$63,$18,$18,$D7,$63,$00
        .byte $18,$D6,$63,$08,$18,$D5,$63,$10,$18,$D4,$63,$18,$80
LB208:  .byte $00,$67,$00,$00,$00,$68,$00,$08,$00,$69,$00,$10,$08,$15,$00,$00
        .byte $08,$16,$00,$08,$08,$17,$00,$10,$10,$5E,$00,$00,$10,$5F,$00,$08
        .byte $10,$3F,$00,$10,$18,$6E,$00,$00,$18,$6F,$00,$08,$18,$4F,$00,$10
        .byte $20,$30,$00,$00,$80
LB23D:  .byte $20,$31,$00,$08,$20,$32,$00,$10,$80
LB246:  .byte $20,$1F,$00,$08,$20,$2F,$00,$10,$80
.endscope

; ----------------------------------------------------------------------------
RB24F:
.scope
        lda     $0324                           ; B24F AD 24 03
        beq     LB25C                           ; B252 F0 08
        lda     $03A4                           ; B254 AD A4 03
        beq     LB25C                           ; B257 F0 03
        jmp     LB336                           ; B259 4C 36 B3

LB25C:  lda     #$0F                            ; B25C A9 0F
        sta     $0300                           ; B25E 8D 00 03
        sta     $0380                           ; B261 8D 80 03
        lda     #$40                            ; B264 A9 40
        jsr     R9701                           ; B266 20 01 97
        lda     $0324                           ; B269 AD 24 03
        bne     LB290                           ; B26C D0 22
        lda     $0727                           ; B26E AD 27 07
        cmp     #$01                            ; B271 C9 01
        beq     LB280                           ; B273 F0 0B
        lda     $03A4                           ; B275 AD A4 03
        bne     LB280                           ; B278 D0 06
        jsr     R9682                           ; B27A 20 82 96
        jmp     LB2A2                           ; B27D 4C A2 B2

LB280:  jsr     R9075                           ; B280 20 75 90
        jsr     RB337                           ; B283 20 37 B3
        jsr     R90AF                           ; B286 20 AF 90
        lda     #$01                            ; B289 A9 01
        sta     $55                             ; B28B 85 55
        jmp     LB2A2                           ; B28D 4C A2 B2

LB290:  lda     $03A4                           ; B290 AD A4 03
        if_eq                                   ; B293 D0 0D
            jsr R9092                           ; B295 20 92 90
            jsr RB337                           ; B298 20 37 B3
            jsr R90BC                           ; B29B 20 BC 90
            lda #$02                            ; B29E A9 02
            sta $55                             ; B2A0 85 55
        end_if
LB2A2:  lda     #$0F                            ; B2A2 A9 0F
        sta     $0300                           ; B2A4 8D 00 03
        sta     $0380                           ; B2A7 8D 80 03
        lda     #$10                            ; B2AA A9 10
        jsr     R9701                           ; B2AC 20 01 97
        ldx     $0731                           ; B2AF AE 31 07
        lda     LA261,x                         ; B2B2 BD 61 A2
        sta     $06F5                           ; B2B5 8D F5 06
        lda     $0727                           ; B2B8 AD 27 07
        cmp     #$01                            ; B2BB C9 01
        if_eq                                   ; B2BD D0 0A
            lda $0316                           ; B2BF AD 16 03
            cmp #$18                            ; B2C2 C9 18
            if_ne                               ; B2C4 F0 03
                inc $0316                       ; B2C6 EE 16 03
            end_if
        end_if
        lda     #$80                            ; B2C9 A9 80
        ora     $52                             ; B2CB 05 52
        sta     $52                             ; B2CD 85 52
        lda     #$0F                            ; B2CF A9 0F
        sta     $0300                           ; B2D1 8D 00 03
        sta     $0380                           ; B2D4 8D 80 03
        lda     #$10                            ; B2D7 A9 10
        jsr     R9701                           ; B2D9 20 01 97
        lda     #$0F                            ; B2DC A9 0F
        sta     $0300                           ; B2DE 8D 00 03
        sta     $0380                           ; B2E1 8D 80 03
        loop
            lda $43                             ; B2E4 A5 43
            and #$08                            ; B2E6 29 08
            if_ne                               ; B2E8 F0 13
                lda #$6D                        ; B2EA A9 6D
                sta $44                         ; B2EC 85 44
                ldx $0727                       ; B2EE AE 27 07
                lda LA105,x                     ; B2F1 BD 05 A1
                sta $45                         ; B2F4 85 45
                lda #$10                        ; B2F6 A9 10
                sta $53                         ; B2F8 85 53
                jsr R88F6                       ; B2FA 20 F6 88
            end_if
            jsr RB654                           ; B2FD 20 54 B6
            lda $F5                             ; B300 A5 F5
            ora $F7                             ; B302 05 F7
            and #$10                            ; B304 29 10
        while_eq                                ; B306 F0 DC
        lda     $0727                           ; B308 AD 27 07
        cmp     #$02                            ; B30B C9 02
        if_ne                                   ; B30D F0 0A
            jsr R9E4C                           ; B30F 20 4C 9E
            ; enter top-level state 3
            lda #$03                            ; B312 A9 03
            sta $46                             ; B314 85 46
        else                                    ; B316 4C 36 B3
            lda #$FF                            ; B319 A9 FF
            ldx #$04                            ; B31B A2 04
            ldy #$05                            ; B31D A0 05
            jsr RB894                           ; B31F 20 94 B8
            lda #$0F                            ; B322 A9 0F
            sta $0300                           ; B324 8D 00 03
            sta $0380                           ; B327 8D 80 03
            lda #$10                            ; B32A A9 10
            jsr R9701                           ; B32C 20 01 97
            ; enter top-level state 3
            lda #$03                            ; B32F A9 03
            sta $46                             ; B331 85 46
            jmp LB336                           ; B333 4C 36 B3
        end_if
LB336:  rts                                     ; B336 60
.endscope

; ----------------------------------------------------------------------------
RB337:
.scope
        lda     $58                             ; B337 A5 58
        tax                                     ; B339 AA
        tay                                     ; B33A A8
        lda     #$FF                            ; B33B A9 FF
        jsr     RB894                           ; B33D 20 94 B8
        lda     #$00                            ; B340 A9 00
        sta     $57                             ; B342 85 57
        ldy     #$00                            ; B344 A0 00
;TODO: forever/break
LB346:  lda     LA871,y                         ; B346 B9 71 A8
        beq     LB351                           ; B349 F0 06
        sta     ($57),y                         ; B34B 91 57
        iny                                     ; B34D C8
        jmp     LB346                           ; B34E 4C 46 B3

LB351:  rts                                     ; B351 60
.endscope

; ----------------------------------------------------------------------------
RB352:
.scope
        ldx     #$00                            ; B352 A2 00
        ldy     #$00                            ; B354 A0 00
        loop
            lda LB3BF,x                         ; B356 BD BF B3
            sta $0580,y                         ; B359 99 80 05
            iny                                 ; B35C C8
            lda LB40A,x                         ; B35D BD 0A B4
            sta $0580,y                         ; B360 99 80 05
            iny                                 ; B363 C8
            lda LB3E5,x                         ; B364 BD E5 B3
            sta $0580,y                         ; B367 99 80 05
            iny                                 ; B36A C8
            inx                                 ; B36B E8
            cpx #$26                            ; B36C E0 26
        while_ne                                ; B36E D0 E6
        rts                                     ; B370 60
.endscope

; ----------------------------------------------------------------------------
RB371:
.scope
        lda     $8B                             ; B371 A5 8B
        cmp     #$02                            ; B373 C9 02
        bne     LB3BE                           ; B375 D0 47
        ldx     #$00                            ; B377 A2 00
        ldy     $42                             ; B379 A4 42
LB37B:  lda     $0580,x                         ; B37B BD 80 05
        sta     $47                             ; B37E 85 47
        lda     $43                             ; B380 A5 43
        and     #$03                            ; B382 29 03
        bne     LB388                           ; B384 D0 02
        inc     $47                             ; B386 E6 47
LB388:  lda     $47                             ; B388 A5 47
        sta     $0580,x                         ; B38A 9D 80 05
        sta     $0200,y                         ; B38D 99 00 02
        inx                                     ; B390 E8
        iny                                     ; B391 C8
        lda     $0580,x                         ; B392 BD 80 05
        sta     $47                             ; B395 85 47
        lda     $43                             ; B397 A5 43
        and     #$01                            ; B399 29 01
        clc                                     ; B39B 18
        adc     $47                             ; B39C 65 47
        and     #$03                            ; B39E 29 03
        ora     #$40                            ; B3A0 09 40
        sta     $0580,x                         ; B3A2 9D 80 05
        sta     $0200,y                         ; B3A5 99 00 02
        inx                                     ; B3A8 E8
        iny                                     ; B3A9 C8
        lda     #$20                            ; B3AA A9 20
        sta     $0200,y                         ; B3AC 99 00 02
        iny                                     ; B3AF C8
        lda     $0580,x                         ; B3B0 BD 80 05
        sta     $0200,y                         ; B3B3 99 00 02
        inx                                     ; B3B6 E8
        iny                                     ; B3B7 C8
        cpx     #$72                            ; B3B8 E0 72
        bne     LB37B                           ; B3BA D0 BF
        sty     $42                             ; B3BC 84 42
LB3BE:  rts                                     ; B3BE 60
.endscope

; ----------------------------------------------------------------------------
; lookup table
; used by RB352
LB3BF:  .byte $00,$07,$0E,$15,$1C,$23,$2A,$31
        .byte $38,$3F,$46,$4D,$54,$5B,$62,$69
        .byte $70,$77,$7E,$85,$8C,$93,$9A,$A1
        .byte $A8,$AF,$B6,$BD,$C4,$CB,$D2,$D9
        .byte $E0,$E7,$EE,$F5,$FC,$FF

; ----------------------------------------------------------------------------
; lookup table
; used by RB352
LB3E5:  .byte $58,$C0,$40,$E0,$90,$10,$60,$A8
        .byte $70,$C0,$30,$D8,$50,$E8,$90,$B0
        .byte $10,$68,$C8,$38,$78,$20,$A8,$50
        .byte $D8,$C0,$88,$E8,$48,$98,$30,$C8
        .byte $60,$D8,$10,$A0,$80

; ----------------------------------------------------------------------------
; lookup table
; used by RB352
LB40A:  .byte $F1,$F0,$F2,$F1,$F2,$F1,$F0,$F0
        .byte $F1,$F2,$F2,$F0,$F0,$F1,$F1,$F2
        .byte $F0,$F2,$F0,$F1,$F0,$F2,$F2,$F0
        .byte $F1,$F0,$F2,$F2,$F1,$F1,$F0,$F2
        .byte $F2,$F1,$F2,$F0,$F1

; ----------------------------------------------------------------------------
RB42F:
.scope
        lda     $8B                             ; B42F A5 8B
        cmp     #$02                            ; B431 C9 02
        if_eq                                   ; B433 D0 09
            lda $96                             ; B435 A5 96
            cmp #$15                            ; B437 C9 15
            if_eq                               ; B439 D0 03
                jsr RB43F                       ; B43B 20 3F B4
            end_if
        end_if
        rts                                     ; B43E 60
.endscope

; ----------------------------------------------------------------------------
RB43F:
.scope
        lda     $5E                             ; B43F A5 5E
        jsr     RB8AC                           ; B441 20 AC B8
        .word   LB4E6
        .word   LB4E6
        .word   LB4E6
        .word   LB4F6
        .word   LB4E6
        .word   LB4E6
        .word   LB4FD
        .word   LB4E6
        .word   LB4E6
        .word   LB504
        .word   LB4C1
        .word   LB4EF
        .word   LB483
        .word   LB4CF
        .word   LB51C
        .word   LB4EC
        .word   LB512
        .word   LB496
        .word   LB4E0
        .word   LB589
        .word   LB4A6
        .word   LB4EC
        .word   LB533
        .word   LB48B
        .word   LB54A
        .word   LB4EF
        .word   LB4CF
        .word   LB50B
        .word   LB512
        .word   LB4B6
        .word   LB565
        .byte   $60                             ; B482 60

LB483:  lda     #$03                            ; B483 A9 03
        sta     $06F4                           ; B485 8D F4 06
        inc     $5E                             ; B488 E6 5E
        rts                                     ; B48A 60

LB48B:  jsr     RB569                           ; B48B 20 69 B5
        lda     #$04                            ; B48E A9 04
        sta     $06F0                           ; B490 8D F0 06
        inc     $5E                             ; B493 E6 5E
        rts                                     ; B495 60

LB496:  jsr     RB569                           ; B496 20 69 B5
        lda     #$01                            ; B499 A9 01
        sta     $06F3                           ; B49B 8D F3 06
        lda     #$06                            ; B49E A9 06
        sta     $06F0                           ; B4A0 8D F0 06
        inc     $5E                             ; B4A3 E6 5E
        rts                                     ; B4A5 60

LB4A6:  jsr     RB569                           ; B4A6 20 69 B5
        lda     #$03                            ; B4A9 A9 03
        sta     $06F3                           ; B4AB 8D F3 06
        lda     #$07                            ; B4AE A9 07
        sta     $06F0                           ; B4B0 8D F0 06
        inc     $5E                             ; B4B3 E6 5E
        rts                                     ; B4B5 60

LB4B6:  jsr     $B569                           ; B4B6 20 69 B5
        lda     #$0C                            ; B4B9 A9 0C
        sta     $06F5                           ; B4BB 8D F5 06
        inc     $5E                             ; B4BE E6 5E
        rts                                     ; B4C0 60

LB4C1:  lda     #$81                            ; B4C1 A9 81
        sta     $7F                             ; B4C3 85 7F
        inc     $5E                             ; B4C5 E6 5E
        rts                                     ; B4C7 60

        lda     #$41                            ; B4C8 A9 41
        sta     $7F                             ; B4CA 85 7F
        inc     $5E                             ; B4CC E6 5E
        rts                                     ; B4CE 60

LB4CF:  lda     $43                             ; B4CF A5 43
        cmp     #$C0                            ; B4D1 C9 C0
        bcc     LB4EF                           ; B4D3 90 1A
        and     #$0F                            ; B4D5 29 0F
        tax                                     ; B4D7 AA
        lda     LA085,x                         ; B4D8 BD 85 A0
        sta     $66                             ; B4DB 85 66
        jmp     LB4EF                           ; B4DD 4C EF B4

LB4E0:  jsr     RB5A7                           ; B4E0 20 A7 B5
        jmp     LB4EF                           ; B4E3 4C EF B4

LB4E6:  jsr     R9F28                           ; B4E6 20 28 9F
        jmp     LB4EF                           ; B4E9 4C EF B4

LB4EC:  jsr     RB569                           ; B4EC 20 69 B5
LB4EF:  lda     $43                             ; B4EF A5 43
        bne     LB4F5                           ; B4F1 D0 02
        inc     $5E                             ; B4F3 E6 5E
LB4F5:  rts                                     ; B4F5 60

LB4F6:  lda     #$88                            ; B4F6 A9 88
        sta     $66                             ; B4F8 85 66
        inc     $5E                             ; B4FA E6 5E
        rts                                     ; B4FC 60

LB4FD:  lda     #$89                            ; B4FD A9 89
        sta     $66                             ; B4FF 85 66
        inc     $5E                             ; B501 E6 5E
        rts                                     ; B503 60

LB504:  lda     #$85                            ; B504 A9 85
        sta     $66                             ; B506 85 66
        inc     $5E                             ; B508 E6 5E
        rts                                     ; B50A 60

LB50B:  lda     #$8B                            ; B50B A9 8B
        sta     $66                             ; B50D 85 66
        inc     $5E                             ; B50F E6 5E
        rts                                     ; B511 60

LB512:  jsr     RB569                           ; B512 20 69 B5
        lda     #$87                            ; B515 A9 87
        sta     $66                             ; B517 85 66
        inc     $5E                             ; B519 E6 5E
        rts                                     ; B51B 60

LB51C:  lda     $50                             ; B51C A5 50
        cmp     #$44                            ; B51E C9 44
        bne     LB527                           ; B520 D0 05
        inc     $5E                             ; B522 E6 5E
        jmp     LB52F                           ; B524 4C 2F B5

LB527:  lda     $43                             ; B527 A5 43
        and     #$03                            ; B529 29 03
        bne     LB52F                           ; B52B D0 02
        inc     $50                             ; B52D E6 50
LB52F:  jsr     RB569                           ; B52F 20 69 B5
        rts                                     ; B532 60

LB533:  lda     $50                             ; B533 A5 50
        cmp     #$30                            ; B535 C9 30
        bne     LB53E                           ; B537 D0 05
        inc     $5E                             ; B539 E6 5E
        jmp     LB546                           ; B53B 4C 46 B5
LB53E:  lda     $43                             ; B53E A5 43
        and     #$03                            ; B540 29 03
        bne     LB546                           ; B542 D0 02
        dec     $50                             ; B544 C6 50
LB546:  jsr     RB569                           ; B546 20 69 B5
        rts                                     ; B549 60

LB54A:  lda     $4F                             ; B54A A5 4F
        cmp     #$E0                            ; B54C C9 E0
        bne     LB555                           ; B54E D0 05
        inc     $5E                             ; B550 E6 5E
        jmp     LB561                           ; B552 4C 61 B5
LB555:  dec     $4F                             ; B555 C6 4F
        dec     $4F                             ; B557 C6 4F
        lda     $43                             ; B559 A5 43
        and     #$01                            ; B55B 29 01
        bne     LB561                           ; B55D D0 02
        dec     $50                             ; B55F C6 50
LB561:  jsr     RB569                           ; B561 20 69 B5
        rts                                     ; B564 60

LB565:  jsr     RB371                           ; B565 20 71 B3
        rts                                     ; B568 60
.endscope

; ----------------------------------------------------------------------------
RB569:
.scope
        lda     $4F                             ; B569 A5 4F
        beq     LB588                           ; B56B F0 1B
        sta     $44                             ; B56D 85 44
        lda     $50                             ; B56F A5 50
        sta     $45                             ; B571 85 45
        lda     #$34                            ; B573 A9 34
        sta     $53                             ; B575 85 53
        jsr     R88F6                           ; B577 20 F6 88
        lda     $43                             ; B57A A5 43
        and     #$04                            ; B57C 29 04
        lsr     a                               ; B57E 4A
        lsr     a                               ; B57F 4A
        clc                                     ; B580 18
        adc     #$35                            ; B581 69 35
        sta     $53                             ; B583 85 53
        jsr     R88F6                           ; B585 20 F6 88
LB588:  rts                                     ; B588 60
.endscope

; ----------------------------------------------------------------------------
; jump table vector
LB589:  jsr     RB5A7                           ; B589 20 A7 B5
        lda     $39                             ; B58C A5 39
        sec                                     ; B58E 38
        sbc     #$24                            ; B58F E9 24
        cmp     $50                             ; B591 C5 50
        bcs     LB59E                           ; B593 B0 09
        lda     #$F8                            ; B595 A9 F8
        sta     $39                             ; B597 85 39
        inc     $5E                             ; B599 E6 5E
        jmp     LB5A6                           ; B59B 4C A6 B5

; ----------------------------------------------------------------------------
LB59E:  lda     $43                             ; B59E A5 43
        and     #$03                            ; B5A0 29 03
        bne     LB5A6                           ; B5A2 D0 02
        dec     $39                             ; B5A4 C6 39
LB5A6:  rts                                     ; B5A6 60

; ----------------------------------------------------------------------------
RB5A7:
.scope
        jsr     RB569                           ; B5A7 20 69 B5
        lda     $43                             ; B5AA A5 43
        and     #$01                            ; B5AC 29 01
        beq     LB5B7                           ; B5AE F0 07
        lda     #$37                            ; B5B0 A9 37
        sta     $53                             ; B5B2 85 53
        jsr     R88F6                           ; B5B4 20 F6 88
LB5B7:  rts                                     ; B5B7 60
.endscope

; ----------------------------------------------------------------------------
RB5B8:
.scope
        lda     $8B                             ; B5B8 A5 8B
        asl     a                               ; B5BA 0A
        asl     a                               ; B5BB 0A
        asl     a                               ; B5BC 0A
        asl     a                               ; B5BD 0A
        asl     a                               ; B5BE 0A
        clc                                     ; B5BF 18
        adc     $96                             ; B5C0 65 96
        tax                                     ; B5C2 AA
        lda     L9FF8,x                         ; B5C3 BD F8 9F
        bne     LB5CB                           ; B5C6 D0 03
        jmp     LB653                           ; B5C8 4C 53 B6

LB5CB:  lda     $3D                             ; B5CB A5 3D
        cmp     #$04                            ; B5CD C9 04
        bne     LB5D7                           ; B5CF D0 06
        lda     #$81                            ; B5D1 A9 81
        sta     $7F                             ; B5D3 85 7F
        inc     $3D                             ; B5D5 E6 3D
LB5D7:  lda     $3D                             ; B5D7 A5 3D
        cmp     #$06                            ; B5D9 C9 06
        beq     LB60B                           ; B5DB F0 2E
        lda     $43                             ; B5DD A5 43
        beq     LB5E4                           ; B5DF F0 03
        jmp     LB653                           ; B5E1 4C 53 B6

LB5E4:  inc     $3D                             ; B5E4 E6 3D
        lda     $3D                             ; B5E6 A5 3D
        cmp     #$02                            ; B5E8 C9 02
        beq     LB5EF                           ; B5EA F0 03
        jmp     LB653                           ; B5EC 4C 53 B6

LB5EF:  lda     $8B                             ; B5EF A5 8B
        asl     a                               ; B5F1 0A
        asl     a                               ; B5F2 0A
        asl     a                               ; B5F3 0A
        asl     a                               ; B5F4 0A
        asl     a                               ; B5F5 0A
        clc                                     ; B5F6 18
        adc     $96                             ; B5F7 65 96
        tax                                     ; B5F9 AA
        lda     L9FF8,x                         ; B5FA BD F8 9F
        sta     $3A                             ; B5FD 85 3A
        lda     $3A                             ; B5FF A5 3A
        tax                                     ; B601 AA
        lda     LA06A,x                         ; B602 BD 6A A0
        sta     $3B                             ; B605 85 3B
        lda     #$50                            ; B607 A9 50
        sta     $3C                             ; B609 85 3C
LB60B:  ldx     $3A                             ; B60B A6 3A
        lda     LA073,x                         ; B60D BD 73 A0
        sta     $47                             ; B610 85 47
        lda     $43                             ; B612 A5 43
        and     $47                             ; B614 25 47
        bne     LB62B                           ; B616 D0 13
        lda     LA07C,x                         ; B618 BD 7C A0
        clc                                     ; B61B 18
        adc     $3B                             ; B61C 65 3B
        sta     $3B                             ; B61E 85 3B
        cmp     #$F1                            ; B620 C9 F1
        bcc     LB62B                           ; B622 90 07
        lda     #$F8                            ; B624 A9 F8
        sta     $3B                             ; B626 85 3B
        jmp     LB653                           ; B628 4C 53 B6

LB62B:  lda     LA058,x                         ; B62B BD 58 A0
        sta     $47                             ; B62E 85 47
        lda     $43                             ; B630 A5 43
        and     $47                             ; B632 25 47
        bne     LB63E                           ; B634 D0 08
        lda     $3E                             ; B636 A5 3E
        eor     #$01                            ; B638 49 01
        and     #$01                            ; B63A 29 01
        sta     $3E                             ; B63C 85 3E
LB63E:  lda     $3B                             ; B63E A5 3B
        sta     $44                             ; B640 85 44
        lda     $3C                             ; B642 A5 3C
        sta     $45                             ; B644 85 45
        ldx     $3A                             ; B646 A6 3A
        lda     LA061,x                         ; B648 BD 61 A0
        clc                                     ; B64B 18
        adc     $3E                             ; B64C 65 3E
        sta     $53                             ; B64E 85 53
        jsr     R88F6                           ; B650 20 F6 88
LB653:  rts                                     ; B653 60
.endscope

; ----------------------------------------------------------------------------
RB654:
.scope
        lda     $5D                             ; B654 A5 5D
        beq     LB65B                           ; B656 F0 03
        jsr     R87A2                           ; B658 20 A2 87
LB65B:  jsr     RFFD0                           ; B65B 20 D0 FF
        lda     #$00                            ; B65E A9 00
        sta     $33                             ; B660 85 33
LB662:  lda     $33                             ; B662 A5 33
        beq     LB662                           ; B664 F0 FC
        lda     #$FF                            ; B666 A9 FF
        ldx     #$02                            ; B668 A2 02
        ldy     #$02                            ; B66A A0 02
        jsr     RB894                           ; B66C 20 94 B8
        rts                                     ; B66F 60
.endscope

; ----------------------------------------------------------------------------
RB670:
.scope
        jsr     RFFD0                           ; B670 20 D0 FF
        lda     #$00                            ; B673 A9 00
        sta     $33                             ; B675 85 33
LB677:  lda     $33                             ; B677 A5 33
        beq     LB677                           ; B679 F0 FC
        rts                                     ; B67B 60
.endscope

; ----------------------------------------------------------------------------
RB67C:  jsr     RB670                           ; B67C 20 70 B6
        lda     $FE                             ; B67F A5 FE
        and     #$E1                            ; B681 29 E1
LB683:  sta     L2001                           ; B683 8D 01 20
        sta     $FE                             ; B686 85 FE
        rts                                     ; B688 60

RB689:  jsr     RB670                           ; B689 20 70 B6
        jsr     RB6B4                           ; B68C 20 B4 B6
        lda     $FE                             ; B68F A5 FE
        ora     #$1E                            ; B691 09 1E
        bne     LB683                           ; B693 D0 EE
RB695:  loop
            lda $2002                           ; B695 AD 02 20
            and #$80                            ; B698 29 80
        while_ne                                ; B69A D0 F9
        lda     $FF                             ; B69C A5 FF
        ora     #$80                            ; B69E 09 80
        bne     LB6A6                           ; B6A0 D0 04
RB6A2:  lda     $FF                             ; B6A2 A5 FF
        and     #$7F                            ; B6A4 29 7F
LB6A6:  sta     L2000                           ; B6A6 8D 00 20
        sta     $FF                             ; B6A9 85 FF
        rts                                     ; B6AB 60

; ----------------------------------------------------------------------------
RB6AC:
.scope
        ldx     #$FF                            ; B6AC A2 FF
        ldy     #$00                            ; B6AE A0 00
        jsr     RB846                           ; B6B0 20 46 B8
        rts                                     ; B6B3 60
.endscope

; ----------------------------------------------------------------------------
RB6B4:
.scope
        lda     #$00                            ; B6B4 A9 00
        sta     $2005                           ; B6B6 8D 05 20
        sta     $2005                           ; B6B9 8D 05 20
        lda     $FF                             ; B6BC A5 FF
        sta     L2000                           ; B6BE 8D 00 20
        rts                                     ; B6C1 60
.endscope

; ----------------------------------------------------------------------------

; Non-standard subroutine, it takes an inline pointer argument.
; Subroutine RB74B copies the pointer argument to $00/$01, and adjusts
; the return address.

RB6C2:
.scope
        jsr     RB74B                           ; B6C2 20 4B B7
        jmp     LB71C                           ; B6C5 4C 1C B7

LB6C8:
; case A = anything 00-7F except 60 or 4C
; Y = 0
        pha                                     ; B6C8 48
            sta $2006                           ; B6C9 8D 06 20    ;p[0] -> $2006 (PPU addr hi)
            iny                                 ; B6CC C8          ;Y=1
            lda ($00),y                         ; B6CD B1 00       ;A=p[1]
            sta $2006                           ; B6CF 8D 06 20    ;p[1] -> $2006 (PPU addr lo)
            iny                                 ; B6D2 C8          ;Y=2
            lda ($00),y                         ; B6D3 B1 00       ;A = p[2] = abcdefgh
            asl a                               ; B6D5 0A          ;A = p[2]*2 = bcdefgh0
            pha                                 ; B6D6 48          ;push p[2]*2
                lda $FF                         ; B6D7 A5 FF
                ora #$04                        ; B6D9 09 04       ;copy high bit of p[2] (i.e. 'a') to bit 2 of $ff
                if_cc                           ; B6DB B0 02
                    and #$FB                    ; B6DD 29 FB
                end_if
                sta L2000                       ; B6DF 8D 00 20
                sta $FF                         ; B6E2 85 FF
            pla                                 ; B6E4 68          ;A = p[2]*2 = bcdefgh0
            asl a                               ; B6E5 0A          ;A = p[2]*4 = cdefgh00 (C = b)
            php                                 ; B6E6 08
                if_cs                           ; B6E7 90 03       ;if 'b'
                    ora #$02                    ; B6E9 09 02       ;A = cdefghb0
                    iny                         ; B6EB C8          ;Y = 2+b
                end_if
            plp                                 ; B6EC 28
            clc                                 ; B6ED 18
            if_eq                               ; B6EE D0 01       ;C = (if cdefgh = 0 then 0 else 1)
                sec                             ; B6F0 38
            end_if
            ror a                               ; B6F1 6A          ;A = 0cdefghb OR 1000000b, C=0
            lsr a                               ; B6F2 4A          ;A = 00cdefgh OR 01000000, C=b
            tax                                 ; B6F3 AA          ;X = 00cdefgh OR 01000000, C=b
            loop                                                   ;bits 5:0 of p[2] determine the count.
                if_cc                           ; B6F4 B0 01       ;bit 6 of p[2] determines whether it is a repeated value
                    iny                         ; B6F6 C8
                end_if
                lda ($00),y                     ; B6F7 B1 00
                sta $2007                       ; B6F9 8D 07 20    ;Copy value to PPU data
                dex                             ; B6FC CA
            while_ne                            ; B6FD D0 F5
        pla                                     ; B6FF 68          ;a=p[0]
        cmp #$3F                                ; B700 C9 3F       ;if PPU addr hi = $3f
        if_eq                                   ; B702 D0 0C
            sta $2006                           ; B704 8D 06 20    ;PPU addr = $3f00
            stx $2006                           ; B707 8E 06 20
            stx $2006                           ; B70A 8E 06 20    ;PPU addr = $0000
            stx $2006                           ; B70D 8E 06 20
        end_if
LB710:
        ; increment $00/$01 by Y+1.
        sec                                     ; B710 38
        tya                                     ; B711 98
        adc $00                                 ; B712 65 00
        sta $00                                 ; B714 85 00
        lda #$00                                ; B716 A9 00
        adc $01                                 ; B718 65 01
        sta $01                                 ; B71A 85 01
; entry point
LB71C:  ldx $2002                               ; B71C AE 02 20
        ldy #$00                                ; B71F A0 00
        lda ($00),y                             ; B721 B1 00
        if_mi                                   ; B723 10 01
            rts                                 ; B725 60
        end_if
        cmp #$60                                ; B726 C9 60
        bne LB734                               ; B728 D0 0A
; case 60 (RTS):
; pull $00/$01 from the stack, increment $00/$01 by 3, and repeat.
        pla                                     ; B72A 68
        sta $01                                 ; B72B 85 01
        pla                                     ; B72D 68
        sta $00                                 ; B72E 85 00
        ldy #$02                                ; B730 A0 02
        bne LB710                               ; B732 D0 DC ; Always Branch

LB734:  cmp #$4C                                ; B734 C9 4C
        bne LB6C8                               ; B736 D0 90
; case 4C (JMP):
; push $00/$01 to the stack
        lda $00                                 ; B738 A5 00
        pha                                     ; B73A 48
        lda $01                                 ; B73B A5 01
        pha                                     ; B73D 48
        iny                                     ; B73E C8
        lda ($00),y                             ; B73F B1 00
        tax                                     ; B741 AA
        iny                                     ; B742 C8
        lda ($00),y                             ; B743 B1 00
        sta $01                                 ; B745 85 01
        stx $00                                 ; B747 86 00
        bcs LB71C                               ; B749 B0 D1  ; Always Branch

RB74B:  tsx                                     ; B74B BA
        lda $0103,x                             ; B74C BD 03 01
        sta $05                                 ; B74F 85 05
        lda $0104,x                             ; B751 BD 04 01
        sta $06                                 ; B754 85 06
        ldy #$01                                ; B756 A0 01
        lda ($05),y                             ; B758 B1 05
        sta $00                                 ; B75A 85 00
        iny                                     ; B75C C8
        lda ($05),y                             ; B75D B1 05
        sta $01                                 ; B75F 85 01
        clc                                     ; B761 18
        lda #$02                                ; B762 A9 02
        adc $05                                 ; B764 65 05
        sta $0103,x                             ; B766 9D 03 01
        lda #$00                                ; B769 A9 00
        adc $06                                 ; B76B 65 06
        sta $0104,x                             ; B76D 9D 04 01
        rts                                     ; B770 60
.endscope

; ----------------------------------------------------------------------------
RB771:
.scope
        lda     $00,x                           ; B771 B5 00
        and     #$02                            ; B773 29 02
        sta     $00                             ; B775 85 00
        lda     $01,x                           ; B777 B5 01
        and     #$02                            ; B779 29 02
        eor     $00                             ; B77B 45 00
        clc                                     ; B77D 18
        beq     LB781                           ; B77E F0 01
        sec                                     ; B780 38
LB781:  ror     $00,x                           ; B781 76 00
        inx                                     ; B783 E8
        dey                                     ; B784 88
        bne     LB781                           ; B785 D0 FA
        rts                                     ; B787 60
.endscope

; ----------------------------------------------------------------------------
RB788:
.scope
        lda     #$00                            ; B788 A9 00
        sta     $2003                           ; B78A 8D 03 20
        lda     #$02                            ; B78D A9 02
        sta     $4014                           ; B78F 8D 14 40
        rts                                     ; B792 60
.endscope

; ----------------------------------------------------------------------------
; Read controller inputs.
; $F5 = controller 1 button state.
; $F6 = controller 2 button state.
; $00 = expansion port controller 1 button state.
; $01 = expansion port controller 2 button state.
RB793:
.scope
        ldx $FB                                 ; B793 A6 FB
        inx                                     ; B795 E8
        stx $4016                               ; B796 8E 16 40
        dex                                     ; B799 CA
        stx $4016                               ; B79A 8E 16 40
        ldx #$08                                ; B79D A2 08
        loop
            lda $4016                           ; B79F AD 16 40
            lsr a                               ; B7A2 4A
            rol $F5                             ; B7A3 26 F5
            lsr a                               ; B7A5 4A
            rol $00                             ; B7A6 26 00
            lda $4017                           ; B7A8 AD 17 40
            lsr a                               ; B7AB 4A
            rol $F6                             ; B7AC 26 F6
            lsr a                               ; B7AE 4A
            rol $01                             ; B7AF 26 01
            dex                                 ; B7B1 CA
        while_ne                                ; B7B2 D0 EB
        rts                                     ; B7B4 60
.endscope

; ----------------------------------------------------------------------------
; Combine controller states from normal and expansion port controllers.
; Normal controller states in $F5/$F6
; Expansion controller states in $00/$01
RB7B5:
.scope
        lda     $00                             ; B7B5 A5 00
        ora     $F5                             ; B7B7 05 F5
        sta     $F5                             ; B7B9 85 F5
        lda     $01                             ; B7BB A5 01
        ora     $F6                             ; B7BD 05 F6
        sta     $F6                             ; B7BF 85 F6
        rts                                     ; B7C1 60
.endscope

; ----------------------------------------------------------------------------
; first 2 instructions unreachable
        jsr     RB793                           ; B7C2 20 93 B7
        beq     LB7E7                           ; B7C5 F0 20
; Read controller inputs twice and bitwise-AND them together to avoid glitches.
; XOR old and new and AND with new to get edge detection in $F5/$F6.
RB7C7:  jsr     RB793                           ; B7C7 20 93 B7  ; read controller state into $F5,$F6
        jsr     RB7B5                           ; B7CA 20 B5 B7
        lda     $F5                             ; B7CD A5 F5
        sta     $48                             ; B7CF 85 48
        lda     $F6                             ; B7D1 A5 F6
        sta     $49                             ; B7D3 85 49
        jsr     RB793                           ; B7D5 20 93 B7  ; read controller state again
        jsr     RB7B5                           ; B7D8 20 B5 B7
        lda     $F5                             ; B7DB A5 F5
        and     $48                             ; B7DD 25 48
        sta     $F5                             ; B7DF 85 F5
        lda     $F6                             ; B7E1 A5 F6
        and     $49                             ; B7E3 25 49
        sta     $F6                             ; B7E5 85 F6
LB7E7:  ldx     #$01                            ; B7E7 A2 01
        loop
            lda $F5,x                           ; B7E9 B5 F5
            tay                                 ; B7EB A8
            eor $F7,x                           ; B7EC 55 F7
            and $F5,x                           ; B7EE 35 F5
            sta $F5,x                           ; B7F0 95 F5
            sty $F7,x                           ; B7F2 94 F7
            dex                                     ; B7F4 CA
        while_pl                                ; B7F5 10 F2
        rts                                     ; B7F7 60

; ----------------------------------------------------------------------------
        jsr     RB793                           ; B7F8 20 93 B7
LB7FB:  ldy     $F5                             ; B7FB A4 F5
LB7FD:  lda     $F6                             ; B7FD A5 F6
        pha                                     ; B7FF 48
        jsr     RB793                           ; B800 20 93 B7
        pla                                     ; B803 68
        cmp     $F6                             ; B804 C5 F6
        bne     LB7FB                           ; B806 D0 F3
        cpy     $F5                             ; B808 C4 F5
        bne     LB7FB                           ; B80A D0 EF
        beq     LB7E7                           ; B80C F0 D9
        jsr     RB793                           ; B80E 20 93 B7
        jsr     RB7B5                           ; B811 20 B5 B7
LB814:  ldy     $F5                             ; B814 A4 F5
        lda     $F6                             ; B816 A5 F6
        pha                                     ; B818 48
        jsr     RB793                           ; B819 20 93 B7
        jsr     RB7B5                           ; B81C 20 B5 B7
        pla                                     ; B81F 68
        cmp     $F6                             ; B820 C5 F6
        bne     LB814                           ; B822 D0 F0
        cpy     $F5                             ; B824 C4 F5
        bne     LB814                           ; B826 D0 EC
        beq     LB7E7                           ; B828 F0 BD
        jsr     RB793                           ; B82A 20 93 B7
        lda     $00                             ; B82D A5 00
        sta     $F7                             ; B82F 85 F7
        lda     $01                             ; B831 A5 01
        sta     $F8                             ; B833 85 F8
        ldx     #$03                            ; B835 A2 03
LB837:  lda     $F5,x                           ; B837 B5 F5
        tay                                     ; B839 A8
        eor     $F1,x                           ; B83A 55 F1
        and     $F5,x                           ; B83C 35 F5
        sta     $F5,x                           ; B83E 95 F5
        sty     $F1,x                           ; B840 94 F1
        dex                                     ; B842 CA
        bpl     LB837                           ; B843 10 F2
        rts                                     ; B845 60

; ----------------------------------------------------------------------------
RB846:
.scope
        sta     $00                             ; B846 85 00
        stx     $01                             ; B848 86 01
        sty     $02                             ; B84A 84 02
        lda     $2002                           ; B84C AD 02 20
        lda     $FF                             ; B84F A5 FF
        and     #$FB                            ; B851 29 FB
        sta     L2000                           ; B853 8D 00 20
        sta     $FF                             ; B856 85 FF
        lda     $00                             ; B858 A5 00
        sta     $2006                           ; B85A 8D 06 20
        ldy     #$00                            ; B85D A0 00
        sty     $2006                           ; B85F 8C 06 20
        ldx     #$04                            ; B862 A2 04
        cmp     #$20                            ; B864 C9 20
        bcs     LB86A                           ; B866 B0 02
        ldx     $02                             ; B868 A6 02
LB86A:  ldy     #$00                            ; B86A A0 00
        lda     $01                             ; B86C A5 01
LB86E:  sta     $2007                           ; B86E 8D 07 20
        dey                                     ; B871 88
        bne     LB86E                           ; B872 D0 FA
        dex                                     ; B874 CA
        bne     LB86E                           ; B875 D0 F7
        ldy     $02                             ; B877 A4 02
        lda     $00                             ; B879 A5 00
        cmp     #$20                            ; B87B C9 20
        bcc     LB891                           ; B87D 90 12
        adc     #$02                            ; B87F 69 02
        sta     $2006                           ; B881 8D 06 20
        lda     #$C0                            ; B884 A9 C0
        sta     $2006                           ; B886 8D 06 20
        ldx     #$40                            ; B889 A2 40
LB88B:  sty     $2007                           ; B88B 8C 07 20
        dex                                     ; B88E CA
        bne     LB88B                           ; B88F D0 FA
LB891:  ldx     $01                             ; B891 A6 01
        rts                                     ; B893 60
.endscope

; ----------------------------------------------------------------------------
RB894:
.scope
        pha                                     ; B894 48
        txa                                     ; B895 8A
        sty     $01                             ; B896 84 01
        clc                                     ; B898 18
        sbc     $01                             ; B899 E5 01
        tax                                     ; B89B AA
        pla                                     ; B89C 68
        ldy     #$00                            ; B89D A0 00
        sty     $00                             ; B89F 84 00
LB8A1:  sta     ($00),y                         ; B8A1 91 00
        dey                                     ; B8A3 88
        bne     LB8A1                           ; B8A4 D0 FB
        dec     $01                             ; B8A6 C6 01
        inx                                     ; B8A8 E8
        bne     LB8A1                           ; B8A9 D0 F6
        rts                                     ; B8AB 60
.endscope

; ----------------------------------------------------------------------------
; input A: index to jump table
; jump table vectors appear immediately after JSR instruction
; copies vector to $00/$01 and jumps to it
RB8AC:
.scope
        asl     a                               ; B8AC 0A
        tay                                     ; B8AD A8
        iny                                     ; B8AE C8
        pla                                     ; B8AF 68
        sta     $00                             ; B8B0 85 00
        pla                                     ; B8B2 68
        sta     $01                             ; B8B3 85 01
        lda     ($00),y                         ; B8B5 B1 00
        tax                                     ; B8B7 AA
        iny                                     ; B8B8 C8
        lda     ($00),y                         ; B8B9 B1 00
        sta     $01                             ; B8BB 85 01
        stx     $00                             ; B8BD 86 00
        jmp     ($00)                           ; B8BF 6C 00 00
.endscope

; ----------------------------------------------------------------------------
; unreachable?
        sei                                     ; B8C2 78
        inc     L8000                           ; B8C3 EE 00 80
        lda     #$1A                            ; B8C6 A9 1A
        jsr     RB8CC                           ; B8C8 20 CC B8
        rts                                     ; B8CB 60

; ----------------------------------------------------------------------------
; Set MMC1 mapper Control register to A.
RB8CC:
.scope
        sta     $9FFF                           ; B8CC 8D FF 9F
        lsr     a                               ; B8CF 4A
        sta     $9FFF                           ; B8D0 8D FF 9F
        lsr     a                               ; B8D3 4A
        sta     $9FFF                           ; B8D4 8D FF 9F
        lsr     a                               ; B8D7 4A
        sta     $9FFF                           ; B8D8 8D FF 9F
        lsr     a                               ; B8DB 4A
        sta     $9FFF                           ; B8DC 8D FF 9F
        rts                                     ; B8DF 60
.endscope

; ----------------------------------------------------------------------------
; Set MMC1 mapper CHR bank 0 to A.
RB8E0:
.scope
        sta     $BFFF                           ; B8E0 8D FF BF
        lsr     a                               ; B8E3 4A
        sta     $BFFF                           ; B8E4 8D FF BF
        lsr     a                               ; B8E7 4A
        sta     $BFFF                           ; B8E8 8D FF BF
        lsr     a                               ; B8EB 4A
        sta     $BFFF                           ; B8EC 8D FF BF
        lsr     a                               ; B8EF 4A
        sta     $BFFF                           ; B8F0 8D FF BF
        rts                                     ; B8F3 60
.endscope

; ----------------------------------------------------------------------------
; Set MMC1 mapper CHR bank 1 to A.
RB8F4:
.scope
        sta     $DFFF                           ; B8F4 8D FF DF
        lsr     a                               ; B8F7 4A
        sta     $DFFF                           ; B8F8 8D FF DF
        lsr     a                               ; B8FB 4A
        sta     $DFFF                           ; B8FC 8D FF DF
        lsr     a                               ; B8FF 4A
        sta     $DFFF                           ; B900 8D FF DF
        lsr     a                               ; B903 4A
        sta     $DFFF                           ; B904 8D FF DF
        rts                                     ; B907 60
.endscope

; ----------------------------------------------------------------------------
; Set MMC1 mapper PRG bank to A.
RB908:
.scope
        sta     $FFF0                           ; B908 8D F0 FF
        lsr     a                               ; B90B 4A
        sta     $FFF0                           ; B90C 8D F0 FF
        lsr     a                               ; B90F 4A
        sta     $FFF0                           ; B910 8D F0 FF
        lsr     a                               ; B913 4A
        sta     $FFF0                           ; B914 8D F0 FF
        lsr     a                               ; B917 4A
        sta     $FFF0                           ; B918 8D F0 FF
        rts                                     ; B91B 60
.endscope

; ----------------------------------------------------------------------------
; Argument to RB6C2
; Title screen
; 1024 bytes of data for PPU addresses $2000 to $23FF
; 96 bytes of chunk headers (32 at 3 bytes each)
LB91C:  .byte $20,$00                           ; PPU address $2000
        .byte $20                               ; 32 bytes non-repeated
        .byte $FD,$FE,$FD,$FE,$FD,$FE,$FD,$FE
        .byte $FD,$FE,$FD,$FE,$FD,$FE,$FD,$FE
        .byte $FD,$FE,$FD,$FE,$FD,$FE,$FD,$FE
        .byte $FD,$FE,$FD,$FE,$FD,$FE,$FD,$FE
        .byte $20,$20                           ; PPU address $2020
        .byte $20                               ; 32 bytes non-repeated
        .byte $FE,$FD,$FE,$FD,$FE,$FD,$FE,$FD
        .byte $FE,$FD,$FE,$FD,$FE,$FD,$FE,$FD
        .byte $FE,$FD,$FE,$FD,$FE,$FD,$FE,$FD
        .byte $FE,$FD,$FE,$FD,$FE,$FD,$FE,$FD
        .byte $20,$40                           ; PPU address $2040
        .byte $20                               ; 32 bytes non-repeated
        .byte $FD,$FE,$FD,$FE,$FD,$FE,$FD,$FE
        .byte $FD,$FE,$FD,$FE,$FD,$FE,$FD,$FE
        .byte $FD,$FE,$FD,$FE,$FD,$FE,$FD,$FE
        .byte $FD,$FE,$FD,$FE,$FD,$FE,$FD,$FE
        .byte $20,$60                           ; PPU address $2060
        .byte $20                               ; 32 bytes non-repeated
        .byte $FE,$FD,$FE,$FD,$FE,$FD,$FE,$FD
        .byte $FE,$FD,$FE,$FD,$FE,$FD,$FE,$FD
        .byte $FE,$FD,$FE,$FD,$FE,$FD,$FE,$FD
        .byte $FE,$FD,$FE,$FD,$FE,$FD,$FE,$FD
        .byte $20,$80                           ; PPU address $2080
        .byte $20                               ; 32 bytes non-repeated
        .byte $FD,$FE,$FD,$FE,$FD,$FE,$FD,$FE
        .byte $FD,$FE,$FD,$FE,$FD,$FE,$FD,$FE
        .byte $FD,$FE,$FD,$FE,$FD,$FE,$FD,$FE
        .byte $FD,$FE,$FD,$FE,$FD,$FE,$FD,$FE
        .byte $20,$A0                           ; PPU address $20A0
        .byte $20                               ; 32 bytes non-repeated
        .byte $FE,$FD,$FE,$FD,$20,$21,$40,$40
        .byte $40,$40,$40,$40,$40,$40,$40,$40
        .byte $43,$40,$40,$40,$40,$40,$40,$40
        .byte $40,$40,$30,$31,$FE,$FD,$FE,$FD
        .byte $20,$C0                           ; PPU address $20C0
        .byte $20                               ; 32 bytes non-repeated
        .byte $FD,$FE,$FD,$22,$F7,$F8,$45,$46
        .byte $46,$46,$46,$46,$46,$46,$46,$46
        .byte $47,$46,$46,$46,$46,$46,$46,$46
        .byte $46,$48,$B6,$B6,$33,$FE,$FD,$FE
        .byte $20,$E0                           ; PPU address $20E0
        .byte $20                               ; 32 bytes non-repeated
        .byte $FE,$FD,$24,$25,$F9,$51,$52,$53
        .byte $54,$55,$56,$57,$58,$59,$5A,$5B
        .byte $5C,$5D,$5E,$5F,$B0,$B1,$B2,$B3
        .byte $B4,$B5,$B6,$B6,$34,$35,$FE,$FD
        .byte $21,$00
        .byte $20
        .byte $FD,$FE,$26,$FC,$60,$61,$62,$63
        .byte $64,$65,$66,$67,$68,$69,$6A,$6B
        .byte $6C,$6D,$6E,$6F,$C0,$C1,$C2,$C3
        .byte $C4,$C5,$C6,$0E,$0F,$36,$FD,$FE
        .byte $21,$20
        .byte $20
        .byte $FE,$FD,$27,$FC,$70,$71,$72,$73
        .byte $74,$75,$76,$77,$78,$79,$7A,$7B
        .byte $7C,$7D,$7E,$7F,$D0,$D1,$D2,$D3
        .byte $D4,$D5,$D6,$FC,$FC,$37,$FE,$FD
        .byte $21,$40,$20
        .byte $FD,$FE,$28,$FC,$80,$81,$82,$83
        .byte $84,$85,$86,$87,$88,$89,$8A,$8B
        .byte $8C,$8D,$8E,$8F,$E0,$E1,$E2,$E3
        .byte $E4,$E5,$E6,$FC,$FC,$38,$FD,$FE
        .byte $21,$60,$20
        .byte $FE,$FD,$29,$FC,$90,$91,$92,$93
        .byte $94,$95,$96,$97,$98,$99,$9A,$9B
        .byte $9C,$9D,$9E,$9F,$F0,$F1,$F2,$F3
        .byte $F4,$F5,$F6,$FC,$FC,$39,$FE,$FD
        .byte $21,$80,$20
        .byte $FD,$FE,$2A,$2B,$A0,$A1,$A2,$A3
        .byte $A4,$A5,$A6,$A7,$A8,$A9,$AA,$AB
        .byte $AC,$AD,$AE,$AF,$ED,$EE,$EF,$DC
        .byte $DD,$DE,$DF,$FC,$3A,$3B,$FD,$FE
        .byte $21,$A0,$20
        .byte $FE,$FD,$FE,$2C,$4C,$FC,$FC,$FC
        .byte $FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC
        .byte $42,$FC,$FC,$FC,$FC,$FC,$FC,$FC
        .byte $FC,$FC,$FC,$4F,$3D,$FD,$FE,$FD
        .byte $21,$C0,$20
        .byte $FD,$FE,$FD,$FE,$2E,$2F,$4D,$4D
        .byte $4D,$4D,$4D,$4D,$4D,$4D,$4D,$4D
        .byte $4E,$4D,$4D,$4D,$4D,$4D,$4D,$4D
        .byte $4D,$4D,$3E,$3F,$FD,$FE,$FD,$FE
        .byte $21,$E0,$20
        .byte $FE,$FD,$FE,$FD,$FE,$FD,$FE,$FD
        .byte $FE,$FD,$FE,$FD,$FE,$FD,$FE,$FD
        .byte $FE,$FD,$FE,$FD,$FE,$FD,$FE,$FD
        .byte $FE,$FD,$FE,$FD,$FE,$FD,$FE,$FD
        .byte $22,$00,$20
        .byte $FD,$FE,$FD,$FE,$FD,$FE,$FD,$FE
        .byte $FD,$FE,$FD,$FE,$FD,$FE,$FD,$FE
        .byte $FD,$FE,$FD,$FE,$FD,$FE,$FD,$FE
        .byte $FD,$FE,$FD,$FE,$FD,$FE,$FD,$FE
        .byte $22,$20,$20
        .byte $FE,$FD,$FE,$FD,$FE,$FD,$FE,$FD
        .byte $FE,$FD,$FE,$FD,$FE,$FD,$FE,$FD
        .byte $FE,$FD,$FE,$FD,$FE,$FD,$FE,$FD
        .byte $FE,$FD,$FE,$FD,$FE,$FD,$FE,$FD
        .byte $22,$40,$20
        .byte $FD,$FE,$FD,$FE,$FD,$FE,$FD,$FE
        .byte $FD,$FE,$FD,$FE,$FD,$FE,$FD,$FE
        .byte $FD,$FE,$FD,$FE,$FD,$FE,$FD,$FE
        .byte $FD,$FE,$FD,$FE,$FD,$FE,$FD,$FE
        .byte $22,$60,$20
        .byte $FE,$FD,$FE,$FD,$FE,$FD,$FE,$FD
        .byte $FE,$FD,$FE,$FD,$FE,$FD,$FE,$FD
        .byte $FE,$FD,$FE,$FD,$FE,$FD,$FE,$FD
        .byte $FE,$FD,$FE,$FD,$FE,$FD,$FE,$FD
        .byte $22,$80,$20
        .byte $FD,$FE,$FD,$FE,$FD,$CB,$CC,$CD
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
        .byte $CE,$CF,$E7,$FE,$FD,$FE,$FD,$FE
        .byte $22,$A0,$20
        .byte $FE,$FD,$FE,$FD,$C9,$CA,$FF,$FF
        .byte $FF,$FF,$01,$FF,$09,$07,$04,$0B
        .byte $05,$0A,$FF,$06,$04,$08,$05,$FF
        .byte $FF,$FF,$E8,$E9,$FE,$FD,$FE,$FD
        .byte $22,$C0,$20
        .byte $FD,$FE,$FD,$FE,$C8,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$EA,$FD,$FE,$FD,$FE
        .byte $22,$E0,$20
        .byte $FE,$FD,$FE,$FD,$B7,$FF,$FF,$FF
        .byte $FF,$FF,$02,$FF,$09,$07,$04,$0B
        .byte $05,$0A,$FF,$06,$04,$08,$05,$FF
        .byte $FF,$FF,$FF,$C7,$FE,$FD,$FE,$FD
        .byte $23,$00,$20
        .byte $FD,$FE,$FD,$FE,$B8,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$DA,$FD,$FE,$FD,$FE
        .byte $23,$20,$20
        .byte $FE,$FD,$FE,$FD,$B9,$BA,$FF,$FF
        .byte $FF,$FF,$0C,$FF,$01,$03,$03,$00
        .byte $FF,$FF,$10,$11,$12,$13,$14,$15
        .byte $FF,$FF,$D8,$D9,$FE,$FD,$FE,$FD
        .byte $23,$40,$20
        .byte $FD,$FE,$FD,$FE,$FD,$BB,$BC,$BD
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
        .byte $BE,$BF,$D7,$FE,$FD,$FE,$FD,$FE
        .byte $23,$60,$20
        .byte $FE,$FD,$FE,$FD,$FE,$FD,$FE,$FD
        .byte $FE,$FD,$FE,$FD,$FE,$FD,$FE,$FD
        .byte $FE,$FD,$FE,$FD,$FE,$FD,$FE,$FD
        .byte $FE,$FD,$FE,$FD,$FE,$FD,$FE,$FD
        .byte $23,$80,$20
        .byte $FD,$FE,$FD,$FE,$FD,$FE,$FD,$FE
        .byte $FD,$FE,$FD,$FE,$FD,$FE,$FD,$FE
        .byte $FD,$FE,$FD,$FE,$FD,$FE,$FD,$FE
        .byte $FD,$FE,$FD,$FE,$FD,$FE,$FD,$FE
        .byte $23,$A0,$20
        .byte $FE,$FD,$FE,$FD,$FE,$FD,$FE,$FD
        .byte $FE,$FD,$FE,$FD,$FE,$FD,$FE,$FD
        .byte $FE,$FD,$FE,$FD,$FE,$FD,$FE,$FD
        .byte $FE,$FD,$FE,$FD,$FE,$FD,$FE,$FD
        .byte $23,$C0,$20
        .byte $0A,$0A,$0A,$0A,$0A,$0A,$0A,$0A
        .byte $00,$50,$50,$50,$FA,$FA,$FA,$20
        .byte $00,$55,$55,$55,$FF,$FF,$FF,$22
        .byte $00,$05,$05,$05,$AF,$AF,$AF,$22
        .byte $23,$E0,$20
        .byte $00,$00,$00,$00,$00,$00,$00,$00
        .byte $00,$00,$44,$55,$55,$55,$00,$00
        .byte $00,$00,$04,$05,$84,$A5,$00,$00
        .byte $00,$00,$00,$00,$00,$00,$00,$00
        .byte $FF
; ----------------------------------------------------------------------------
; Argument to RB6C2
; Settings screen
; 960 bytes of data for PPU addresses $2000 to $23BF
; 90 bytes of chunk headers (30 at 3 bytes each)
LBD7D:  .byte $20,$00,$20
        .byte $FD,$FC,$FD,$FC,$FD,$FC,$FD,$FC
        .byte $FD,$FC,$FD,$FC,$FD,$FC,$FD,$FC
        .byte $FD,$FC,$FD,$FC,$FD,$FC,$FD,$FC
        .byte $FD,$FC,$FD,$FC,$FD,$FC,$FD,$FC
        .byte $20,$20,$20
        .byte $FC,$FD,$FC,$FD,$FC,$FD,$FC,$FD
        .byte $FC,$FD,$FC,$FD,$FC,$FD,$FC,$FD
        .byte $FC,$FD,$FC,$FD,$FC,$FD,$FC,$FD
        .byte $FC,$FD,$FC,$FD,$FC,$FD,$FC,$FD
        .byte $20,$40,$20
        .byte $FD,$FC,$FD,$FC,$FD,$FC,$FD,$FC
        .byte $FD,$FC,$FD,$FC,$FD,$FC,$FD,$FC
        .byte $FD,$FC,$FD,$FC,$FD,$FC,$FD,$FC
        .byte $FD,$FC,$FD,$FC,$FD,$FC,$FD,$FC
        .byte $20,$60,$20
        .byte $FC,$FD,$FC,$FD,$FC,$FD,$FC,$39
        .byte $3A,$3A,$3A,$3A,$3A,$3A,$3A,$3A
        .byte $3A,$3A,$3A,$3A,$3A,$3A,$3A,$3A
        .byte $3B,$FD,$FC,$FD,$FC,$FD,$FC,$FD
        .byte $20,$80,$20
        .byte $FD,$FC,$FD,$FC,$FD,$FC,$FD,$49
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
        .byte $4B,$FC,$FD,$FC,$FD,$FC,$FD,$FC
        .byte $20,$A0,$20
        .byte $FC,$FD,$FC,$39,$3A,$3A,$3A,$79
        .byte $FF,$FF,$01,$FF,$19,$15,$0A,$22
        .byte $0E,$1B,$FF,$10,$0A,$16,$0E,$FF
        .byte $7C,$3A,$3A,$3A,$3B,$FD,$FC,$FD
        .byte $20,$C0,$20
        .byte $FD,$FC,$FD,$49,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$4B,$FC,$FD,$FC
        .byte $20,$E0,$20
        .byte $FC,$FD,$FC,$49,$FF,$3C,$3D,$3D
        .byte $3D,$3D,$3D,$3D,$3D,$3D,$3D,$3D
        .byte $3D,$3E,$FF,$FF,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$4B,$FD,$FC,$FD
        .byte $21,$00,$20
        .byte $FD,$FC,$FD,$49,$FF,$4C,$1F,$12
        .byte $1B,$1E,$1C,$FF,$15,$0E,$1F,$0E
        .byte $15,$4E,$FF,$FF,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$4B,$FC,$FD,$FC
        .byte $21,$20,$20
        .byte $FC,$FD,$FC,$49,$FF,$5C,$5D,$5D
        .byte $5D,$5D,$5D,$5D,$5D,$5D,$5D,$5D
        .byte $5D,$5E,$FF,$FF,$FF,$FF,$3F,$2F
        .byte $2F,$5F,$FF,$FF,$4B,$FD,$FC,$FD
        .byte $21,$40,$20
        .byte $FD,$FC,$FD,$49,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$2E,$FF
        .byte $FF,$2E,$FF,$FF,$4B,$FC,$FD,$FC
        .byte $21,$60,$20
        .byte $FC,$FD,$FC,$49,$FF,$FF,$FF,$FF
        .byte $01,$19,$FF,$33,$30,$32,$30,$30
        .byte $31,$30,$32,$30,$30,$34,$4F,$2F
        .byte $2F,$6F,$FF,$FF,$4B,$FD,$FC,$FD
        .byte $21,$80,$20
        .byte $FD,$FC,$FD,$49,$FF,$FF,$FF,$FF
        .byte $02,$19,$FF,$43,$40,$42,$40,$40
        .byte $41,$40,$42,$40,$40,$44,$3F,$2F
        .byte $2F,$5F,$FF,$FF,$4B,$FC,$FD,$FC
        .byte $21,$A0,$20
        .byte $FC,$FD,$FC,$49,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$2E,$FF
        .byte $FF,$2E,$FF,$FF,$4B,$FD,$FC,$FD
        .byte $21,$C0,$20
        .byte $FD,$FC,$FD,$49,$FF,$3C,$3D,$3D
        .byte $3D,$3D,$3D,$3E,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$4F,$2F
        .byte $2F,$6F,$FF,$FF,$4B,$FC,$FD,$FC
        .byte $21,$E0,$20
        .byte $FC,$FD,$FC,$49,$FF,$4C,$1C,$19
        .byte $0E,$0E,$0D,$4E,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$4B,$FD,$FC,$FD
        .byte $22,$00,$20
        .byte $FD,$FC,$FD,$49,$FF,$5C,$5D,$5D
        .byte $5D,$5D,$5D,$5E,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$4B,$FC,$FD,$FC
        .byte $22,$20,$20
        .byte $FC,$FD,$FC,$49,$FF,$FF,$FF,$FF
        .byte $73,$74,$FF,$FF,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$4B,$FD,$FC,$FD
        .byte $22,$40,$20
        .byte $FD,$FC,$FD,$49,$FF,$FF,$FF,$FF
        .byte $75,$76,$FF,$15,$18,$20,$FF,$FF
        .byte $16,$0E,$0D,$FF,$FF,$11,$12,$FF
        .byte $FF,$FF,$FF,$FF,$4B,$FC,$FD,$FC
        .byte $22,$60,$20
        .byte $FC,$FD,$FC,$49,$FF,$FF,$FF,$FF
        .byte $77,$78,$FF,$FF,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$4B,$FD,$FC,$FD
        .byte $22,$80,$20
        .byte $FD,$FC,$FD,$49,$FF,$3C,$3D,$3D
        .byte $3D,$3D,$3D,$3D,$3D,$3D,$3D,$3D
        .byte $3E,$FF,$FF,$FF,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$4B,$FC,$FD,$FC
        .byte $22,$A0,$20
        .byte $FC,$FD,$FC,$49,$FF,$4C,$16,$1E
        .byte $1C,$12,$0C,$FF,$1D,$22,$19,$0E
        .byte $4E,$FF,$FF,$FF,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$4B,$FD,$FC,$FD
        .byte $22,$C0,$20
        .byte $FD,$FC,$FD,$49,$FF,$5C,$5D,$5D
        .byte $5D,$5D,$5D,$5D,$5D,$5D,$5D,$5D
        .byte $5E,$FF,$FF,$FF,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$4B,$FC,$FD,$FC
        .byte $22,$E0,$20
        .byte $FC,$FD,$FC,$49,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$4B,$FD,$FC,$FD
        .byte $23,$00,$20
        .byte $FD,$FC,$FD,$49,$FF,$FF,$FF,$FF
        .byte $0F,$0E,$1F,$0E,$1B,$FF,$FF,$0C
        .byte $11,$12,$15,$15,$FF,$FF,$18,$0F
        .byte $0F,$FF,$FF,$FF,$4B,$FC,$FD,$FC
        .byte $23,$20,$20
        .byte $FC,$FD,$FC,$49,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$4B,$FD,$FC,$FD
        .byte $23,$40,$20
        .byte $FD,$FC,$FD,$59,$5A,$5A,$5A,$5A
        .byte $5A,$5A,$5A,$5A,$5A,$5A,$5A,$5A
        .byte $5A,$5A,$5A,$5A,$5A,$5A,$5A,$5A
        .byte $5A,$5A,$5A,$5A,$5B,$FC,$FD,$FC
        .byte $23,$60,$20
        .byte $FC,$FD,$FC,$FD,$FC,$FD,$FC,$FD
        .byte $FC,$FD,$FC,$FD,$FC,$FD,$FC,$FD
        .byte $FC,$FD,$FC,$FD,$FC,$FD,$FC,$FD
        .byte $FC,$FD,$FC,$FD,$FC,$FD,$FC,$FD
        .byte $23,$80,$20
        .byte $FD,$FC,$FD,$FC,$FD,$FC,$FD,$FC
        .byte $FD,$FC,$FD,$FC,$FD,$FC,$FD,$FC
        .byte $FD,$FC,$FD,$FC,$FD,$FC,$FD,$FC
        .byte $FD,$FC,$FD,$FC,$FD,$FC,$FD,$FC
        .byte $23,$A0,$20
        .byte $FC,$FD,$FC,$FD,$FC,$FD,$FC,$FD
        .byte $FC,$FD,$FC,$FD,$FC,$FD,$FC,$FD
        .byte $FC,$FD,$FC,$FD,$FC,$FD,$FC,$FD
        .byte $FC,$FD,$FC,$FD,$FC,$FD,$FC,$FD
        .byte $FF                               ; terminator byte
; ----------------------------------------------------------------------------
; Argument to RB6C2
; Level screen
; 1024 bytes of data for PPU addresses $2000 to $23FF
LC198:  .byte $20,$00,$20
        .byte $FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF
        .byte $FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF
        .byte $FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF
        .byte $FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF
        .byte $20,$20,$20
        .byte $FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC
        .byte $FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC
        .byte $FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC
        .byte $FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC
        .byte $20,$40,$20
        .byte $FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF
        .byte $FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF
        .byte $FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF
        .byte $FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF
        .byte $20,$60,$20
        .byte $FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC
        .byte $FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC
        .byte $FF,$FC,$FF,$FC,$FF,$FC,$9B,$FC
        .byte $9D,$FC,$9F,$FC,$FF,$99,$9A,$FC
        .byte $20,$80,$20
        .byte $FC,$FF,$FC,$D5,$D6,$EC,$D6,$76
        .byte $FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF
        .byte $FC,$FF,$FC,$FF,$A9,$AA,$AB,$AC
        .byte $AD,$AE,$AF,$D9,$DA,$DB,$F5,$FF
        .byte $20,$A0,$20
        .byte $FF,$E3,$E4,$E5,$E6,$E6,$E6,$E7
        .byte $E4,$E8,$FF,$FC,$FF,$38,$43,$44
        .byte $43,$44,$39,$FC,$B9,$BA,$BB,$BC
        .byte $BD,$BE,$BF,$E9,$EA,$EB,$F6,$FC
        .byte $20,$C0,$20
        .byte $FC,$D3,$FE,$FE,$FE,$FE,$FE,$FE
        .byte $FE,$D4,$FC,$FF,$FC,$33,$FF,$FF
        .byte $FF,$FF,$34,$FF,$C9,$CA,$CB,$CC
        .byte $CD,$CE,$CF,$F9,$FA,$FB,$F7,$FF
        .byte $20,$E0,$20
        .byte $FF,$D3,$1D,$18,$19,$FE,$FE,$FE
        .byte $FE,$D4,$FF,$FC,$FF,$3A,$3B,$FF
        .byte $FF,$3C,$3D,$FC,$FF,$FC,$FF,$FC
        .byte $FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC
        .byte $21,$00,$20
        .byte $FC,$D3,$00,$00,$00,$00,$00,$00
        .byte $00,$D4,$FC,$FF,$FC,$FF,$33,$FF
        .byte $FF,$34,$FC,$FF,$FC,$FF,$4B,$4C
        .byte $4C,$4C,$4C,$4C,$4E,$FF,$FC,$FF
        .byte $21,$20,$20
        .byte $FF,$D3,$FE,$FE,$FE,$FE,$FE,$FE
        .byte $FE,$D4,$FF,$30,$31,$31,$3E,$46
        .byte $47,$3F,$31,$31,$32,$FC,$5B,$FF
        .byte $FF,$FF,$FF,$FF,$5E,$FC,$FF,$FC
        .byte $21,$40,$20
        .byte $FC,$D3,$1C,$0C,$18,$1B,$0E,$FE
        .byte $FE,$D4,$FC,$33,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$34,$FF,$5B,$FF
        .byte $FF,$FF,$FF,$FF,$5E,$FF,$FC,$FF
        .byte $21,$60,$20
        .byte $FF,$D3,$00,$00,$00,$00,$00,$00
        .byte $00,$D4,$FF,$33,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$34,$FC,$5B,$FF
        .byte $FF,$FF,$FF,$FF,$5E,$FC,$FF,$FC
        .byte $21,$80,$20
        .byte $FC,$D3,$FE,$FE,$FE,$FE,$FE,$FE
        .byte $FE,$D4,$FC,$33,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$34,$FF,$5B,$FF
        .byte $FF,$FF,$FF,$FF,$5E,$FF,$FC,$FF
        .byte $21,$A0,$20
        .byte $FF,$F3,$F4,$F4,$F4,$F4,$F4,$F4
        .byte $F4,$F8,$FF,$33,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$34,$FC,$5B,$FF
        .byte $FF,$FF,$FF,$FF,$5E,$FC,$FF,$FC
        .byte $21,$C0,$20
        .byte $FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF
        .byte $FC,$FF,$FC,$33,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$34,$FF,$6B,$4D
        .byte $4D,$4D,$4D,$4D,$6E,$FF,$FC,$FF
        .byte $21,$E0,$20
        .byte $FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC
        .byte $FF,$FC,$FF,$33,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$34,$FC,$FF,$FC
        .byte $D5,$D6,$EC,$D7,$FF,$FC,$FF,$FC
        .byte $22,$00,$20
        .byte $FC,$FF,$FC,$90,$91,$65,$A0,$A1
        .byte $FC,$FF,$FC,$33,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$34,$FF,$E3,$E4
        .byte $E5,$E6,$E6,$E7,$E4,$E8,$FC,$FF
        .byte $22,$20,$20
        .byte $FF,$FC,$92,$93,$FD,$FD,$FD,$A2
        .byte $A3,$FC,$FF,$33,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$34,$FC,$D3,$FE
        .byte $FE,$FE,$FE,$FE,$FE,$D4,$FF,$FC
        .byte $22,$40,$20
        .byte $FC,$94,$95,$FD,$FD,$FD,$FD,$FD
        .byte $A4,$A5,$FC,$33,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$34,$FF,$D3,$15
        .byte $0E,$1F,$0E,$15,$FE,$D4,$FC,$FF
        .byte $22,$60,$20
        .byte $FF,$96,$FD,$FD,$FD,$FD,$FD,$FD
        .byte $FD,$A6,$FF,$33,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$34,$FC,$D3,$FE
        .byte $FE,$FE,$FE,$FE,$FE,$D4,$FF,$FC
        .byte $22,$80,$20
        .byte $FC,$63,$FD,$FD,$FD,$FD,$FD,$FD
        .byte $FD,$64,$FC,$33,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$34,$FF,$D3,$FE
        .byte $FE,$FE,$FE,$FE,$FE,$D4,$FC,$FF
        .byte $22,$A0,$20
        .byte $FF,$83,$FD,$FD,$FD,$FD,$FD,$FD
        .byte $FD,$84,$FF,$33,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$34,$FC,$D3,$1C
        .byte $19,$0E,$0E,$0D,$FE,$D4,$FF,$FC
        .byte $22,$C0,$20
        .byte $FC,$C0,$FD,$FD,$FD,$FD,$FD,$FD
        .byte $FD,$B0,$FC,$33,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$34,$FF,$D3,$FE
        .byte $FE,$FE,$FE,$FE,$FE,$D4,$FC,$FF
        .byte $22,$E0,$20
        .byte $FF,$C1,$C2,$FD,$FD,$FD,$FD,$FD
        .byte $B1,$B2,$FF,$33,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$34,$FC,$D3,$FE
        .byte $FE,$FE,$FE,$FE,$FE,$D4,$FF,$FC
        .byte $23,$00,$20
        .byte $FC,$DF,$C3,$C4,$FD,$FD,$FD,$B3
        .byte $B4,$FF,$FC,$33,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$34,$FF,$D3,$1F
        .byte $12,$1B,$1E,$1C,$FE,$D4,$FC,$FF
        .byte $23,$20,$20
        .byte $DC,$DD,$DE,$C5,$C6,$75,$B5,$B6
        .byte $FF,$FC,$FF,$33,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$34,$FC,$D3,$FE
        .byte $FE,$FE,$FE,$FE,$FE,$D4,$FF,$FC
        .byte $23,$40,$20
        .byte $85,$86,$FC,$FF,$FC,$FF,$FC,$FF
        .byte $FC,$FF,$FC,$35,$36,$36,$36,$36
        .byte $36,$36,$36,$36,$37,$FF,$D3,$FE
        .byte $FE,$FE,$FE,$FE,$FE,$D4,$FC,$FF
        .byte $23,$60,$20
        .byte $FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC
        .byte $FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC
        .byte $FF,$FC,$FF,$FC,$FF,$FC,$F3,$F4
        .byte $F4,$F4,$F4,$F4,$F4,$F8,$FF,$FC
        .byte $23,$80,$20
        .byte $FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF
        .byte $FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF
        .byte $FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF
        .byte $FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF
        .byte $23,$A0,$20
        .byte $FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC
        .byte $FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC
        .byte $FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC
        .byte $FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC
        .byte $23,$C0,$20
        .byte $00,$00,$00,$00,$00,$50,$50,$50
        .byte $55,$55,$11,$00,$00,$55,$55,$55
        .byte $55,$55,$11,$A0,$A0,$44,$55,$11
        .byte $05,$05,$01,$AA,$AA,$44,$55,$11
        .byte $23,$E0,$20
        .byte $FF,$FF,$33,$AA,$AA,$44,$55,$11
        .byte $FF,$FF,$33,$AA,$AA,$44,$55,$11
        .byte $FF,$0F,$03,$0A,$0A,$44,$55,$11
        .byte $00,$00,$00,$00,$00,$00,$00,$00
        .byte $FF
; ----------------------------------------------------------------------------
; Argument to RB6C2
; Two player level screen
; 1024 bytes of data for PPU addresses $2000 to $23FF
LC5F9:
        .byte $20,$00,$20,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF
        .byte $20,$20,$20,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC
        .byte $20,$40,$20,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$2C,$74,$49,$2D,$7E,$7D,$2E,$74,$49,$2F,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF
        .byte $20,$60,$20,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$53,$01,$19,$54,$45,$45,$55,$02,$19,$56,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC
        .byte $20,$80,$20,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$57,$FE,$A7,$A8,$B7,$B8,$C7,$C8,$FE,$58,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF
        .byte $20,$A0,$20,$FF,$FC,$FF,$FC,$FF,$38,$43,$44,$43,$44,$39,$53,$FE,$FE,$FE,$FE,$FE,$FE,$FE,$FE,$56,$38,$43,$44,$43,$44,$39,$FC,$FF,$FC,$FF,$FC
        .byte $20,$C0,$20,$FC,$FF,$FC,$FF,$FC,$33,$FF,$FF,$FF,$FF,$34,$57,$FE,$FE,$FE,$FE,$FE,$FE,$FE,$FE,$58,$33,$FF,$FF,$FF,$FF,$34,$FF,$FC,$FF,$FC,$FF
        .byte $20,$E0,$20,$FF,$FC,$FF,$FC,$FF,$3A,$3B,$FF,$FF,$3C,$3D,$53,$FE,$FE,$FE,$FE,$FE,$FE,$FE,$FE,$56,$3A,$3B,$FF,$FF,$3C,$3D,$FC,$FF,$FC,$FF,$FC
        .byte $21,$00,$20,$FC,$FF,$FC,$FF,$FC,$FF,$33,$FF,$FF,$34,$FC,$7B,$73,$4A,$73,$4A,$73,$4A,$73,$4A,$7C,$FF,$33,$FF,$FF,$34,$FC,$FF,$FC,$FF,$FC,$FF
        .byte $21,$20,$20,$FF,$FC,$FF,$30,$31,$31,$3E,$46,$47,$3F,$31,$31,$32,$FC,$D5,$D6,$EC,$D7,$FF,$30,$31,$31,$3E,$46,$47,$3F,$31,$31,$32,$FC,$FF,$FC
        .byte $21,$40,$20,$FC,$FF,$FC,$33,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$34,$E4,$E5,$E6,$E6,$E7,$E4,$33,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$34,$FF,$FC,$FF
        .byte $21,$60,$20,$FF,$FC,$FF,$33,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$34,$FE,$FE,$FE,$FE,$FE,$FE,$33,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$34,$FC,$FF,$FC
        .byte $21,$80,$20,$FC,$FF,$FC,$33,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$34,$FE,$4F,$6F,$4F,$6F,$FE,$33,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$34,$FF,$FC,$FF
        .byte $21,$A0,$20,$FF,$FC,$FF,$33,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$34,$FE,$5F,$7F,$5F,$7F,$FE,$33,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$34,$FC,$FF,$FC
        .byte $21,$C0,$20,$FC,$FF,$FC,$33,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$34,$FE,$4F,$6F,$4F,$6F,$FE,$33,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$34,$FF,$FC,$FF
        .byte $21,$E0,$20,$FF,$FC,$FF,$33,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$34,$FE,$5F,$7F,$5F,$7F,$FE,$33,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$34,$FC,$FF,$FC
        .byte $22,$00,$20,$FC,$FF,$FC,$33,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$34,$FE,$4F,$6F,$4F,$6F,$FE,$33,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$34,$FF,$FC,$FF
        .byte $22,$20,$20,$FF,$FC,$FF,$33,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$34,$FE,$5F,$7F,$5F,$7F,$FE,$33,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$34,$FC,$FF,$FC
        .byte $22,$40,$20,$FC,$FF,$FC,$33,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$34,$FE,$FE,$FE,$FE,$FE,$FE,$33,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$34,$FF,$FC,$FF
        .byte $22,$60,$20,$FF,$FC,$FF,$33,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$34,$D8,$48,$D8,$48,$D8,$48,$33,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$34,$FC,$FF,$FC
        .byte $22,$80,$20,$FC,$FF,$FC,$33,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$34,$FF,$FC,$FF,$FC,$FF,$FC,$33,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$34,$FF,$FC,$FF
        .byte $22,$A0,$20,$FF,$FC,$FF,$33,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$34,$77,$78,$87,$88,$97,$98,$33,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$34,$FC,$FF,$FC
        .byte $22,$C0,$20,$FC,$FF,$FC,$33,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$34,$2C,$74,$27,$28,$49,$2F,$33,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$34,$FF,$FC,$FF
        .byte $22,$E0,$20,$FF,$FC,$FF,$33,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$34,$53,$FE,$69,$6A,$FE,$56,$33,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$34,$FC,$FF,$FC
        .byte $23,$00,$20,$FC,$FF,$FC,$33,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$34,$57,$FE,$79,$7A,$FE,$58,$33,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$34,$FF,$FC,$FF
        .byte $23,$20,$20,$FF,$FC,$FF,$33,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$34,$59,$4A,$73,$4A,$73,$5A,$33,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$34,$FC,$FF,$FC
        .byte $23,$40,$20,$FC,$FF,$FC,$35,$36,$36,$36,$36,$36,$36,$36,$36,$37,$FF,$FC,$FF,$FC,$FF,$FC,$35,$36,$36,$36,$36,$36,$36,$36,$36,$37,$FF,$FC,$FF
        .byte $23,$60,$20,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC
        .byte $23,$80,$20,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF
        .byte $23,$A0,$20,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC,$FF,$FC
        .byte $23,$C0,$20,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$A0,$A0,$00,$00,$A0,$A0,$00,$00,$AA,$AA,$88,$22,$AA,$AA,$00
        .byte $23,$E0,$20,$00,$AA,$AA,$08,$02,$AA,$AA,$00,$00,$AA,$AA,$00,$00,$AA,$AA,$00,$00,$0A,$0A,$00,$00,$0A,$0A,$00,$00,$00,$00,$00,$00,$00,$00,$00
        .byte $FF

; ----------------------------------------------------------------------------
; Argument to RB6C2
; Congratulations screen
; 1024 bytes of data for PPU addresses $2000 to $23FF
LCA5A:

        .byte $20,$00,$20,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC
        .byte $20,$20,$20,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC
        .byte $20,$40,$20,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC
        .byte $20,$60,$20,$FC,$FC,$FC,$26,$27,$27,$27,$27,$27,$27,$27,$27,$27,$27,$27,$27,$27,$27,$27,$27,$27,$27,$27,$27,$27,$27,$27,$27,$28,$FC,$FC,$FC
        .byte $20,$80,$20,$FC,$FC,$FC,$29,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$2A,$FC,$FC,$FC
        .byte $20,$A0,$20,$FC,$FC,$FC,$29,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$2A,$FC,$FC,$FC
        .byte $20,$C0,$20,$FC,$FC,$FC,$29,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$2A,$FC,$FC,$FC
        .byte $20,$E0,$20,$FC,$FC,$FC,$29,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$2A,$FC,$FC,$FC
        .byte $21,$00,$20,$FC,$FC,$FC,$29,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$2A,$FC,$FC,$FC
        .byte $21,$20,$20,$FC,$FC,$FC,$29,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$2A,$FC,$FC,$FC
        .byte $21,$40,$20,$FC,$FC,$FC,$29,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$2A,$FC,$FC,$FC
        .byte $21,$60,$20,$FC,$FC,$FC,$29,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$2A,$FC,$FC,$FC
        .byte $21,$80,$20,$FC,$FC,$FC,$29,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$2A,$FC,$FC,$FC
        .byte $21,$A0,$20,$FC,$FC,$FC,$29,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$2A,$FC,$FC,$FC
        .byte $21,$C0,$20,$FC,$FC,$FC,$29,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$2A,$FC,$FC,$FC
        .byte $21,$E0,$20,$FC,$FC,$FC,$29,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$2A,$FC,$FC,$FC
        .byte $22,$00,$20,$FC,$FC,$FC,$29,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$2A,$FC,$FC,$FC
        .byte $22,$20,$20,$FC,$FC,$FC,$29,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$33,$34,$35,$36,$37,$38,$39,$3A,$3B,$3C,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$2A,$FC,$FC,$FC
        .byte $22,$40,$20,$FC,$FC,$FC,$29,$FF,$FF,$FF,$FF,$FF,$41,$42,$43,$44,$45,$46,$47,$48,$49,$4A,$4B,$4C,$4D,$4E,$FF,$FF,$FF,$FF,$FF,$2A,$FC,$FC,$FC
        .byte $22,$60,$20,$FC,$FC,$FC,$29,$FF,$FF,$FF,$FF,$50,$51,$52,$53,$54,$55,$56,$57,$58,$59,$5A,$5B,$5C,$5D,$5E,$5F,$FF,$FF,$FF,$FF,$2A,$FC,$FC,$FC
        .byte $22,$80,$20,$FC,$FC,$FC,$29,$FF,$FF,$FF,$FF,$60,$61,$62,$63,$64,$65,$66,$67,$68,$69,$6A,$6B,$6C,$6D,$6E,$6F,$FF,$FF,$FF,$FF,$2A,$FC,$FC,$FC
        .byte $22,$A0,$20,$FC,$FC,$FC,$29,$FF,$FF,$FF,$FF,$70,$71,$72,$73,$74,$75,$76,$77,$78,$79,$7A,$7B,$7C,$7D,$7E,$7F,$FF,$FF,$FF,$FF,$2A,$FC,$FC,$FC
        .byte $22,$C0,$20,$FC,$FC,$FC,$29,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$85,$86,$87,$88,$89,$8A,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$2A,$FC,$FC,$FC
        .byte $22,$E0,$20,$FC,$FC,$FC,$29,$FF,$FF,$FF,$FF,$FF,$91,$92,$93,$94,$95,$96,$97,$98,$99,$9A,$9B,$9C,$9D,$9E,$FF,$FF,$FF,$FF,$FF,$2A,$FC,$FC,$FC
        .byte $23,$00,$20,$FC,$FC,$FC,$29,$FF,$FF,$C2,$C3,$A0,$A1,$A2,$A3,$A4,$A5,$A6,$A7,$A8,$A9,$AA,$AB,$AC,$AD,$AE,$C4,$C5,$FF,$FF,$FF,$2A,$FC,$FC,$FC
        .byte $23,$20,$20,$FC,$FC,$FC,$29,$D0,$D1,$D2,$D3,$B0,$B1,$B2,$B3,$B4,$B5,$B6,$B7,$B8,$B9,$BA,$BB,$BC,$BD,$BE,$D4,$D5,$D6,$D7,$FF,$2A,$FC,$FC,$FC
        .byte $23,$40,$20,$FC,$FC,$FC,$2B,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2D,$FC,$FC,$FC
        .byte $23,$60,$20,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC
        .byte $23,$80,$20,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC
        .byte $23,$A0,$20,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC
        .byte $23,$C0,$20,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$55,$55,$55,$55,$55,$55,$FF,$FF,$55,$55,$55,$55,$55,$55,$FF,$FF,$55,$55,$55,$55,$55,$55,$FF
        .byte $23,$E0,$20,$FF,$00,$00,$00,$00,$00,$00,$FF,$FF,$00,$00,$00,$00,$00,$00,$FF,$FF,$F0,$F0,$F0,$F0,$F0,$F0,$FF,$0F,$0F,$0F,$0F,$0F,$0F,$0F,$0F
        .byte $FF

        .byte $FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC,$FC
        .byte $23,$C0,$20,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$55,$55,$55,$55,$55,$55,$FF,$FF,$55,$55,$55,$55,$55,$55,$FF,$FF,$55,$55,$55,$55,$55,$55,$FF
        .byte $23,$E0,$20,$FF,$00,$00,$00,$00,$00,$00,$FF,$FF,$00,$00,$00,$00,$00,$00,$FF,$FF,$F0,$F0,$F0

; ----------------------------------------------------------------------------
; At L9CEA, these 128 bytes are copied to $0400.
LCF00:
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
        .byte $D2,$FF,$FF,$FF,$D2,$FF,$D1,$D0,$D2,$D1,$FF,$FF,$FF,$FF,$FF,$FF
        .byte $D0,$FF,$D2,$FF,$D0,$D2,$D2,$FF,$FF,$FF,$D2,$D0,$FF,$FF,$FF,$FF
        .byte $FF,$D2,$FF,$FF,$D1,$D0,$FF,$D1,$FF,$FF,$D1,$FF,$D2,$D1,$D1,$D2
        .byte $D2,$D1,$D0,$D2,$D2,$FF,$D1,$D0,$D1,$FF,$FF,$FF,$FF,$D0,$D0,$D1
        .byte $FF,$D2,$D2,$D0,$D0,$D1,$FF,$D2,$D2,$D1,$FF,$D0,$FF,$D1,$D1,$FF

; ----------------------------------------------------------------------------
; Used in R8E8D
LCF80:
        .byte $00,$00,$07,$02,$01,$05,$03,$05,$00,$06,$06,$03,$05,$00,$05,$03 ; CF80
        .byte $05,$00,$06,$06,$04,$08,$07,$02,$00,$02,$05,$00,$06,$07,$06,$04 ; CF90
        .byte $08,$06,$00,$06,$06,$04,$00,$00,$07,$03,$04,$04,$03,$00,$03,$00 ; CFA0
        .byte $00,$07,$03,$03,$00,$02,$05,$00,$05,$04,$00,$01,$01,$00,$06,$08 ; CFB0
        .byte $02,$06,$02,$00,$02,$06,$02,$01,$05,$04,$08,$06,$00,$05,$04,$08 ; CFC0
        .byte $06,$08,$03,$00,$01,$01,$01,$01,$00,$07,$02,$01,$05,$04,$08,$06 ; CFD0
        .byte $00,$06,$06,$04,$08,$07,$02,$01,$06,$06,$03,$05,$08,$02,$06,$03 ; CFE0
        .byte $04,$04,$03,$01,$05,$04,$00,$01,$00,$06,$00,$05,$04,$00,$01,$01 ; CFF0
        .byte $00,$00,$00,$08,$00,$97,$01,$08,$41,$06,$01,$17,$00,$0E,$04,$08 ; D000
        .byte $00,$24,$01,$06,$00,$03,$01,$06,$00,$09,$04,$0E,$00,$31,$04,$0C ; D010
        .byte $00,$27,$01,$0C,$41,$07,$01,$03,$41,$06,$40,$00,$00,$6C,$01,$09 ; D020
        .byte $00,$05,$01,$04,$00,$02,$40,$05,$00,$04,$40,$05,$00,$11,$04,$03 ; D030
        .byte $00,$6E,$02,$05,$00,$1B,$04,$07,$00,$3A,$01,$04,$00,$07,$01,$06 ; D040
        .byte $00,$09,$40,$04,$00,$09,$01,$09,$00,$00,$40,$06,$00,$10,$04,$07 ; D050
        .byte $00,$27,$40,$04,$00,$05,$04,$07,$00,$69,$40,$05,$00,$05,$40,$06 ; D060
        .byte $00,$05,$04,$08,$00,$24,$40,$04,$00,$05,$40,$04,$00,$11,$04,$06 ; D070

        .byte $00,$7A,$02,$05,$00,$0C,$04,$0C,$00,$27,$01,$1C,$41,$05,$01,$04 ; D080
        .byte $41,$04,$40,$01,$00,$11,$04,$0C,$00,$2D,$01,$05,$41,$00,$40,$06
        .byte $00,$06,$04,$0E,$00,$24,$01,$11,$41,$06,$01,$03,$41,$02,$40,$03
        .byte $00,$0F,$04,$07,$00,$7B,$01,$04,$00,$00,$80,$08,$00,$09,$04,$09
        .byte $00,$88,$01,$07,$00,$0E,$04,$0B,$00,$5F,$01,$15,$40,$04,$00,$10
        .byte $04,$10,$00,$76,$01,$1A,$00,$04,$40,$05,$00,$05,$40,$05,$00,$19
        .byte $04,$08,$00,$0C,$01,$25,$41,$03,$01,$04,$00,$02,$40,$03,$00,$10
        .byte $04,$0D,$00,$3C,$02,$07,$40,$05,$00,$09,$04,$0C,$00,$3E,$02,$04
        .byte $00,$08,$40,$06,$00,$07,$04,$0B,$00,$49,$01,$06,$00,$17,$80,$07
        .byte $00,$0A,$04,$0C,$00,$6B,$01,$29,$00,$04,$04,$0C,$00,$51,$01,$06
        .byte $00,$05,$01,$05,$00,$0B,$04,$09,$00,$67,$01,$04,$00,$18,$80,$06
        .byte $00,$0C,$04,$0D,$00,$86,$02,$09,$42,$07,$02,$03,$42,$06,$02,$0B
        .byte $00,$04,$04,$08,$00,$2B,$01,$05,$00,$00,$40,$05,$00,$0B,$04,$14
        .byte $00,$6F,$02,$0C,$42,$09,$02,$09,$00,$96,$02,$05,$00,$08,$40,$05
        .byte $00,$05,$40,$05,$00,$14,$04,$0D,$00,$7D,$04,$08,$00,$51,$02,$02
        .byte $42,$03,$40,$04,$00,$0A,$04,$13,$00,$53,$01,$02,$00,$01,$40,$06
        .byte $00,$02,$02,$05,$00,$0D,$04,$0E,$00,$95,$04,$0A,$00,$34,$02,$11
        .byte $00,$22,$02,$1B,$42,$06,$02,$0C,$00,$08,$04,$0D,$00,$3D,$02,$05
        .byte $00,$0C,$04,$09,$00,$22,$02,$07,$00,$47,$04,$09,$00,$45,$02,$05
        .byte $00,$0C,$02,$07,$00,$68,$02,$08,$00,$04,$02,$05,$00,$03,$40,$04
        .byte $00,$06,$04,$09,$00,$40,$40,$05,$00,$05,$04,$20,$00,$3E,$01,$05
        .byte $00,$0D,$40,$07,$00,$16,$04,$17,$00,$39,$02,$1F,$00,$12,$04,$0F
        .byte $00,$32,$01,$02,$00,$13,$40,$03,$00,$06,$40,$04,$00,$08,$04,$10
        .byte $00,$15,$01,$1F,$00,$06,$01,$07,$00,$14,$04,$13,$00,$24,$01,$09

; ----------------------------------------------------------------------------
LD200:  .word VD5DC, VD698, VD619, VD5BA        ; D200
        .word VD67A, VD570, VD693, VD294        ; D208
LD210:  .word VD5EE, VD69F, VD66A, VD5D1        ; D210
        .word VD681, VD577, VD294, VD294        ; D218
LD220:  .word VD8D1, VD93B, VD88D, VD959        ; D220
        .word VD8E7, VDA24, VD877, VD86D        ; D228
        .word VD923, VD9B8, VD99A               ; D230
LD236:  .word VD8BA                             ; D236
        .word VD950, VD8A3, VD970, VD8FD        ; D238
        .word VDA08, VD8A3, VD83D, VD92E        ; D240
        .word VD9BF, VD9A1                      ; D248
LD24C:  .word VDAB0, VDA71, VDACB, VDACF        ; D24C
LD254:  .word VDA8E, VDA78, VDA8E, VDA8E        ; D254
LD25C:  .word VD727, VD6DB, VD7A3               ; D25C
LD262:  .word VD734, VD6EA, VD7AF               ; D262
LD268:  .word RD4E5, VDA50, VDA48               ; D268

; ----------------------------------------------------------------------------
RD26E:  lda     #$00                            ; D26E A9 00
        beq     LD27C                           ; D270 F0 0A
RD272:  lda     #$08                            ; D272 A9 08
        bne     LD27C                           ; D274 D0 06
RD276:  lda     #$0C                            ; D276 A9 0C
        bne     LD27C                           ; D278 D0 02
RD27A:  lda     #$04                            ; D27A A9 04
LD27C:  sta     $E0                             ; D27C 85 E0
        lda     #$40                            ; D27E A9 40
        sta     $E1                             ; D280 85 E1
        sty     $E2                             ; D282 84 E2
        lda     #$D3                            ; D284 A9 D3
        sta     $E3                             ; D286 85 E3
        ldy     #$00                            ; D288 A0 00
LD28A:  lda     ($E2),y                         ; D28A B1 E2
        sta     ($E0),y                         ; D28C 91 E0
        iny                                     ; D28E C8
        tya                                     ; D28F 98
        cmp     #$04                            ; D290 C9 04
        bne     LD28A                           ; D292 D0 F6
VD294:  rts                                     ; D294 60

; ----------------------------------------------------------------------------
; called from one place
RD295:  lda     $EB                             ; D295 A5 EB
        and     #$02                            ; D297 29 02
        sta     $06FF                           ; D299 8D FF 06
        lda     $EC                             ; D29C A5 EC
        and     #$02                            ; D29E 29 02
        eor     $06FF                           ; D2A0 4D FF 06
        clc                                     ; D2A3 18
        beq     LD2A7                           ; D2A4 F0 01
        sec                                     ; D2A6 38
LD2A7:  ror     $EB                             ; D2A7 66 EB
        ror     $EC                             ; D2A9 66 EC
        rts                                     ; D2AB 60

; ----------------------------------------------------------------------------
RD2AC:  ldx     $ED                             ; D2AC A6 ED
        inc     $06DA,x                         ; D2AE FE DA 06
        lda     $06DA,x                         ; D2B1 BD DA 06
        cmp     $06D5,x                         ; D2B4 DD D5 06
        bne     LD2BE                           ; D2B7 D0 05
        lda     #$00                            ; D2B9 A9 00
        sta     $06DA,x                         ; D2BB 9D DA 06
LD2BE:  rts                                     ; D2BE 60

; ----------------------------------------------------------------------------
LD2BF:  lda     #$0F                            ; D2BF A9 0F
        sta     $4015                           ; D2C1 8D 15 40
        lda     #$55                            ; D2C4 A9 55
        sta     $EB                             ; D2C6 85 EB
        jsr     RD4E5                           ; D2C8 20 E5 D4
        rts                                     ; D2CB 60

; ----------------------------------------------------------------------------
        ;D2CC
        .byte $FF,$FF,$FF,$FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
        .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
        .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
        ;D300
        .byte $03,$7F,$0F,$C0,$33,$7F,$80,$C0,$3F,$7F,$82,$C0,$39,$7F,$00,$C0
        .byte $39,$7F,$0E,$C0,$32,$7F,$0E,$C0,$1F,$7F,$0F,$C0,$14,$7F,$02,$C0
        .byte $B0,$7F,$1C,$40,$B0,$7F,$32,$40,$B0,$7F
LD32A:  .byte $30,$40,$B0,$7F
LD32E:  .byte $10,$40
        .byte $9D,$7F,$7A,$28,$9D,$7F,$40,$28,$96,$7F,$A3,$28,$B2,$7F,$A3,$08
        .byte $96,$7F,$D4,$28,$9B,$84,$FF,$0B,$D7,$7F,$40,$30,$D2,$7F,$40,$30
        .byte $00,$7F,$78,$08,$01,$7F,$B2,$08,$9E,$99,$F0,$08,$9C,$BB,$80,$09
        .byte $9F,$87,$FF,$08,$96,$7F,$5E,$20,$82,$7F,$53,$F8,$80,$7F,$62,$18
        .byte $01,$7F,$58,$08,$01,$7F,$59,$08,$FA,$7F,$8D,$08,$F7,$7F,$8E,$08
        .byte $FF,$7F
LD382:  .byte $20,$0A,$FF,$7F
LD386:  .byte $52,$0A,$03,$7F,$3D,$18
; ----------------------------------------------------------------------------
; 4-byte lookup table
LD38C:  .byte $14,$93,$94,$D3
; ----------------------------------------------------------------------------
        .byte $FE,$FE,$FF,$EF,$FE,$EF,$FE,$EF,$EF,$FE,$EF,$FE,$EF,$FF,$EE,$EE
        .byte $FF,$EF,$FF,$FF,$FF,$EF,$EF,$FF,$FD,$EF,$EF,$EF,$FE,$EF,$EF,$FF
        .byte $F1,$FF,$E1,$EF,$EF,$EF,$DF,$FB,$FB,$AE,$AA,$99,$98,$87,$76,$66
        .byte $55,$44,$44,$44,$44,$43,$33,$33,$22,$22,$22,$22,$21,$11,$11,$11

; ----------------------------------------------------------------------------
; called from one place
RD3D0:  ldx     #$02                            ; D3D0 A2 02
        lda     #$68                            ; D3D2 A9 68
        ldy     #$68                            ; D3D4 A0 68
        bne     LD3FB                           ; D3D6 D0 23
; called from one place
RD3D8:  ldx     #$03                            ; D3D8 A2 03
        lda     #$4C                            ; D3DA A9 4C
        ldy     #$54                            ; D3DC A0 54
        bne     LD3FB                           ; D3DE D0 1B
; called from one place
RD3E0:  ldx     #$04                            ; D3E0 A2 04
        lda     #$5C                            ; D3E2 A9 5C
        ldy     #$62                            ; D3E4 A0 62
        bne     LD3FB                           ; D3E6 D0 13
; called from one place
RD3E8:  lda     $06FC                           ; D3E8 AD FC 06
        bne     LD43E                           ; D3EB D0 51
        ldx     #$01                            ; D3ED A2 01
        lda     #$20                            ; D3EF A9 20
        ldy     #$36                            ; D3F1 A0 36
        bne     LD3FB                           ; D3F3 D0 06
; called from one place
RD3F5:  ldx     #$00                            ; D3F5 A2 00
        lda     #$00                            ; D3F7 A9 00
        ldy     #$10                            ; D3F9 A0 10

LD3FB:
; input A,X,Y
; let J = $06F0,X and K = $06F8,X
; if J > 0 then jump to (J-1)th vector at LD200+A
; if J = 0 and K > 0 then jump to (K-1)th vector at LD200+Y
; if J = 0 and K = 0 then rts
        sta     $E0                             ; D3FB 85 E0
        stx     $ED                             ; D3FD 86 ED
        lda     $06F0,x                         ; D3FF BD F0 06
        beq     LD435                           ; D402 F0 31

LD404:
; input A: jump to vector at LD200 + $E0 + (A-1)<<1
        sta     $EF                             ; D404 85 EF
        sta     $E2                             ; D406 85 E2
        ldy     #>LD200                         ; D408 A0 D2
        sty     $E1                             ; D40A 84 E1
        and     #$07                            ; D40C 29 07
        tay                                     ; D40E A8
        lda     LD42D,y                         ; D40F B9 2D D4
        tay                                     ; D412 A8
        dec     $E2                             ; D413 C6 E2
        lda     $E2                             ; D415 A5 E2
        and     #$F8                            ; D417 29 F8
        sta     $E2                             ; D419 85 E2
        asl     $E2                             ; D41B 06 E2
        tya                                     ; D41D 98
        ora     $E2                             ; D41E 05 E2
        tay                                     ; D420 A8
        ; now Y = (A-1)<<1
        lda     ($E0),y                         ; D421 B1 E0
        sta     $E2                             ; D423 85 E2
        iny                                     ; D425 C8
        lda     ($E0),y                         ; D426 B1 E0
        sta     $E3                             ; D428 85 E3
        jmp     ($E2)                           ; D42A 6C E2 00

LD42D:  .byte $0E, $00, $02, $04                ; D42D 0E 00 02 04
        .byte $06, $08, $0A, $0C                ; D431 06 08 0A 0C

LD435:
; input X,Y: if $06F8,X is zero then rts, else $E0=Y and LD404
        lda     $06F8,x                         ; D435 BD F8 06
        beq     LD43E                           ; D438 F0 04
        sty     $E0                             ; D43A 84 E0
        bne     LD404                           ; D43C D0 C6
LD43E:  rts                                     ; D43E 60

; ----------------------------------------------------------------------------
LD43F:  inc     $0682                           ; D43F EE 82 06
        jsr     RD515                           ; D442 20 15 D5
        sta     $0683                           ; D445 8D 83 06
        rts                                     ; D448 60

; ----------------------------------------------------------------------------
LD449:  lda     $0682                           ; D449 AD 82 06
        beq     LD43F                           ; D44C F0 F1
        lda     $0683                           ; D44E AD 83 06
        cmp     #$12                            ; D451 C9 12
        beq     LD46F                           ; D453 F0 1A
        and     #$03                            ; D455 29 03
        cmp     #$03                            ; D457 C9 03
        bne     LD46C                           ; D459 D0 11
        inc     $068B                           ; D45B EE 8B 06
        ldy     #$34                            ; D45E A0 34
        lda     $068B                           ; D460 AD 8B 06
        and     #$01                            ; D463 29 01
        bne     LD469                           ; D465 D0 02
        ldy     #$30                            ; D467 A0 30
LD469:  jsr     RD26E                           ; D469 20 6E D2
LD46C:  inc     $0683                           ; D46C EE 83 06
LD46F:  rts                                     ; D46F 60

; ----------------------------------------------------------------------------
LD470:  lda     #$C0                            ; D470 A9 C0
        sta     $4017                           ; D472 8D 17 40
        jsr     RD295                           ; D475 20 95 D2
        lda     L068D                           ; D478 AD 8D 06
        cmp     #$05                            ; D47B C9 05
        beq     LD449                           ; D47D F0 CA
        lda     #$00                            ; D47F A9 00
        sta     $0682                           ; D481 8D 82 06
        sta     $068B                           ; D484 8D 8B 06
        lda     $06F4                           ; D487 AD F4 06
        cmp     #$03                            ; D48A C9 03
        beq     LD491                           ; D48C F0 03
        jmp     LD4A3                           ; D48E 4C A3 D4

; ----------------------------------------------------------------------------
LD491:  jsr     RD4E5                           ; D491 20 E5 D4
        lda     #$03                            ; D494 A9 03
        sta     $06F4                           ; D496 8D F4 06
        lda     #$05                            ; D499 A9 05
        sta     $06F0                           ; D49B 8D F0 06
        lda     #$04                            ; D49E A9 04
        sta     $06F3                           ; D4A0 8D F3 06
LD4A3:  lda     $06F5                           ; D4A3 AD F5 06
        cmp     #$05                            ; D4A6 C9 05
LD4A8:  beq     LD4C1                           ; D4A8 F0 17
        cmp     #$0C                            ; D4AA C9 0C
        beq     LD4B1                           ; D4AC F0 03
        jmp     LD4C8                           ; D4AE 4C C8 D4

; ----------------------------------------------------------------------------
LD4B1:  jsr     RD4E5                           ; D4B1 20 E5 D4
        lda     #$0C                            ; D4B4 A9 0C
        sta     $06F5                           ; D4B6 8D F5 06
        lda     #$02                            ; D4B9 A9 02
        sta     $06F0                           ; D4BB 8D F0 06
        jmp     LD4C8                           ; D4BE 4C C8 D4

; ----------------------------------------------------------------------------
LD4C1:  lda     #$02                            ; D4C1 A9 02
        bne     LD4C5                           ; D4C3 D0 00
LD4C5:  sta     $06F0                           ; D4C5 8D F0 06
LD4C8:  jsr     RD3D0                           ; D4C8 20 D0 D3
        jsr     RD3F5                           ; D4CB 20 F5 D3
        jsr     RD3E0                           ; D4CE 20 E0 D3
        jsr     RD3D8                           ; D4D1 20 D8 D3
        jsr     RD3E8                           ; D4D4 20 E8 D3
        jsr     RDAFB                           ; D4D7 20 FB DA
        lda     #$00                            ; D4DA A9 00
        ldx     #$06                            ; D4DC A2 06
LD4DE:  sta     $06EF,x                         ; D4DE 9D EF 06
        dex                                     ; D4E1 CA
        bne     LD4DE                           ; D4E2 D0 FA
        rts                                     ; D4E4 60

; ----------------------------------------------------------------------------
; vector
RD4E5:  jsr     RD4F4                           ; D4E5 20 F4 D4
RD4E8:  jsr     RD515                           ; D4E8 20 15 D5 ; called once
        lda     #$00                            ; D4EB A9 00
        sta     $4011                           ; D4ED 8D 11 40
        sta     $069C                           ; D4F0 8D 9C 06
        rts                                     ; D4F3 60

; ----------------------------------------------------------------------------
; no inputs
; Writes 0 to $068a $068c $06c8 $06c9 $06ca $06e8 $06f8,[0..5]
RD4F4:
.scope
        lda #$00                                ; D4F4 A9 00
        sta $06C8                               ; D4F6 8D C8 06
        sta $06C9                               ; D4F9 8D C9 06
        sta $06CA                               ; D4FC 8D CA 06
        sta $068C                               ; D4FF 8D 8C 06
        sta $06E8                               ; D502 8D E8 06
        sta $068A                               ; D505 8D 8A 06
        tay                                     ; D508 A8
        loop
            lda #$00                            ; D509 A9 00
            sta $06F8,y                         ; D50B 99 F8 06
            iny                                 ; D50E C8
            tya                                 ; D50F 98
            cmp #$06                            ; D510 C9 06
        while_ne                                ; D512 D0 F5
        rts                                     ; D514 60
.endscope

; ----------------------------------------------------------------------------
; Initialize/silence APU
; no inputs
; $4000 = #$10 Pulse channel 1, constant volume = 0
; $4004 = #$10 Pulse channel 2, constant volume = 0
; $4008 = #$00 Triangle channel, counter = 0
; $400C = #$10 Noise channel, volume = 0
; $4011 = #$00 DMC direct load = 0

RD515:
.scope
        lda     #$00                            ; D515 A9 00
        sta     $4011                           ; D517 8D 11 40
        lda     #$10                            ; D51A A9 10
        sta     $4000                           ; D51C 8D 00 40
        sta     $4004                           ; D51F 8D 04 40
        sta     $400C                           ; D522 8D 0C 40
        lda     #$00                            ; D525 A9 00
        sta     $4008                           ; D527 8D 08 40
        rts                                     ; D52A 60
.endscope

; ----------------------------------------------------------------------------
RD52B:  ldx     $ED                             ; D52B A6 ED
        sta     $06D5,x                         ; D52D 9D D5 06
        txa                                     ; D530 8A
        sta     $06C7,x                         ; D531 9D C7 06
        tya                                     ; D534 98
        beq     LD559                           ; D535 F0 22
        txa                                     ; D537 8A
        beq     LD556                           ; D538 F0 1C
        cmp     #$01                            ; D53A C9 01
        beq     LD547                           ; D53C F0 09
        cmp     #$02                            ; D53E C9 02
        beq     LD54C                           ; D540 F0 0A
        cmp     #$03                            ; D542 C9 03
        beq     LD551                           ; D544 F0 0B
        rts                                     ; D546 60

; ----------------------------------------------------------------------------
LD547:
        jsr     RD26E                           ; D547 20 6E D2
        beq     LD559                           ; D54A F0 0D
LD54C:  jsr     RD27A                           ; D54C 20 7A D2
        beq     LD559                           ; D54F F0 08
LD551:  jsr     RD272                           ; D551 20 72 D2
        beq     LD559                           ; D554 F0 03
LD556:  jsr     RD276                           ; D556 20 76 D2
LD559:  lda     $EF                             ; D559 A5 EF
        sta     $06F8,x                         ; D55B 9D F8 06
        lda     #$00                            ; D55E A9 00
        sta     $06DA,x                         ; D560 9D DA 06
LD563:  sta     $06DF,x                         ; D563 9D DF 06
        sta     $06E3,x                         ; D566 9D E3 06
        sta     $06E7,x                         ; D569 9D E7 06
        sta     $068A                           ; D56C 8D 8A 06
LD56F:  rts                                     ; D56F 60

; ----------------------------------------------------------------------------
VD570:  lda     #$02                            ; D570 A9 02
        ldy     #$04                            ; D572 A0 04
        jsr     RD52B                           ; D574 20 2B D5
VD577:  jsr     RD2AC                           ; D577 20 AC D2
        bne     LD56F                           ; D57A D0 F3
        lda     $06DF                           ; D57C AD DF 06
        and     #$0F                            ; D57F 29 0F
        tay                                     ; D581 A8
        inc     $06DF                           ; D582 EE DF 06
        lda     LD592,y                         ; D585 B9 92 D5
        sta     $400E                           ; D588 8D 0E 40
        lda     LD5A2,y                         ; D58B B9 A2 D5
        sta     $400C                           ; D58E 8D 0C 40
        rts                                     ; D591 60

; ----------------------------------------------------------------------------
; 16-byte lookup table
LD592:  .byte $81,$81,$82,$82,$83,$83,$84,$84,$83,$83,$82,$82,$81,$81,$82,$82
; ----------------------------------------------------------------------------
; 16-byte lookup table
LD5A2:  .byte $33,$34,$35,$36,$37,$38,$39,$38,$39,$38,$37,$36,$35,$34,$33,$32
; ----------------------------------------------------------------------------
; unreachable
        lda     #$07                            ; D5B2 A9 07
        ldy     #$14                            ; D5B4 A0 14
        jsr     RD52B                           ; D5B6 20 2B D5
        rts                                     ; D5B9 60

; ----------------------------------------------------------------------------
VD5BA:  lda     #$B3                            ; D5BA A9 B3
        sta     $06E8                           ; D5BC 8D E8 06
        lda     #$07                            ; D5BF A9 07
        ldy     #$10                            ; D5C1 A0 10
        jsr     RD52B                           ; D5C3 20 2B D5
        lda     #$3E                            ; D5C6 A9 3E
        sta     $06E3                           ; D5C8 8D E3 06
        lda     #$0F                            ; D5CB A9 0F
        sta     $06DF                           ; D5CD 8D DF 06
        rts                                     ; D5D0 60

; ----------------------------------------------------------------------------
VD5D1:  jsr     RD2AC                           ; D5D1 20 AC D2
        bne     LD56F                           ; D5D4 D0 99
        dec     $06DF                           ; D5D6 CE DF 06
        jmp     LD5F6                           ; D5D9 4C F6 D5

; ----------------------------------------------------------------------------
VD5DC:  lda     #$0B                            ; D5DC A9 0B
        ldy     #$0C                            ; D5DE A0 0C
        jsr     RD52B                           ; D5E0 20 2B D5
        lda     #$3E                            ; D5E3 A9 3E
        sta     $06E3                           ; D5E5 8D E3 06
        lda     #$00                            ; D5E8 A9 00
        sta     $06DF                           ; D5EA 8D DF 06
        rts                                     ; D5ED 60

; ----------------------------------------------------------------------------
VD5EE:  jsr     RD2AC                           ; D5EE 20 AC D2
        bne     LD618                           ; D5F1 D0 25
        inc     $06DF                           ; D5F3 EE DF 06
LD5F6:  lda     $06DF                           ; D5F6 AD DF 06
        sta     $400E                           ; D5F9 8D 0E 40
        dec     $06E3                           ; D5FC CE E3 06
        lda     $06E3                           ; D5FF AD E3 06
        sta     $400C                           ; D602 8D 0C 40
        cmp     #$36                            ; D605 C9 36
        beq     LD615                           ; D607 F0 0C
        cmp     #$2F                            ; D609 C9 2F
        bne     LD618                           ; D60B D0 0B
        lda     #$B1                            ; D60D A9 B1
        sta     $06E8                           ; D60F 8D E8 06
        jmp     LD66F                           ; D612 4C 6F D6

; ----------------------------------------------------------------------------
LD615:  jsr     RDA7D                           ; D615 20 7D DA
LD618:  rts                                     ; D618 60

; ----------------------------------------------------------------------------
VD619:  lda     #$04                            ; D619 A9 04
        ldy     #$1C                            ; D61B A0 1C
        jsr     RD52B                           ; D61D 20 2B D5
        lda     $EB                             ; D620 A5 EB
        and     #$07                            ; D622 29 07
        sta     $400E                           ; D624 8D 0E 40
        rts                                     ; D627 60

; ----------------------------------------------------------------------------
LD628:  sta     $400E                           ; D628 8D 0E 40
        rts                                     ; D62B 60

; ----------------------------------------------------------------------------
; called from one place
RD62C:  jsr     RD6BA                           ; D62C 20 BA D6
        jmp     LD628                           ; D62F 4C 28 D6

; ----------------------------------------------------------------------------
        lda     #$07                            ; D632 A9 07
        ldy     #$08                            ; D634 A0 08
        jmp     RD52B                           ; D636 4C 2B D5

; ----------------------------------------------------------------------------
        jsr     RD2AC                           ; D639 20 AC D2
        bne     LD665                           ; D63C D0 27
        lda     $06E3                           ; D63E AD E3 06
        beq     LD648                           ; D641 F0 05
        dec     $06DF                           ; D643 CE DF 06
        beq     LD66F                           ; D646 F0 27
LD648:  inc     $06DF                           ; D648 EE DF 06
        lda     $EB                             ; D64B A5 EB
        and     #$07                            ; D64D 29 07
        ora     #$80                            ; D64F 09 80
        sta     $400E                           ; D651 8D 0E 40
        lda     $06DF                           ; D654 AD DF 06
        cmp     #$0B                            ; D657 C9 0B
        beq     LD666                           ; D659 F0 0B
        ora     #$10                            ; D65B 09 10
        sta     $400C                           ; D65D 8D 0C 40
        lda     #$08                            ; D660 A9 08
        sta     $400F                           ; D662 8D 0F 40
LD665:  rts                                     ; D665 60

; ----------------------------------------------------------------------------
LD666:  inc     $06E3                           ; D666 EE E3 06
        rts                                     ; D669 60

; ----------------------------------------------------------------------------
VD66A:  jsr     RD2AC                           ; D66A 20 AC D2
        bne     LD679                           ; D66D D0 0A
LD66F:  lda     #$00                            ; D66F A9 00
        sta     $06F8                           ; D671 8D F8 06
        lda     #$10                            ; D674 A9 10
        sta     $400C                           ; D676 8D 0C 40
LD679:  rts                                     ; D679 60

; ----------------------------------------------------------------------------
VD67A:  lda     #$40                            ; D67A A9 40
        ldy     #$18                            ; D67C A0 18
        jmp     RD52B                           ; D67E 4C 2B D5

; ----------------------------------------------------------------------------
VD681:  lda     $06E3                           ; D681 AD E3 06
        bne     LD679                           ; D684 D0 F3
        jsr     RD2AC                           ; D686 20 AC D2
        bne     LD6A7                           ; D689 D0 1C
        inc     $06E3                           ; D68B EE E3 06
        ldy     #$14                            ; D68E A0 14
        jmp     RD276                           ; D690 4C 76 D2

; ----------------------------------------------------------------------------
VD693:  ldy     #$14                            ; D693 A0 14
        jmp     RD52B                           ; D695 4C 2B D5

; ----------------------------------------------------------------------------
VD698:  lda     #$40                            ; D698 A9 40
        ldy     #$18                            ; D69A A0 18
        jmp     RD52B                           ; D69C 4C 2B D5

; ----------------------------------------------------------------------------
VD69F:  jsr     RD2AC                           ; D69F 20 AC D2
        bne     LD6A7                           ; D6A2 D0 03
        jmp     LD66F                           ; D6A4 4C 6F D6

; ----------------------------------------------------------------------------
LD6A7:  ldx     #$90                            ; D6A7 A2 90
        jsr     RD62C                           ; D6A9 20 2C D6
        ldx     #$B0                            ; D6AC A2 B0
        jsr     RD6BA                           ; D6AE 20 BA D6
        ora     #$10                            ; D6B1 09 10
        sta     $400C                           ; D6B3 8D 0C 40
        inc     $06DF                           ; D6B6 EE DF 06
        rts                                     ; D6B9 60

; ----------------------------------------------------------------------------
RD6BA:  stx     $E0                             ; D6BA 86 E0
        ldy     #$D3                            ; D6BC A0 D3
        sty     $E1                             ; D6BE 84 E1
        ldx     $06DF                           ; D6C0 AE DF 06
        txa                                     ; D6C3 8A
        lsr     a                               ; D6C4 4A
        tay                                     ; D6C5 A8
        lda     ($E0),y                         ; D6C6 B1 E0
        sta     $E4                             ; D6C8 85 E4
        txa                                     ; D6CA 8A
        and     #$01                            ; D6CB 29 01
        beq     LD6D4                           ; D6CD F0 05
        lda     $E4                             ; D6CF A5 E4
        and     #$0F                            ; D6D1 29 0F
        rts                                     ; D6D3 60

; ----------------------------------------------------------------------------
LD6D4:  lda     $E4                             ; D6D4 A5 E4
        lsr     a                               ; D6D6 4A
        lsr     a                               ; D6D7 4A
        lsr     a                               ; D6D8 4A
        lsr     a                               ; D6D9 4A
        rts                                     ; D6DA 60

; ----------------------------------------------------------------------------
VD6DB:  ldy     #$78                            ; D6DB A0 78
        jsr     RD26E                           ; D6DD 20 6E D2
        lda     #$05                            ; D6E0 A9 05
        ldy     #$7C                            ; D6E2 A0 7C
        jmp     LD769                           ; D6E4 4C 69 D7

; ----------------------------------------------------------------------------
LD6E7:  jmp     LD78A                           ; D6E7 4C 8A D7

; ----------------------------------------------------------------------------
VD6EA:  jsr     RD2AC                           ; D6EA 20 AC D2
        bne     LD733                           ; D6ED D0 44
        ldy     $06E0                           ; D6EF AC E0 06
        inc     $06E0                           ; D6F2 EE E0 06
        lda     LD70C,y                         ; D6F5 B9 0C D7
        beq     LD6E7                           ; D6F8 F0 ED
        sta     $4002                           ; D6FA 8D 02 40
        lda     LD71A,y                         ; D6FD B9 1A D7
        sta     $4006                           ; D700 8D 06 40
        lda     #$08                            ; D703 A9 08
        sta     $4003                           ; D705 8D 03 40
        sta     $4007                           ; D708 8D 07 40
        rts                                     ; D70B 60
; ----------------------------------------------------------------------------
; lookup table
LD70C:  .byte $8D,$01,$7E,$8D,$01,$9F,$01,$A8
        .byte $01,$01,$01,$D4,$01,$00
; ----------------------------------------------------------------------------
; lookup table
LD71A:  .byte $8E,$01,$7F,$8E,$01,$A0,$01,$A9
        .byte $01,$01,$01,$D5,$01
; ----------------------------------------------------------------------------
VD727:  ldy     #$70                            ; D727 A0 70
        jsr     RD26E                           ; D729 20 6E D2
        lda     #$06                            ; D72C A9 06
        ldy     #$74                            ; D72E A0 74
        jmp     LD769                           ; D730 4C 69 D7

; ----------------------------------------------------------------------------
LD733:  rts                                     ; D733 60

; ----------------------------------------------------------------------------
VD734:  jsr     RD2AC                           ; D734 20 AC D2
        bne     LD733                           ; D737 D0 FA
        ldy     $06E0                           ; D739 AC E0 06
        inc     $06E0                           ; D73C EE E0 06
        lda     LD759,y                         ; D73F B9 59 D7
        beq     LD78A                           ; D742 F0 46
        sta     $4002                           ; D744 8D 02 40
        lda     LD761,y                         ; D747 B9 61 D7
LD74A:  sta     $4006                           ; D74A 8D 06 40
        lda     #$08                            ; D74D A9 08
        sta     $4003                           ; D74F 8D 03 40
        sta     $4007                           ; D752 8D 07 40
        rts                                     ; D755 60

; ----------------------------------------------------------------------------
; unreachable
        jmp     LD78A                           ; D756 4C 8A D7

; ----------------------------------------------------------------------------
; lookup table
LD759:  .byte $63,$96,$01,$4A,$01,$4A,$01,$00
; ----------------------------------------------------------------------------
; lookup table
LD761:  .byte $64,$97,$01,$76,$00,$76,$01,$00
; ----------------------------------------------------------------------------
LD769:  sta     $06D9                           ; D769 8D D9 06
        jsr     RD27A                           ; D76C 20 7A D2
        lda     $EF                             ; D76F A5 EF
        sta     $06FC                           ; D771 8D FC 06
        ldx     #$01                            ; D774 A2 01
        stx     $06C8                           ; D776 8E C8 06
        inx                                     ; D779 E8
        stx     $06C9                           ; D77A 8E C9 06
        lda     #$00                            ; D77D A9 00
        sta     $06DE                           ; D77F 8D DE 06
        sta     $06F9                           ; D782 8D F9 06
        ldx     #$01                            ; D785 A2 01
        jmp     LD563                           ; D787 4C 63 D5

; ----------------------------------------------------------------------------
LD78A:  jsr     RD8A8                           ; D78A 20 A8 D8
        jsr     RDA3A                           ; D78D 20 3A DA
        inc     $068A                           ; D790 EE 8A 06
        lda     #$00                            ; D793 A9 00
        sta     $06FC                           ; D795 8D FC 06
        ldx     #$01                            ; D798 A2 01
        lda     #$7F                            ; D79A A9 7F
        sta     $4000,x                         ; D79C 9D 00 40
        sta     $4004,x                         ; D79F 9D 04 40
        rts                                     ; D7A2 60

; ----------------------------------------------------------------------------
VD7A3:  ldy     #$28                            ; D7A3 A0 28
        jsr     RD26E                           ; D7A5 20 6E D2
        lda     #$08                            ; D7A8 A9 08
        ldy     #$2C                            ; D7AA A0 2C
        jmp     LD769                           ; D7AC 4C 69 D7

; ----------------------------------------------------------------------------
VD7AF:  jsr     RD7EB                           ; D7AF 20 EB D7
        jsr     RD2AC                           ; D7B2 20 AC D2
        bne     RD7EB                           ; D7B5 D0 34
        ldx     #$00                            ; D7B7 A2 00
        inc     $06E0                           ; D7B9 EE E0 06
        lda     $06E0                           ; D7BC AD E0 06
LD7BF:  cmp     #$12                            ; D7BF C9 12
        beq     LD7E0                           ; D7C1 F0 1D
        cmp     #$09                            ; D7C3 C9 09
        bcc     LD7E6                           ; D7C5 90 1F
        lda     #$B7                            ; D7C7 A9 B7
        jmp     LD7CC                           ; D7C9 4C CC D7

; ----------------------------------------------------------------------------
LD7CC:  pha                                     ; D7CC 48
        lda     $06E8                           ; D7CD AD E8 06
        bne     LD7DA                           ; D7D0 D0 08
        pla                                     ; D7D2 68
LD7D3:  sta     $4000,x                         ; D7D3 9D 00 40
        sta     $4004,x                         ; D7D6 9D 04 40
        rts                                     ; D7D9 60

; ----------------------------------------------------------------------------
LD7DA:  pla                                     ; D7DA 68
        lda     $06E8                           ; D7DB AD E8 06
        bne     LD7D3                           ; D7DE D0 F3
LD7E0:  lda     #$00                            ; D7E0 A9 00
        sta     $06E0                           ; D7E2 8D E0 06
        rts                                     ; D7E5 60

; ----------------------------------------------------------------------------
LD7E6:  ora     #$B0                            ; D7E6 09 B0
        jmp     LD7CC                           ; D7E8 4C CC D7

; ----------------------------------------------------------------------------
RD7EB:  inc     $06E4                           ; D7EB EE E4 06
        lda     $06E4                           ; D7EE AD E4 06
        and     #$0F                            ; D7F1 29 0F
        tay                                     ; D7F3 A8
        lda     LD809,y                         ; D7F4 B9 09 D8
        clc                                     ; D7F7 18
        adc     LD32A                           ; D7F8 6D 2A D3
        sta     $4002                           ; D7FB 8D 02 40
        lda     LD809,y                         ; D7FE B9 09 D8
        clc                                     ; D801 18
        adc     LD32E                           ; D802 6D 2E D3
        sta     $4006                           ; D805 8D 06 40
        rts                                     ; D808 60

; ----------------------------------------------------------------------------
; lookup table
LD809:  .byte $00,$00,$01,$02,$01,$01,$00,$00
        .byte $00,$FF,$FE,$FF,$FF,$00,$00,$00
; ----------------------------------------------------------------------------
RD819:  lda     $06F9                           ; D819 AD F9 06
        cmp     #$0A                            ; D81C C9 0A
        beq     LD83C                           ; D81E F0 1C
        cmp     #$0B                            ; D820 C9 0B
        beq     LD83C                           ; D822 F0 18
        rts                                     ; D824 60

; ----------------------------------------------------------------------------
RD825:  lda     $06F9                           ; D825 AD F9 06
        cmp     #$09                            ; D828 C9 09
        beq     LD83C                           ; D82A F0 10
        rts                                     ; D82C 60

; ----------------------------------------------------------------------------
RD82D:  lda     $06F9                           ; D82D AD F9 06
        cmp     #$02                            ; D830 C9 02
        beq     LD83C                           ; D832 F0 08
        cmp     #$04                            ; D834 C9 04
        beq     LD83C                           ; D836 F0 04
        cmp     #$06                            ; D838 C9 06
        beq     LD83C                           ; D83A F0 00
LD83C:  rts                                     ; D83C 60

; ----------------------------------------------------------------------------
VD83D:  lda     $06E4                           ; D83D AD E4 06
        beq     LD84F                           ; D840 F0 0D
        inc     $06E0                           ; D842 EE E0 06
        lda     $06E0                           ; D845 AD E0 06
        cmp     #$16                            ; D848 C9 16
        bne     LD8B8                           ; D84A D0 6C
        jmp     RD8A8                           ; D84C 4C A8 D8

; ----------------------------------------------------------------------------
LD84F:  lda     $06E0                           ; D84F AD E0 06
        and     #$03                            ; D852 29 03
        tay                                     ; D854 A8
        lda     LD38C,y                         ; D855 B9 8C D3
        sta     $4000                           ; D858 8D 00 40
        inc     $06E0                           ; D85B EE E0 06
        lda     $06E0                           ; D85E AD E0 06
        cmp     #$08                            ; D861 C9 08
        bne     LD8B8                           ; D863 D0 53
        inc     $06E4                           ; D865 EE E4 06
        ldy     #$68                            ; D868 A0 68
        jmp     RD26E                           ; D86A 4C 6E D2

; ----------------------------------------------------------------------------
VD86D:  jsr     RD825                           ; D86D 20 25 D8
        beq     LD8B8                           ; D870 F0 46
        ldy     #$64                            ; D872 A0 64
        jmp     RD52B                           ; D874 4C 2B D5

; ----------------------------------------------------------------------------
VD877:  jsr     RD819                           ; D877 20 19 D8
        beq     LD8B8                           ; D87A F0 3C
        jsr     RD82D                           ; D87C 20 2D D8
        beq     LD8B8                           ; D87F F0 37
        jsr     RD825                           ; D881 20 25 D8
        beq     LD8B8                           ; D884 F0 32
        lda     #$0F                            ; D886 A9 0F
        ldy     #$44                            ; D888 A0 44
        jmp     RD52B                           ; D88A 4C 2B D5

; ----------------------------------------------------------------------------
VD88D:  jsr     RD819                           ; D88D 20 19 D8
        beq     LD8B8                           ; D890 F0 26
        jsr     RD82D                           ; D892 20 2D D8
        beq     LD8B8                           ; D895 F0 21
        jsr     RD825                           ; D897 20 25 D8
        beq     LD8B8                           ; D89A F0 1C
        lda     #$02                            ; D89C A9 02
        ldy     #$6C                            ; D89E A0 6C
        jmp     RD52B                           ; D8A0 4C 2B D5

; ----------------------------------------------------------------------------
VD8A3:  jsr     RD2AC                           ; D8A3 20 AC D2
        bne     LD8B8                           ; D8A6 D0 10
RD8A8:  lda     #$10                            ; D8A8 A9 10
        sta     $4000                           ; D8AA 8D 00 40
        lda     #$00                            ; D8AD A9 00
        sta     $06C8                           ; D8AF 8D C8 06
        sta     $06F9                           ; D8B2 8D F9 06
        inc     $068A                           ; D8B5 EE 8A 06
LD8B8:  rts                                     ; D8B8 60

; ----------------------------------------------------------------------------
LD8B9:  rts                                     ; D8B9 60

; ----------------------------------------------------------------------------
VD8BA:  jsr     RD2AC                           ; D8BA 20 AC D2
        bne     LD8B9                           ; D8BD D0 FA
        inc     $06E0                           ; D8BF EE E0 06
        lda     $06E0                           ; D8C2 AD E0 06
        cmp     #$02                            ; D8C5 C9 02
        bne     LD8CC                           ; D8C7 D0 03
        jmp     RD8A8                           ; D8C9 4C A8 D8

; ----------------------------------------------------------------------------
LD8CC:  ldy     #$4C                            ; D8CC A0 4C
        jmp     RD26E                           ; D8CE 4C 6E D2

; ----------------------------------------------------------------------------
VD8D1:  jsr     RD819                           ; D8D1 20 19 D8
        beq     LD8E6                           ; D8D4 F0 10
        jsr     RD82D                           ; D8D6 20 2D D8
        beq     LD8E6                           ; D8D9 F0 0B
        jsr     RD825                           ; D8DB 20 25 D8
        beq     LD8E6                           ; D8DE F0 06
        lda     #$02                            ; D8E0 A9 02
        ldy     #$48                            ; D8E2 A0 48
        bne     RD937                           ; D8E4 D0 51
LD8E6:  rts                                     ; D8E6 60

; ----------------------------------------------------------------------------
VD8E7:  jsr     RD819                           ; D8E7 20 19 D8
        beq     LD8E6                           ; D8EA F0 FA
        jsr     RD82D                           ; D8EC 20 2D D8
        beq     LD8E6                           ; D8EF F0 F5
        jsr     RD825                           ; D8F1 20 25 D8
        beq     LD8E6                           ; D8F4 F0 F0
        lda     #$03                            ; D8F6 A9 03
        ldy     #$38                            ; D8F8 A0 38
        jsr     RD937                           ; D8FA 20 37 D9
VD8FD:  jsr     RD2AC                           ; D8FD 20 AC D2
        bne     LD8E6                           ; D900 D0 E4
        lda     $06E0                           ; D902 AD E0 06
        inc     $06E0                           ; D905 EE E0 06
        beq     LD91E                           ; D908 F0 14
        cmp     #$01                            ; D90A C9 01
        beq     LD919                           ; D90C F0 0B
        cmp     #$02                            ; D90E C9 02
        beq     LD91E                           ; D910 F0 0C
        cmp     #$03                            ; D912 C9 03
        bne     LD8E6                           ; D914 D0 D0
        jmp     RD8A8                           ; D916 4C A8 D8

; ----------------------------------------------------------------------------
LD919:  ldy     #$38                            ; D919 A0 38
        jmp     RD26E                           ; D91B 4C 6E D2

; ----------------------------------------------------------------------------
LD91E:  ldy     #$3C                            ; D91E A0 3C
        jmp     RD26E                           ; D920 4C 6E D2

; ----------------------------------------------------------------------------
VD923:  lda     #$03                            ; D923 A9 03
        ldy     #$58                            ; D925 A0 58
        jsr     RD937                           ; D927 20 37 D9
        lda     #$18                            ; D92A A9 18
        bne     LD96C                           ; D92C D0 3E
VD92E:  jsr     RD2AC                           ; D92E 20 AC D2
        bne     LD96F                           ; D931 D0 3C
        ldy     #$58                            ; D933 A0 58
        bne     LD977                           ; D935 D0 40
RD937:  jmp     RD52B                           ; D937 4C 2B D5

; ----------------------------------------------------------------------------
LD93A:  rts                                     ; D93A 60

; ----------------------------------------------------------------------------
VD93B:  jsr     RD819                           ; D93B 20 19 D8
        beq     LD93A                           ; D93E F0 FA
        jsr     RD825                           ; D940 20 25 D8
        beq     LD93A                           ; D943 F0 F5
        lda     #$02                            ; D945 A9 02
        ldy     #$5C                            ; D947 A0 5C
        jsr     RD937                           ; D949 20 37 D9
        lda     #$0C                            ; D94C A9 0C
        bne     LD96C                           ; D94E D0 1C
VD950:  jsr     RD2AC                           ; D950 20 AC D2
        bne     LD96F                           ; D953 D0 1A
        ldy     #$5C                            ; D955 A0 5C
        bne     LD977                           ; D957 D0 1E
VD959:  jsr     RD819                           ; D959 20 19 D8
        beq     LD96F                           ; D95C F0 11
        jsr     RD825                           ; D95E 20 25 D8
        beq     LD96F                           ; D961 F0 0C
        lda     #$02                            ; D963 A9 02
        ldy     #$60                            ; D965 A0 60
        jsr     RD937                           ; D967 20 37 D9
LD96A:  lda     #$00                            ; D96A A9 00
LD96C:  sta     $06E4                           ; D96C 8D E4 06
LD96F:  rts                                     ; D96F 60

; ----------------------------------------------------------------------------
VD970:  jsr     RD2AC                           ; D970 20 AC D2
        bne     LD96F                           ; D973 D0 FA
        ldy     #$60                            ; D975 A0 60
LD977:  jsr     RD26E                           ; D977 20 6E D2
        clc                                     ; D97A 18
        lda     $06E4                           ; D97B AD E4 06
        adc     $06E0                           ; D97E 6D E0 06
        tay                                     ; D981 A8
        lda     LD9E4,y                         ; D982 B9 E4 D9
        sta     $4002                           ; D985 8D 02 40
        ldy     $06E0                           ; D988 AC E0 06
        lda     LD9D7,y                         ; D98B B9 D7 D9
        sta     $4000                           ; D98E 8D 00 40
        bne     LD996                           ; D991 D0 03
        jmp     RD8A8                           ; D993 4C A8 D8

; ----------------------------------------------------------------------------
LD996:  inc     $06E0                           ; D996 EE E0 06
LD999:  rts                                     ; D999 60

; ----------------------------------------------------------------------------
VD99A:  lda     #$12                            ; D99A A9 12
        ldy     #$54                            ; D99C A0 54
        jmp     RD52B                           ; D99E 4C 2B D5

; ----------------------------------------------------------------------------
VD9A1:  jsr     RD2AC                           ; D9A1 20 AC D2
        bne     LD999                           ; D9A4 D0 F3
        inc     $06E0                           ; D9A6 EE E0 06
        lda     $06E0                           ; D9A9 AD E0 06
        cmp     #$03                            ; D9AC C9 03
        bne     LD9B3                           ; D9AE D0 03
        jmp     RD8A8                           ; D9B0 4C A8 D8

; ----------------------------------------------------------------------------
LD9B3:  ldy     #$54                            ; D9B3 A0 54
        jmp     RD26E                           ; D9B5 4C 6E D2

; ----------------------------------------------------------------------------
VD9B8:  lda     #$07                            ; D9B8 A9 07
        ldy     #$50                            ; D9BA A0 50
        jmp     RD52B                           ; D9BC 4C 2B D5

; ----------------------------------------------------------------------------
VD9BF:  jsr     RD2AC                           ; D9BF 20 AC D2
        bne     LD999                           ; D9C2 D0 D5
        inc     $06E0                           ; D9C4 EE E0 06
        lda     $06E0                           ; D9C7 AD E0 06
        cmp     #$05                            ; D9CA C9 05
        bne     LD9D1                           ; D9CC D0 03
        jmp     RD8A8                           ; D9CE 4C A8 D8

; ----------------------------------------------------------------------------
LD9D1:  ldy     #$50                            ; D9D1 A0 50
        jmp     RD26E                           ; D9D3 4C 6E D2

; ----------------------------------------------------------------------------
LD9D6:  rts                                     ; D9D6 60

; ----------------------------------------------------------------------------
; lookup table
LD9D7:  .byte $BD,$BB,$BA,$B9,$B8,$B7,$B6,$B4
        .byte $B3,$B2,$B2,$B1,$00
; ----------------------------------------------------------------------------
; lookup table
LD9E4:  .byte $F0,$60,$E0,$70,$D0,$80,$C0,$90
        .byte $F0,$60,$E0,$70,$60,$80,$60,$80
        .byte $60,$80,$60,$80,$60,$80,$60,$80
        .byte $E0,$D0,$C0,$B0,$A0,$90,$80,$70
        .byte $60,$50,$50,$40

; ----------------------------------------------------------------------------
VDA08:  jsr     RD2AC                           ; DA08 20 AC D2
        bne     LD9D6                           ; DA0B D0 C9
        ldy     $06E0                           ; DA0D AC E0 06
        inc     $06E0                           ; DA10 EE E0 06
        lda     LDA35,y                         ; DA13 B9 35 DA
        beq     LDA21                           ; DA16 F0 09
        sta     $4002                           ; DA18 8D 02 40
        lda     #$28                            ; DA1B A9 28
        sta     $4003                           ; DA1D 8D 03 40
        rts                                     ; DA20 60

; ----------------------------------------------------------------------------
LDA21:  jmp     RD8A8                           ; DA21 4C A8 D8

; ----------------------------------------------------------------------------
VDA24:  jsr     RD819                           ; DA24 20 19 D8
        beq     LD9D6                           ; DA27 F0 AD
        jsr     RD825                           ; DA29 20 25 D8
        beq     LD9D6                           ; DA2C F0 A8
        lda     #$05                            ; DA2E A9 05
        ldy     #$40                            ; DA30 A0 40
        jmp     RD52B                           ; DA32 4C 2B D5

; ----------------------------------------------------------------------------
LDA35:  tay                                     ; DA35 A8
        sta     LD4A8                           ; DA36 8D A8 D4
        brk                                     ; DA39 00
; ----------------------------------------------------------------------------
; called from one place
RDA3A:  lda     #$10                            ; DA3A A9 10
        sta     $4004                           ; DA3C 8D 04 40
        lda     #$00                            ; DA3F A9 00
        sta     $06C9                           ; DA41 8D C9 06
        sta     $06FA                           ; DA44 8D FA 06
        rts                                     ; DA47 60
; ----------------------------------------------------------------------------
VDA48:  lda     #$3F                            ; DA48 A9 3F
        ldy     #$60                            ; DA4A A0 60
        ldx     #$0F                            ; DA4C A2 0F
LDA4E:  bne     LDA58                           ; DA4E D0 08
VDA50:  lda     #$3F                            ; DA50 A9 3F
        ldy     #$60                            ; DA52 A0 60
        ldx     #$0E                            ; DA54 A2 0E
        bne     LDA58                           ; DA56 D0 00
LDA58:  sta     $4013                           ; DA58 8D 13 40
        sty     $4012                           ; DA5B 8C 12 40
        stx     $4010                           ; DA5E 8E 10 40
        lda     #$0F                            ; DA61 A9 0F
        sta     $4015                           ; DA63 8D
        lda     #$00                            ; DA66 A9 00
        sta     $4011                           ; DA68 8D 11 40
        lda     #$1F                            ; DA6B A9 1F
        sta     $4015                           ; DA6D 8D 15 40
        rts                                     ; DA70 60

; ----------------------------------------------------------------------------
VDA71:  lda     #$03                            ; DA71 A9 03
        ldy     #$88                            ; DA73 A0 88
        jmp     RD52B                           ; DA75 4C 2B D5

; ----------------------------------------------------------------------------
VDA78:  jsr     RD2AC                           ; DA78 20 AC D2
        bne     LDA8D                           ; DA7B D0 10
RDA7D:  lda     #$00                            ; DA7D A9 00
        sta     $4008                           ; DA7F 8D 08 40
        sta     $06CA                           ; DA82 8D CA 06
        sta     $06FB                           ; DA85 8D FB 06
        lda     #$18                            ; DA88 A9 18
        sta     $400B                           ; DA8A 8D 0B 40
LDA8D:  rts                                     ; DA8D 60

; ----------------------------------------------------------------------------
VDA8E:  jsr     RD2AC                           ; DA8E 20 AC D2
        beq     LDAA3                           ; DA91 F0 10
        sta     $400A                           ; DA93 8D 0A 40
        lda     $06E6                           ; DA96 AD E6 06
        adc     $06E1                           ; DA99 6D E1 06
        sta     $06E6                           ; DA9C 8D E6 06
        sta     $400A                           ; DA9F 8D 0A 40
        rts                                     ; DAA2 60

; ----------------------------------------------------------------------------
LDAA3:  lda     $06E2                           ; DAA3 AD E2 06
        sta     $06E6                           ; DAA6 8D E6 06
        ldy     $06EA                           ; DAA9 AC EA 06
        jsr     RD272                           ; DAAC 20 72 D2
        rts                                     ; DAAF 60

; ----------------------------------------------------------------------------
VDAB0:  lda     #$1B                            ; DAB0 A9 1B
        ldy     #$84                            ; DAB2 A0 84
        jsr     RD52B                           ; DAB4 20 2B D5
        lda     LD386                           ; DAB7 AD 86 D3
        sta     $06E6                           ; DABA 8D E6 06
        sta     $06E2                           ; DABD 8D E2 06
        lda     #$84                            ; DAC0 A9 84
        sta     $06EA                           ; DAC2 8D EA 06
        lda     #$FC                            ; DAC5 A9 FC
        sta     $06E1                           ; DAC7 8D E1 06
        rts                                     ; DACA 60

; ----------------------------------------------------------------------------
VDACB:  lda     #$1B                            ; DACB A9 1B
        bne     LDAD1                           ; DACD D0 02
VDACF:  lda     #$23                            ; DACF A9 23
LDAD1:  ldy     #$80                            ; DAD1 A0 80
        jsr     RD52B                           ; DAD3 20 2B D5
        lda     LD382                           ; DAD6 AD 82 D3
        sta     $06E6                           ; DAD9 8D E6 06
        sta     $06E2                           ; DADC 8D E2 06
        lda     #$80                            ; DADF A9 80
        sta     $06EA                           ; DAE1 8D EA 06
        lda     #$05                            ; DAE4 A9 05
        sta     $06E1                           ; DAE6 8D E1 06
        rts                                     ; DAE9 60

; ----------------------------------------------------------------------------
LDAEA:  jmp     RD4E5                           ; DAEA 4C E5 D4

LDAED:  pha                                     ; DAED 48
        lda     $06FD                           ; DAEE AD FD 06
        cmp     #$06                            ; DAF1 C9 06
        bne     LDAF7                           ; DAF3 D0 02
        pla                                     ; DAF5 68
        rts                                     ; DAF6 60

LDAF7:  pla                                     ; DAF7 68
        jmp     LDB0B                           ; DAF8 4C 0B DB

; called from one place
RDAFB:
        lda     $06F5                           ; DAFB AD F5 06
        tay                                     ; DAFE A8
        cmp     #$FF                            ; DAFF C9 FF
        beq     LDAEA                           ; DB01 F0 E7
        cmp     #$00                            ; DB03 C9 00
        beq     LDB27                           ; DB05 F0 20
        cmp     #$06                            ; DB07 C9 06
        beq     LDAED                           ; DB09 F0 E2
LDB0B:  sta     $EF                             ; DB0B 85 EF
        sta     $06CC                           ; DB0D 8D CC 06
        dec     $06CC                           ; DB10 CE CC 06
        lda     LDB2D,y                         ; DB13 B9 2D DB
        sta     $067E                           ; DB16 8D 7E 06
        lda     #$7F                            ; DB19 A9 7F
        sta     $06C0                           ; DB1B 8D C0 06
        sta     $06C1                           ; DB1E 8D C1 06
        jsr     RDC83                           ; DB21 20 83 DC
LDB24:  jmp     LDDEF                           ; DB24 4C EF DD

LDB27:  lda     $06FD                           ; DB27 AD FD 06
        bne     LDB24                           ; DB2A D0 F8
        rts                                     ; DB2C 60

; ----------------------------------------------------------------------------
; lookup table
LDB2D:  .byte $00,$00,$0D,$0A,$0B,$04,$0B,$00
        .byte $00,$00,$00,$00,$00
; ----------------------------------------------------------------------------
; interleaved lookup table with 3-byte entries
LDB3A:  .byte $00                               ; DB3A 00
LDB3B:  .byte $10                               ; DB3B 10
LDB3C:  .byte $01                               ; DB3C 01
        .byte $18,$00,$01
        .byte $38,$00,$03
        .byte $40,$00,$06
        .byte $58,$00,$0A
        .byte $38,$02,$04
        .byte $40,$13,$05
        .byte $40,$14,$0A
        .byte $40,$14,$08
        .byte $40,$12,$0E
        .byte $08,$16,$0E
        .byte $28,$16,$0B
        .byte $18

; ----------------------------------------------------------------------------
; input in X
; called from one place
RDB5F:
.scope
        txa                                     ; DB5F 8A
        cmp #$03                                ; DB60 C9 03
        if_ne                                   ; DB62 F0 1D
            lda $069A,x                         ; DB64 BD 9A 06
            and #$E0                            ; DB67 29 E0
            if_ne                               ; DB69 F0 16
                sta $E0                         ; DB6B 85 E0
                lda $06C3,x                     ; DB6D BD C3 06
                cmp #$02                        ; DB70 C9 02
                if_ne                           ; DB72 F0 0A
                    ldy $EE                     ; DB74 A4 EE
                    lda $0680,y                 ; DB76 B9 80 06
                    sta $E1                     ; DB79 85 E1
                    jsr RDBBF                   ; DB7B 20 BF DB
                end_if
                inc $06D1,x                     ; DB7E FE D1 06
            end_if
        end_if
        rts                                     ; DB81 60
.endscope

; ----------------------------------------------------------------------------
LDB82:
.scope
        lda     $E2                             ; DB82 A5 E2
        cmp     #$31                            ; DB84 C9 31
        if_eq                                   ; DB86 D0 02
            lda #$27                            ; DB88 A9 27
        end_if
        tay                                     ; DB8A A8
        lda     LDC11,y                         ; DB8B B9 11 DC
        pha                                     ; DB8E 48
        lda     $06C3,x                         ; DB8F BD C3 06
        cmp     #$46                            ; DB92 C9 46
        bne     LDB9B                           ; DB94 D0 05
        pla                                     ; DB96 68
        lda     #$00                            ; DB97 A9 00
        beq     LDBF9                           ; DB99 F0 5E
LDB9B:  pla                                     ; DB9B 68
        jmp     LDBF9                           ; DB9C 4C F9 DB
.endscope

LDB9F:  lda     $E2                             ; DB9F A5 E2
        tay                                     ; DBA1 A8
        cmp     #$10                            ; DBA2 C9 10
        bcs     LDBAC                           ; DBA4 B0 06
        lda     LDC6C,y                         ; DBA6 B9 6C DC
        jmp     LDBFF                           ; DBA9 4C FF DB

LDBAC:  lda     #$F6                            ; DBAC A9 F6
        bne     LDBFF                           ; DBAE D0 4F
LDBB0:  lda     $06C3,x                         ; DBB0 BD C3 06
        cmp     #$4C                            ; DBB3 C9 4C
        bcc     LDBBB                           ; DBB5 90 04
        lda     #$FE                            ; DBB7 A9 FE
        bne     LDBFF                           ; DBB9 D0 44
; input in X
LDBBB:  lda     #$FE                            ; DBBB A9 FE
        bne     LDBFF                           ; DBBD D0 40
RDBBF:  lda     $06D1,x                         ; DBBF BD D1 06 ; called from one place
        sta     $E2                             ; DBC2 85 E2
        lda     $E0                             ; DBC4 A5 E0
        cmp     #$20                            ; DBC6 C9 20
        beq     LDBDE                           ; DBC8 F0 14
        cmp     #$A0                            ; DBCA C9 A0
        beq     LDBED                           ; DBCC F0 1F
        cmp     #$60                            ; DBCE C9 60
        beq     LDBB0                           ; DBD0 F0 DE
        cmp     #$40                            ; DBD2 C9 40
        beq     LDB9F                           ; DBD4 F0 C9
        cmp     #$80                            ; DBD6 C9 80
        beq     LDB82                           ; DBD8 F0 A8
        cmp     #$C0                            ; DBDA C9 C0
        beq     LDB82                           ; DBDC F0 A4
LDBDE:  lda     $E2                             ; DBDE A5 E2
        cmp     #$0A                            ; DBE0 C9 0A
        if_eq                                   ; DBE2 D0 02
            lda #$00                            ; DBE4 A9 00
        end_if
        tay                                     ; DBE6 A8
        lda     LDC62,y                         ; DBE7 B9 62 DC
        jmp     LDBF9                           ; DBEA 4C F9 DB

LDBED:  lda     $E2                             ; DBED A5 E2
        cmp     #$2B                            ; DBEF C9 2B
        if_eq
                lda #$21                        ; DBF3 A9 21
        end_if
        tay                                     ; DBF5 A8
        lda     LDC41,y                         ; DBF6 B9 41 DC
LDBF9:  pha                                     ; DBF9 48
        tya                                     ; DBFA 98
        sta     $06D1,x                         ; DBFB 9D D1 06
        pla                                     ; DBFE 68
LDBFF:  pha                                     ; DBFF 48
        lda     $06C8,x                         ; DC00 BD C8 06
        bne     LDC0F                           ; DC03 D0 0A
        pla                                     ; DC05 68
        clc                                     ; DC06 18
        adc     $E1                             ; DC07 65 E1
        ldy     $EE                             ; DC09 A4 EE
        sta     $4002,y                         ; DC0B 99 02 40
        rts                                     ; DC0E 60

; ----------------------------------------------------------------------------
LDC0F:  pla                                     ; DC0F 68
        rts                                     ; DC10 60

; ----------------------------------------------------------------------------
; lookup table
LDC11:  .byte $00,$00,$01,$01,$02,$02,$03,$03
        .byte $04,$04,$05,$05,$06,$06,$07,$07
        .byte $08,$08,$09,$09,$0A,$0A,$0B,$0B
        .byte $0C,$0C,$0D,$0D,$0E,$0E,$0F,$0F
        .byte $10,$10,$11,$11,$12,$12,$13,$13
        .byte $14,$14,$15,$15,$16,$16,$17,$17
; ----------------------------------------------------------------------------
; lookup table
LDC41:  .byte $00,$00,$00,$00,$00,$00,$00,$00   ; DC41 00 00 00 00 00 00 00 00
        .byte $00,$00,$00,$00,$00,$00,$00,$01   ; DC49 00 00 00 00 00 00 00 01
        .byte $00,$00,$00,$00,$FF,$00,$00,$00   ; DC51 00 00 00 00 FF 00 00 00
        .byte $00,$01,$01,$00,$00,$00,$FF,$FF   ; DC59 00 01 01 00 00 00 FF FF
        .byte $00                               ; DC61 00
; ----------------------------------------------------------------------------
; lookup table
LDC62:  .byte $00,$01,$01,$02,$01,$00,$FF,$FF,$FE,$FF
; ----------------------------------------------------------------------------
; lookup table
LDC6C:  .byte $00,$FF,$FE,$FD,$FC,$FB,$FA,$F9
        .byte $F8,$F7,$F6,$F5,$F6,$F7,$F6,$F5
; ----------------------------------------------------------------------------
LDC7C:  lda     #$FF                            ; DC7C A9 FF
        sta     $06A0,x                         ; DC7E 9D A0 06
        bne     LDCD9                           ; DC81 D0 56
RDC83:  jsr     RD4E8                           ; DC83 20 E8 D4  ; called from one place
        lda     $EF                             ; DC86 A5 EF
        sta     $06FD                           ; DC88 8D FD 06
        lda     $06CC                           ; DC8B AD CC 06
        tay                                     ; DC8E A8
        lda     LE261,y                         ; DC8F B9 61 E2
        tay                                     ; DC92 A8
        ldx     #$00                            ; DC93 A2 00
LDC95:  lda     LE26E,y                         ; DC95 B9 6E E2
        sta     $0690,x                         ; DC98 9D 90 06
        iny                                     ; DC9B C8
        inx                                     ; DC9C E8
        txa                                     ; DC9D 8A
        cmp     #$0A                            ; DC9E C9 0A
        bne     LDC95                           ; DCA0 D0 F3
        lda     #$01                            ; DCA2 A9 01
        sta     $06B4                           ; DCA4 8D B4 06
        sta     $06B5                           ; DCA7 8D B5 06
        sta     $06B6                           ; DCAA 8D B6 06
        sta     $06B7                           ; DCAD 8D B7 06
        lda     #$00                            ; DCB0 A9 00
        sta     $067F                           ; DCB2 8D 7F 06
        sta     $EA                             ; DCB5 85 EA
        ldy     #$08                            ; DCB7 A0 08
LDCB9:  sta     $06A7,y                         ; DCB9 99 A7 06
        dey                                     ; DCBC 88
        bne     LDCB9                           ; DCBD D0 FA
        tax                                     ; DCBF AA
LDCC0:  lda     $0692,x                         ; DCC0 BD 92 06
        sta     $E6                             ; DCC3 85 E6
        lda     $0693,x                         ; DCC5 BD 93 06
        cmp     #$FF                            ; DCC8 C9 FF
        beq     LDC7C                           ; DCCA F0 B0
        sta     $E7                             ; DCCC 85 E7
        ldy     $06A8                           ; DCCE AC A8 06
        lda     ($E6),y                         ; DCD1 B1 E6
        sta     $06A0,x                         ; DCD3 9D A0 06
        iny                                     ; DCD6 C8
        lda     ($E6),y                         ; DCD7 B1 E6
LDCD9:  sta     $06A1,x                         ; DCD9 9D A1 06
        inx                                     ; DCDC E8
        inx                                     ; DCDD E8
        txa                                     ; DCDE 8A
        cmp     #$08                            ; DCDF C9 08
        bne     LDCC0                           ; DCE1 D0 DD
        rts                                     ; DCE3 60

; ----------------------------------------------------------------------------
; called from one place
RDCE4:
        lda     $068A                           ; DCE4 AD 8A 06
        beq     LDD14                           ; DCE7 F0 2B
        cmp     #$01                            ; DCE9 C9 01
        if_ne
            lda #$7F                            ; DCED A9 7F
            sta $4005                           ; DCEF 8D 05 40
            lda $0684                           ; DCF2 AD 84 06
            sta $4006                           ; DCF5 8D 06 40
            lda $0685                           ; DCF8 AD 85 06
            sta $4007                           ; DCFB 8D 07 40
        end_if
        lda     #$7F                            ; DCFE A9 7F
        sta     $4001                           ; DD00 8D 01 40
        lda     $0680                           ; DD03 AD 80 06
        sta     $4002                           ; DD06 8D 02 40
        lda     $0681                           ; DD09 AD 81 06
        sta     $4003                           ; DD0C 8D 03 40
        lda     #$00                            ; DD0F A9 00
        sta     $068A                           ; DD11 8D 8A 06
LDD14:  rts                                     ; DD14 60

; ----------------------------------------------------------------------------
; called from one place
RDD15:  txa                                     ; DD15 8A
        cmp     #$02                            ; DD16 C9 02
        bcs     LDD14                           ; DD18 B0 FA
        lda     $069A,x                         ; DD1A BD 9A 06
        and     #$1F                            ; DD1D 29 1F
        beq     LDD7A                           ; DD1F F0 59
        sta     $E1                             ; DD21 85 E1
        lda     $06C3,x                         ; DD23 BD C3 06
        cmp     #$02                            ; DD26 C9 02
        beq     LDD84                           ; DD28 F0 5A
        ldy     #$00                            ; DD2A A0 00
        loop
            dec $E1                             ; DD2C C6 E1
            beq LDD34                           ; DD2E F0 04
            iny                                 ; DD30 C8
            iny                                 ; DD31 C8
        while_ne                                ; DD32 D0 F8
LDD34:  lda     LE018,y                         ; DD34 B9 18 E0
        sta     $E2                             ; DD37 85 E2
        lda     LE018+1,y                         ; DD39 B9 19 E0
        sta     $E3                             ; DD3C 85 E3
        lda     $06CD,x                         ; DD3E BD CD 06
        lsr     a                               ; DD41 4A
        tay                                     ; DD42 A8
        lda     ($E2),y                         ; DD43 B1 E2
        sta     $E4                             ; DD45 85 E4
        cmp     #$FF                            ; DD47 C9 FF
        beq     LDD7B                           ; DD49 F0 30
        cmp     #$F0                            ; DD4B C9 F0
        beq     LDD80                           ; DD4D F0 31
        lda     $06CD,x                         ; DD4F BD CD 06
        and     #$01                            ; DD52 29 01
        if_eq                                   ; DD54 D0 08
            lsr $E4                             ; DD56 46 E4
            lsr $E4                             ; DD58 46 E4
            lsr $E4                             ; DD5A 46 E4
            lsr $E4                             ; DD5C 46 E4
        end_if
        lda     $E4                             ; DD5E A5 E4
        and     #$0F                            ; DD60 29 0F
        sta     $E0                             ; DD62 85 E0
        lda     $069D,x                         ; DD64 BD 9D 06
        and     #$F0                            ; DD67 29 F0
        ora     $E0                             ; DD69 05 E0
        tay                                     ; DD6B A8
LDD6C:  inc     $06CD,x                         ; DD6C FE CD 06
LDD6F:  lda     $06C8,x                         ; DD6F BD C8 06
        if_eq                                   ; DD72 D0 06
            tya                                 ; DD74 98
            ldy $EE                             ; DD75 A4 EE
            sta $4000,y                         ; DD77 99 00 40
        end_if
LDD7A:  rts                                     ; DD7A 60

; ----------------------------------------------------------------------------
LDD7B:  ldy     $069D,x                         ; DD7B BC 9D 06
        bne     LDD6F                           ; DD7E D0 EF
LDD80:  ldy     #$10                            ; DD80 A0 10
        bne     LDD6F                           ; DD82 D0 EB
LDD84:  ldy     #$10                            ; DD84 A0 10
        bne     LDD6C                           ; DD86 D0 E4
LDD88:  iny                                     ; DD88 C8
        lda     ($E6),y                         ; DD89 B1 E6
        sta     $0692,x                         ; DD8B 9D 92 06
        iny                                     ; DD8E C8
        lda     ($E6),y                         ; DD8F B1 E6
        sta     $0693,x                         ; DD91 9D 93 06
        lda     $0692,x                         ; DD94 BD 92 06
        sta     $E6                             ; DD97 85 E6
        lda     $0693,x                         ; DD99 BD 93 06
        sta     $E7                             ; DD9C 85 E7
        txa                                     ; DD9E 8A
        lsr     a                               ; DD9F 4A
        tax                                     ; DDA0 AA
        lda     #$00                            ; DDA1 A9 00
        tay                                     ; DDA3 A8
        sta     $06A8,x                         ; DDA4 9D A8 06
        jmp     LDDC7                           ; DDA7 4C C7 DD

; ----------------------------------------------------------------------------
LDDAA:  jsr     RD4E5                           ; DDAA 20 E5 D4
LDDAD:  rts                                     ; DDAD 60

; ----------------------------------------------------------------------------
LDDAE:  txa                                     ; DDAE 8A
        asl     a                               ; DDAF 0A
        tax                                     ; DDB0 AA
        lda     $0692,x                         ; DDB1 BD 92 06
        sta     $E6                             ; DDB4 85 E6
        lda     $0693,x                         ; DDB6 BD 93 06
        sta     $E7                             ; DDB9 85 E7
        txa                                     ; DDBB 8A
        lsr     a                               ; DDBC 4A
        tax                                     ; DDBD AA
        inc     $06A8,x                         ; DDBE FE A8 06
        inc     $06A8,x                         ; DDC1 FE A8 06
        ldy     $06A8,x                         ; DDC4 BC A8 06
LDDC7:  txa                                     ; DDC7 8A
        asl     a                               ; DDC8 0A
        tax                                     ; DDC9 AA
        lda     ($E6),y                         ; DDCA B1 E6
        sta     $06A0,x                         ; DDCC 9D A0 06
        iny                                     ; DDCF C8
        lda     ($E6),y                         ; DDD0 B1 E6
        sta     $06A1,x                         ; DDD2 9D A1 06
        cmp     #$00                            ; DDD5 C9 00
        beq     LDDAA                           ; DDD7 F0 D1
        cmp     #$FF                            ; DDD9 C9 FF
        beq     LDD88                           ; DDDB F0 AB
        txa                                     ; DDDD 8A
        lsr     a                               ; DDDE 4A
        tax                                     ; DDDF AA
        lda     #$00                            ; DDE0 A9 00
        sta     $06AC,x                         ; DDE2 9D AC 06
        lda     #$01                            ; DDE5 A9 01
        sta     $06B4,x                         ; DDE7 9D B4 06
        bne     LDE0C                           ; DDEA D0 20
LDDEC:  jmp     LDDAE                           ; DDEC 4C AE DD

LDDEF:  inc     $067F                           ; DDEF EE 7F 06
        jsr     RDCE4                           ; DDF2 20 E4 DC
        lda     #$00                            ; DDF5 A9 00
        tax                                     ; DDF7 AA
        sta     $EE                             ; DDF8 85 EE
        beq     LDE0C                           ; DDFA F0 10   ;always taken
LDDFC:  txa                                     ; DDFC 8A
        lsr     a                               ; DDFD 4A
        tax                                     ; DDFE AA
LDDFF:  inx                                     ; DDFF E8
        txa                                     ; DE00 8A
        cmp     #$04                            ; DE01 C9 04
        beq     LDDAD                           ; DE03 F0 A8
        lda     $EE                             ; DE05 A5 EE
        clc                                     ; DE07 18
        adc     #$04                            ; DE08 69 04
        sta     $EE                             ; DE0A 85 EE
LDE0C:  txa                                     ; DE0C 8A
        asl     a                               ; DE0D 0A
        tax                                     ; DE0E AA
        lda     $06A0,x                         ; DE0F BD A0 06
        sta     $E6                             ; DE12 85 E6
        lda     $06A1,x                         ; DE14 BD A1 06
        sta     $E7                             ; DE17 85 E7
        lda     $06A1,x                         ; DE19 BD A1 06
        cmp     #$FF                            ; DE1C C9 FF
        beq     LDDFC                           ; DE1E F0 DC
        txa                                     ; DE20 8A
        lsr     a                               ; DE21 4A
        tax                                     ; DE22 AA
        dec     $06B4,x                         ; DE23 DE B4 06
        bne     LDE71                           ; DE26 D0 49
        lda     #$00                            ; DE28 A9 00
        sta     $06CD,x                         ; DE2A 9D CD 06
        sta     $06D1,x                         ; DE2D 9D D1 06
LDE30:  jsr     RE00F                           ; DE30 20 0F E0
        beq     LDDEC                           ; DE33 F0 B7
        cmp     #$9F                            ; DE35 C9 9F
        beq     LDE80                           ; DE37 F0 47
        cmp     #$9E                            ; DE39 C9 9E
        beq     LDE98                           ; DE3B F0 5B
        cmp     #$9C                            ; DE3D C9 9C
        beq     LDEA1                           ; DE3F F0 60
        tay                                     ; DE41 A8
        cmp     #$FF                            ; DE42 C9 FF
        beq     LDE4F                           ; DE44 F0 09
        and     #$C0                            ; DE46 29 C0
        cmp     #$C0                            ; DE48 C9 C0
        beq     LDE5F                           ; DE4A F0 13
        jmp     LDEAA                           ; DE4C 4C AA DE

LDE4F:  lda     $06BC,x                         ; DE4F BD BC 06
        beq     LDE6E                           ; DE52 F0 1A
        dec     $06BC,x                         ; DE54 DE BC 06
        lda     $06B0,x                         ; DE57 BD B0 06
        sta     $06AC,x                         ; DE5A 9D AC 06
        bne     LDE6E                           ; DE5D D0 0F
LDE5F:  tya                                     ; DE5F 98
        and     #$3F                            ; DE60 29 3F
        sta     $06BC,x                         ; DE62 9D BC 06
        dec     $06BC,x                         ; DE65 DE BC 06
        lda     $06AC,x                         ; DE68 BD AC 06
        sta     $06B0,x                         ; DE6B 9D B0 06
LDE6E:  jmp     LDE30                           ; DE6E 4C 30 DE

LDE71:  jsr     RDD15                           ; DE71 20 15 DD
        jsr     RDB5F                           ; DE74 20 5F DB
        jmp     LDDFF                           ; DE77 4C FF DD

LDE7A:  jmp     LDF8E                           ; DE7A 4C 8E DF

LDE7D:  jmp     LDF64                           ; DE7D 4C 64 DF

LDE80:  jsr     RE00F                           ; DE80 20 0F E0
        sta     $069A,x                         ; DE83 9D 9A 06
        jsr     RE00F                           ; DE86 20 0F E0
        sta     $069D,x                         ; DE89 9D 9D 06
        jmp     LDE30                           ; DE8C 4C 30 DE

        jsr     RE00F                           ; DE8F 20 0F E0
        jsr     RE00F                           ; DE92 20 0F E0
        jmp     LDE30                           ; DE95 4C 30 DE

LDE98:  jsr     RE00F                           ; DE98 20 0F E0
        sta     $0691                           ; DE9B 8D 91 06
        jmp     LDE30                           ; DE9E 4C 30 DE

LDEA1:  jsr     RE00F                           ; DEA1 20 0F E0
        sta     $0690                           ; DEA4 8D 90 06
        jmp     LDE30                           ; DEA7 4C 30 DE

LDEAA:  tya                                     ; DEAA 98
        and     #$B0                            ; DEAB 29 B0
        cmp     #$B0                            ; DEAD C9 B0
        bne     LDEC9                           ; DEAF D0 18
        tya                                     ; DEB1 98
        and     #$0F                            ; DEB2 29 0F
        clc                                     ; DEB4 18
        adc     $0691                           ; DEB5 6D 91 06
        tay                                     ; DEB8 A8
        lda     LE204,y                         ; DEB9 B9 04 E2
        sta     $06B8,x                         ; DEBC 9D B8 06
        tay                                     ; DEBF A8
        txa                                     ; DEC0 8A
        cmp     #$02                            ; DEC1 C9 02
        beq     LDE7D                           ; DEC3 F0 B8
LDEC5:  jsr     RE00F                           ; DEC5 20 0F E0
        tay                                     ; DEC8 A8
LDEC9:  tya                                     ; DEC9 98
        sta     $06C3,x                         ; DECA 9D C3 06
        txa                                     ; DECD 8A
        cmp     #$03                            ; DECE C9 03
        beq     LDE7A                           ; DED0 F0 A8
        pha                                     ; DED2 48
            ldx $EE                             ; DED3 A6 EE
            lda LE16A+1,y                         ; DED5 B9 6B E1
            if_ne                               ; DED8 F0 24
                lda $0690                       ; DEDA AD 90 06
                if_mi                           ; DEDD 10 0B
                    and #$7F                    ; DEDF 29 7F
                    sta $E3                     ; DEE1 85 E3
                    tya                         ; DEE3 98
                    clc                         ; DEE4 18
                    sbc $E3                     ; DEE5 E5 E3
                else                            ; DEE7 4C EF DE
                    tya                         ; DEEA 98
                    clc                         ; DEEB 18
                    adc $0690                   ; DEEC 6D 90 06
                end_if
                tay                             ; DEEF A8
                lda LE16A+1,y                     ; DEF0 B9 6B E1
                sta $0680,x                     ; DEF3 9D 80 06
                lda LE16A,y                     ; DEF6 B9 6A E1
                ora #$08                        ; DEF9 09 08
                sta $0681,x                     ; DEFB 9D 81 06
            end_if
            tay                                 ; DEFE A8
        pla                                     ; DEFF 68
        tax                                     ; DF00 AA
        tya                                     ; DF01 98
        .scope
        bne     LDF13                           ; DF02 D0 0F
        lda     #$00                            ; DF04 A9 00
        sta     $E0                             ; DF06 85 E0
        txa                                     ; DF08 8A
        cmp     #$02                            ; DF09 C9 02
        beq     LDF18                           ; DF0B F0 0B
        lda     #$10                            ; DF0D A9 10
        sta     $E0                             ; DF0F 85 E0
        bne     LDF18                           ; DF11 D0 05  ;always branch
        LDF13:
        lda     $069D,x                         ; DF13 BD 9D 06
        sta     $E0                             ; DF16 85 E0
        LDF18:
        .endscope
        txa                                     ; DF18 8A
        dec     $06C8,x                         ; DF19 DE C8 06
        cmp     $06C8,x                         ; DF1C DD C8 06
        beq     LDF5E                           ; DF1F F0 3D
        inc     $06C8,x                         ; DF21 FE C8 06
        ldy     $EE                             ; DF24 A4 EE
        txa                                     ; DF26 8A
        cmp     #$02                            ; DF27 C9 02
        .scope
        beq     LDF3E                           ; DF29 F0 13
        lda     $069A,x                         ; DF2B BD 9A 06
        and     #$1F                            ; DF2E 29 1F
        beq     LDF3E                           ; DF30 F0 0C
        lda     $E0                             ; DF32 A5 E0
        cmp     #$10                            ; DF34 C9 10
        beq     LDF40                           ; DF36 F0 08
        and     #$F0                            ; DF38 29 F0
        ora     #$00                            ; DF3A 09 00
        bne     LDF40                           ; DF3C D0 02
        LDF3E:
        lda     $E0                             ; DF3E A5 E0
        LDF40:
        .endscope
        sta     $4000,y                         ; DF40 99 00 40
        lda     $06C0,x                         ; DF43 BD C0 06
        sta     $4001,y                         ; DF46 99 01 40
        lda     $0680,y                         ; DF49 B9 80 06
        sta     $4002,y                         ; DF4C 99 02 40
        lda     $0681,y                         ; DF4F B9 81 06
        sta     $4003,y                         ; DF52 99 03 40
LDF55:  lda     $06B8,x                         ; DF55 BD B8 06
        sta     $06B4,x                         ; DF58 9D B4 06
        jmp     LDDFF                           ; DF5B 4C FF DD

LDF5E:  inc     $06C8,x                         ; DF5E FE C8 06
        jmp     LDF55                           ; DF61 4C 55 DF

LDF64:  lda     $069C                           ; DF64 AD 9C 06
        and     #$1F                            ; DF67 29 1F
        bne     LDF88                           ; DF69 D0 1D
        lda     $069C                           ; DF6B AD 9C 06
        and     #$C0                            ; DF6E 29 C0
        bne     LDF75                           ; DF70 D0 03
LDF72:  tya                                     ; DF72 98
        bne     LDF7D                           ; DF73 D0 08
LDF75:  cmp     #$C0                            ; DF75 C9 C0
        beq     LDF72                           ; DF77 F0 F9
        lda     #$FF                            ; DF79 A9 FF
        bne     LDF88                           ; DF7B D0 0B
LDF7D:  clc                                     ; DF7D 18
        adc     #$FF                            ; DF7E 69 FF
        asl     a                               ; DF80 0A
        asl     a                               ; DF81 0A
        cmp     #$3C                            ; DF82 C9 3C
        if_cs                                   ; DF84 90 02
            lda #$3C                            ; DF86 A9 3C
        end_if
LDF88:  sta     $069F                           ; DF88 8D 9F 06
        jmp     LDEC5                           ; DF8B 4C C5 DE

LDF8E:  tya                                     ; DF8E 98
        pha                                     ; DF8F 48
        jsr     RDFB5                           ; DF90 20 B5 DF
        pla                                     ; DF93 68
        and     #$1F                            ; DF94 29 1F
        tay                                     ; DF96 A8
        jsr     RDF9D                           ; DF97 20 9D DF
        jmp     LDF55                           ; DF9A 4C 55 DF

; ----------------------------------------------------------------------------
; if $06F8 is zero, then copy $db3a array entries to APU Noise channel registers
; input: Y
; READS $06f8 $db3a,Y $db3b,Y $db3c,Y WRITES $400c $400e $400f
; called from one place
RDF9D:  lda     $06F8                           ; DF9D AD F8 06
        if_eq                                   ; DFA0 D0 12
            lda LDB3A,y                         ; DFA2 B9 3A DB
            sta $400C                           ; DFA5 8D 0C 40
            lda LDB3B,y                         ; DFA8 B9 3B DB
            sta $400E                           ; DFAB 8D 0E 40
            lda LDB3C,y                         ; DFAE B9 3C DB
            sta $400F                           ; DFB1 8D 0F 40
        end_if
        rts                                     ; DFB4 60

; ----------------------------------------------------------------------------
; DMC channel
; input: Y
; READS $06f7
; WRITES $e1 $4010 $4011 $4012 $4013 $4015
; called from one place
; Y=2x: $e1=0E, A=07, Y=F4 (freq 14, address $FD00, length 112)
; Y=4x: $e1=07, A=07, Y=F4 (freq 07, address $FD00, length 112)
; Y=6x: $e1=0F, A=0F, Y=F6 (freq 15, address $FD80, length 240)
; Y=8x: $e1=0E, A=0F, Y=F6 (freq 14, address $FD80, length 240)
; $4012 sample address = Y
; $4013 sample length = A
; $4010 frequency index = $e1 (if $06f7 = 0) (IRQ enable, loop, frequency index 1)
; $4011 direct load = #$00 (if $06f7 = 0)
; $4015 enable all channels (if $06f7 = 0))
RDFB5:
.scope
        ; case on the top 3 bits of Y
        tya                                     ; DFB5 98
        and     #$E0                            ; DFB6 29 E0
        cmp     #$40                            ; DFB8 C9 40
        beq     case4                           ; DFBA F0 21
        cmp     #$80                            ; DFBC C9 80
        beq     case8                           ; DFBE F0 27
        cmp     #$20                            ; DFC0 C9 20
        beq     case2                           ; DFC2 F0 05
        cmp     #$60                            ; DFC4 C9 60
        beq     case6                           ; DFC6 F0 0B
        ; 000,101,110,111 do nothing
        rts                                     ; DFC8 60

case2:  lda #$0E                                ; DFC9 A9 0E
        sta $E1                                 ; DFCB 85 E1
        lda #$07                                ; DFCD A9 07
        ldy #$F4                                ; DFCF A0 F4
        bne final                               ; DFD1 D0 1C
case6:  lda #$0F                                ; DFD3 A9 0F
        sta $E1                                 ; DFD5 85 E1
        lda #$0F                                ; DFD7 A9 0F
        ldy #$F6                                ; DFD9 A0 F6
        bne final                               ; DFDB D0 12
case4:  lda #$07                                ; DFDD A9 07
        sta $E1                                 ; DFDF 85 E1
        lda #$07                                ; DFE1 A9 07
        ldy #$F4                                ; DFE3 A0 F4
        bne final                               ; DFE5 D0 08
case8:  lda #$0E                                ; DFE7 A9 0E
        sta $E1                                 ; DFE9 85 E1
        lda #$0F                                ; DFEB A9 0F
        ldy #$F6                                ; DFED A0 F6
final:  sta $4013                               ; DFEF 8D 13 40
        sty $4012                               ; DFF2 8C 12 40
        lda $06F7                               ; DFF5 AD F7 06
        if_eq                                   ; DFF8 D0 14
            lda $E1                             ; DFFA A5 E1
            sta $4010                           ; DFFC 8D 10 40
            lda #$0F                            ; DFFF A9 0F
            sta $4015                           ; E001 8D 15 40
            lda #$00                            ; E004 A9 00
            sta $4011                           ; E006 8D 11 40
            lda #$1F                            ; E009 A9 1F
            sta $4015                           ; E00B 8D 15 40
        end_if
        rts                                     ; E00E 60
.endscope

; ----------------------------------------------------------------------------
; input X
; $06AC,x
RE00F:  ldy     $06AC,x                         ; E00F BC AC 06
        inc     $06AC,x                         ; E012 FE AC 06
        lda     ($E6),y                         ; E015 B1 E6
        rts                                     ; E017 60

; ----------------------------------------------------------------------------
; array of pointers
LE018:
.scope
        .word LE056,LE062,LE165,LE06C
        .word LE07A,LE081,LE085,LE089
        .word LE090,LE095,LE0B7,LE0C0
        .word LE0C7,LE0D1,LE0D7,LE0F0
        .word LE0FA,LE0FF,LE108,LE10D
        .word LE112,LE118,LE122,LE12C
        .word LE133,LE139,LE13F,LE14F
        .word LE155,LE15B,LE160

LE056:  .byte $00,$B9,$99,$98,$88,$88,$77,$77,$77,$77,$11,$F0
LE062:  .byte $00,$00,$00,$0B,$BA,$98,$88,$88,$89,$F0
LE06C:  .byte $00,$98,$88,$88,$88,$88,$88,$88,$88,$88,$88,$88,$88,$F0
LE07A:  .byte $0F,$FE,$BB,$BB,$AA,$AA,$F0
LE081:  .byte $84,$31,$10,$F0
LE085:  .byte $A9,$92,$22,$F0
LE089:  .byte $97,$65,$43,$33,$21,$11,$F0
LE090:  .byte $A8,$81,$11,$11,$F0
LE095:  .byte $AA,$A1,$11,$11,$11,$11,$11,$22,$22,$33,$34,$44,$45,$55,$66,$67,$77,$76,$66,$55,$54,$44,$44,$33,$33,$33,$22,$22,$22,$11,$11,$11,$11,$F0
LE0B7:  .byte $07,$74,$11,$11,$11,$11,$11,$11,$F0
LE0C0:  .byte $77,$21,$33,$11,$11,$11,$F0
LE0C7:  .byte $22,$33,$44,$55,$66,$77,$77,$88,$66,$FF
LE0D1:  .byte $08,$77,$11,$11,$11,$F0
LE0D7:  .byte $FE,$A9,$98,$77,$77,$66,$66,$55,$55,$44,$44,$33,$33,$22,$22,$22,$11,$11,$11,$11,$11,$11,$11,$11,$F0
LE0F0:  .byte $B9,$11,$10,$74,$11,$10,$32,$11,$11,$FF
LE0FA:  .byte $76,$54,$32,$21,$F0
LE0FF:  .byte $00,$43,$22,$22,$22,$22,$22,$21,$F0
LE108:  .byte $EB,$97,$53,$21,$FF
LE10D:  .byte $76,$66,$65,$55,$FF
LE112:  .byte $00,$03,$54,$44,$44,$FF
LE118:  .byte $69,$87,$77,$76,$55,$55,$55,$55,$55,$FF
LE122:  .byte $23,$33,$44,$33,$33,$33,$33,$33,$33,$FF
LE12C:  .byte $00,$54,$32,$21,$11,$11,$F0
LE133:  .byte $63,$32,$21,$11,$11,$F0
LE139:  .byte $23,$22,$22,$22,$22,$FF
LE13F:  .byte $76,$63,$31,$11,$11,$11,$11,$00,$00,$00,$54,$22,$21,$10,$00,$FF
LE14F:  .byte $54,$32,$21,$11,$11,$F0
LE155:  .byte $43,$32,$22,$11,$11,$F0
LE15B:  .byte $32,$22,$21,$11,$F0
LE160:  .byte $21,$11,$11,$10,$F0
LE165:  .byte $11,$11,$11,$11,$F0
.endscope

; ----------------------------------------------------------------------------
; interleaved array of pairs of bytes
LE16A:  .byte $07,$F0,$00,$00,$06,$AE,$06,$4E,$05,$F3,$05,$9E,$05,$4D,$05,$01
        .byte $04,$B9,$04,$75,$04,$35,$03,$F8,$03,$BF,$03,$89,$03,$57,$03,$27
        .byte $02,$F9,$02,$CF,$02,$A6,$02,$80,$02,$5C,$02,$3A,$02,$1A,$01,$FC
        .byte $01,$DF,$01,$C4,$01,$AB,$01,$93,$01,$7C,$01,$67,$01,$52,$01,$3F
        .byte $01,$2D,$01,$1C,$01,$0C,$00,$FD,$00,$EE,$00,$E1,$00,$D4,$00,$C8
        .byte $00,$BD,$00,$B2,$00,$A8,$00,$9F,$00,$96,$00,$8D,$00,$85,$00,$7E
        .byte $00,$76,$00,$70,$00,$69,$00,$63,$00,$5E,$00,$58,$00,$53,$00,$4F
        .byte $00,$4A,$00,$46,$00,$42,$00,$3E,$00,$3A,$00,$37,$00,$34,$00,$31
        .byte $00,$2E,$00,$2B,$00,$29,$00,$27,$00,$24,$00,$22,$00,$20,$00,$1E
        .byte $00,$1C,$00,$1A,$00,$0A,$00,$10,$00,$19

; ----------------------------------------------------------------------------
; lookup table
LE204:  .byte $04,$08,$10,$20,$40,$18,$30,$0C,$0A,$05,$02,$01,$05,$0A,$14,$28
        .byte $50,$1E,$3C,$0F,$0D,$06,$02,$01,$06,$0C,$18,$30,$60,$24,$48,$12
        .byte $10,$08,$03,$01,$04,$02,$00,$90,$07,$0E,$1C,$38,$70,$2A,$54,$15
        .byte $12,$09,$03,$01,$02,$08,$10,$20,$40,$80,$30,$60,$18,$15,$0A,$04
        .byte $01,$02,$C0,$09,$12,$24,$48,$90,$36,$6C,$1B,$18,$0C,$04,$01,$0A
        .byte $14,$28,$50,$A0,$3C,$78,$1E,$1A,$0D,$05,$01,$02,$17

; ----------------------------------------------------------------------------
; lookup table
LE261:  .byte $5A,$1E,$28,$14,$3C,$50,$32,$6E,$00,$0A,$46,$64,$78

; ----------------------------------------------------------------------------
; lookup table
LE26E:
        .byte $85,$18,$7b,$f4,$8b,$f4,$99,$f4,$a3,$f4,$00,$18,$eb,$f5,$f1,$f5
        .byte $f5,$f5,$f9,$f5,$00,$18,$f8,$e8,$0c,$e9,$20,$e9,$34,$e9,$00,$28
        .byte $f0,$e2,$0a,$e3,$20,$e3,$32,$e3,$00,$35,$68,$f6,$ff,$ff,$ff,$ff
        .byte $ff,$ff,$81,$18,$e6,$ef,$f2,$ef,$fe,$ef,$0a,$f0,$87,$00,$74,$f6
        .byte $84,$f6,$92,$f6,$9e,$f6,$83,$35,$9e,$ed,$ac,$ed,$b8,$ed,$c2,$ed
        .byte $04,$18,$6c,$f1,$74,$f1,$84,$f1,$8c,$f1,$00,$35,$82,$f8,$a2,$f8
        .byte $c2,$f8,$e2,$f8,$00,$35,$9a,$f8,$ba,$f8,$da,$f8,$fa,$f8,$08,$4f
        .byte $4f,$fa,$59,$fa,$61,$fa,$ff,$ff,$08,$4f,$4f,$fa,$59,$fa,$61,$fa
        .byte $ff,$ff,$46,$e3,$dc,$e3,$3e,$e4,$83,$e4,$92,$e4,$f1,$e6,$d5,$e7
        .byte $e0,$e7,$9f,$e8,$7e,$e5,$85,$e5,$ff,$ff,$f2,$e2,$67,$e3,$a9,$e4
        .byte $0b,$e5,$50,$e5,$67,$e5,$1b,$e7,$dd,$e7,$8a,$e8,$82,$e5,$ff,$ff
        .byte $0c,$e3,$88,$e3,$36,$e6,$66,$e6,$75,$e6,$43,$e7,$b3,$e8,$00,$e6
        .byte $ff,$ff,$22,$e3,$bc,$e3,$8c,$e6,$a6,$e6,$bd,$e6,$dd,$e6,$88,$e7
        .byte $db,$e8,$b8,$e5,$ff,$ff,$34,$e3,$9f,$11,$30,$b1,$02,$6c,$02,$02
        .byte $6c,$02,$02,$02,$6a,$02,$02,$6a,$02,$02,$02,$02,$02,$68,$02,$02
        .byte $68,$02,$02,$02,$64,$02,$b6,$02,$00,$9f,$09,$30,$b1,$02,$72,$02

        .byte   $02                             ; E36E 02
        .byte   $72                             ; E36F 72

        .byte $02,$02,$02,$70,$02,$02,$70,$02   ; E370
        .byte $02,$02,$02,$02,$6E,$02,$02,$6E
        .byte $02,$02,$02,$6C,$02,$B6,$02,$00   ; E380
        .byte $9F,$16,$00,$B1,$46,$46,$4C,$46
        .byte $B0,$3C,$3C,$B1,$3C,$42,$44,$46   ; E390
        .byte $46,$4C,$46,$3C,$02,$02,$02,$02
        .byte $46,$4C,$46,$B0,$3C,$3C,$B1,$3C   ; E3A0
        .byte $42,$3C,$B6,$46,$9F,$A0,$00,$BA
        .byte $3C,$3A,$38,$36,$34,$32,$30,$2E   ; E3B0
        .byte $02,$BB,$02,$00,$B2,$04,$44,$04
        .byte $44,$04,$44,$B1,$04,$41,$44,$01   ; E3C0
        .byte $B2,$04,$44,$04,$44,$B1,$07,$41
        .byte $81,$B0,$01,$81,$B0,$81,$81,$B1   ; E3D0
        .byte $01,$81,$01,$00,$9F,$09,$30,$B1
        .byte $02,$54,$02,$02,$54,$02,$02,$02   ; E3E0
        .byte $54,$02,$02,$54,$02,$02,$02,$02
        .byte $02,$54,$02,$02,$54,$02,$02,$02   ; E3F0
        .byte $50,$02,$02,$54,$02,$02,$02,$02

        .byte $02,$54,$02,$02,$54,$02,$02,$02   ; E400
        .byte $54,$02,$02,$54,$02,$02,$02,$02
        .byte $02,$54,$02,$02,$54,$02,$02,$02
        .byte $9F,$06,$30,$BC,$24,$BA,$24,$22
        .byte $22,$20,$BA,$20,$BC,$1E,$BA,$1E
        .byte $1E,$1C,$BC,$1C,$BA,$1A,$1A,$18
        .byte $18,$BA,$16,$16,$BC,$14,$BA,$14
        .byte $12,$B1,$1A,$B5,$02,$00,$9F,$6B
        .byte $B1,$B1,$02,$54,$4C,$54,$4C,$B5
        .byte $02,$B1,$46,$46,$4C,$46,$4C,$B5
        .byte $02,$B1,$02,$54,$4C,$54,$5A,$02
        .byte $58,$50,$9F,$8A,$B1,$B4,$56,$9F
        .byte $6B,$B1,$B1,$02,$B0,$54,$54,$B1
        .byte $4C,$54,$4C,$B5,$02,$B1,$46,$46
        .byte $4C,$46,$3C,$B5,$02,$B1,$02,$54
        .byte $4C,$54,$5A,$02,$58,$50,$54,$02
        .byte $B6,$02,$00,$9F,$AD,$36,$B4,$16
        .byte $12,$10,$B6,$0E,$B0,$0E,$02,$02
        .byte $02,$00,$9F,$09,$F1,$C4,$B1,$02
        .byte $76,$02,$02,$76,$02,$02,$02,$76
        .byte $02,$02,$76,$02,$02,$02,$02,$FF
        .byte $00,$9F,$09,$30,$B1,$02,$5E,$02
        .byte $02,$5E,$02,$02,$02,$5E,$02,$02
        .byte $5E,$02,$02,$02,$02,$02,$5E,$02
        .byte $02,$5E,$02,$02,$02,$5A,$02,$02
        .byte $5E,$02,$02,$02,$02,$02,$5E,$02
        .byte $02,$5E,$02,$02,$02,$5E,$02,$02
        .byte $5E,$02,$02,$02,$02,$02,$5E,$02
        .byte $02,$5E,$02,$02,$02,$9F,$06,$30
        .byte $BC,$24,$BA,$24,$22,$22,$20,$BA
        .byte $20,$BC,$1E,$BA,$1E,$1E,$1C,$BC
        .byte $1C,$BA,$1A,$1A,$18,$18,$BA,$16
        .byte $16,$BC,$14,$BA,$14,$12,$B1,$1A   ; E500
        .byte $B5,$02,$00,$9F,$0A,$B1,$B1,$02
        .byte $54,$4C,$54,$4C,$B5,$02,$B1,$46
        .byte $46,$4C,$46,$4C,$B5,$02,$B1,$02
        .byte $54,$4C,$54,$5A,$02,$58,$50,$9F
        .byte $8A,$B1,$B4,$56,$9F,$0A,$B1,$B1
        .byte $02,$B0,$54,$54,$B1,$4C,$54,$4C
        .byte $B5,$02,$B1,$46,$46,$4C,$46,$3C
        .byte $B5,$02,$B1,$02,$54,$4C,$54,$5A
        .byte $02,$58,$50,$54,$02,$B6,$02,$00
        .byte $9F,$0C,$30,$C7,$B0,$46,$5E,$46
        .byte $46,$5E,$46,$46,$5E,$FF,$46,$5E
        .byte $46,$46,$5E,$02,$02,$02,$00,$9F
        .byte $09,$B0,$C4,$B1,$02,$7C,$76,$6C
        .byte $7E,$02,$76,$6C,$80,$76,$6C,$7E
        .byte $02,$02,$02,$02,$FF,$00,$9F,$19
        .byte $31,$00,$9F,$18,$31,$C8,$B1,$14
        .byte $16,$16,$16,$FF,$C2,$B0,$16,$16
        .byte $B1,$16,$1C,$20,$B0,$22,$22,$B1
        .byte $22,$20,$1C,$16,$16,$1C,$02,$16
        .byte $16,$1C,$02,$B0,$16,$16,$B1,$16
        .byte $1C,$20,$B0,$22,$22,$B1,$22,$20
        .byte $1C,$B2,$16,$02,$02,$02,$FF,$00
        .byte $C3,$B1,$41,$01,$01,$41,$41,$01
        .byte $01,$01,$FF,$41,$01,$01,$41,$B0
        .byte $81,$81,$01,$41,$41,$81,$81,$81
        .byte $C2,$B1,$44,$04,$84,$B0,$04,$07
        .byte $B1,$44,$44,$84,$07,$44,$41,$81
        .byte $B0,$01,$01,$B1,$41,$41,$81,$01
        .byte $44,$04,$84,$B0,$04,$07,$B1,$44
        .byte $44,$84,$07,$44,$01,$01,$B0,$41
        .byte $04,$B1,$41,$01,$01,$01,$FF,$00
        .byte $9F,$16,$00,$C8,$B1,$2C,$2E,$2E   ; E600
        .byte $2E,$FF,$C2,$B0,$2E,$2E,$B1,$2E
        .byte $34,$38,$B0,$3A,$3A,$B1,$3A,$38
        .byte $34,$2E,$2E,$34,$02,$2E,$2E,$34
        .byte $02,$B0,$2E,$2E,$B1,$2E,$34,$38
        .byte $B0,$3A,$3A,$B1,$3A,$38,$34,$B2
        .byte $2E,$02,$02,$02,$FF,$00,$9F,$16
        .byte $00,$C4,$B1,$2E,$2E,$34,$2E,$B0
        .byte $24,$24,$B1,$24,$2A,$2C,$2E,$2E
        .byte $34,$2E,$24,$02,$02,$02,$02,$2E
        .byte $34,$2E,$B0,$24,$24,$B1,$24,$2A
        .byte $24,$B0,$2E,$2E,$B1,$2E,$34,$2E
        .byte $34,$02,$02,$02,$FF,$00,$9F,$A0
        .byte $00,$B4,$2E,$34,$38,$B6,$3A,$B0
        .byte $3A,$02,$02,$02,$00,$9F,$16,$00
        .byte $C4,$B1,$2E,$2E,$34,$34,$2E,$02
        .byte $02,$02,$02,$2E,$34,$34,$2E,$02
        .byte $02,$02,$FF,$00,$C7,$B1,$44,$04
        .byte $84,$04,$44,$04,$84,$04,$FF,$44
        .byte $04,$84,$B0,$04,$81,$B0,$81,$81
        .byte $81,$81,$B1,$81,$01,$00,$C7,$B1
        .byte $44,$04,$84,$04,$44,$04,$84,$04
        .byte $FF,$44,$04,$84,$07,$B0,$81,$81
        .byte $B1,$04,$81,$01,$00,$C2,$B1,$04
        .byte $04,$44,$04,$04,$04,$44,$04,$FF
        .byte $C4,$44,$04,$FF,$B1,$44,$44,$44
        .byte $B0,$44,$81,$B0,$81,$81,$81,$81
        .byte $81,$01,$01,$01,$00,$C4,$B1,$44
        .byte $04,$84,$44,$44,$04,$84,$04,$44
        .byte $04,$84,$41,$44,$01,$01,$01,$FF
        .byte $00,$9F,$09,$31,$9C,$04,$C3,$B1
        .byte $02,$50,$02,$02,$50,$02,$02,$02
        .byte $50,$02,$02,$50,$02,$02,$B2,$5A   ; E700
        .byte $FF,$B1,$02,$50,$02,$02,$50,$02
        .byte $02,$5A,$50,$02,$02,$50,$02,$02
        .byte $02,$02,$00,$9F,$09,$31,$C3,$B1
        .byte $02,$5A,$02,$02,$5A,$02,$02,$02
        .byte $5A,$02,$02,$5A,$02,$02,$B2,$4C
        .byte $FF,$B1,$02,$5A,$02,$02,$5A,$02
        .byte $02,$02,$5A,$02,$02,$5A,$02,$02
        .byte $02,$02,$00,$C3,$B4,$02,$FF,$9F
        .byte $A0,$00,$B6,$02,$BA,$3C,$3A,$38
        .byte $36,$34,$32,$30,$2E,$02,$BB,$02
        .byte $9F,$14,$00,$B0,$2A,$2A,$B1,$2A
        .byte $2A,$30,$2A,$2A,$2A,$20,$B0,$2A
        .byte $2A,$B1,$2A,$2A,$30,$2A,$2C,$2A
        .byte $2C,$B0,$2A,$2A,$B1,$2A,$2A,$30
        .byte $2A,$2A,$2A,$20,$B0,$2A,$2A,$B1
        .byte $2A,$2A,$30,$02,$02,$02,$02,$00
        .byte $B1,$44,$04,$84,$04,$44,$04,$84
        .byte $07,$44,$04,$84,$41,$41,$01,$B0
        .byte $81,$81,$B1,$01,$44,$04,$84,$04
        .byte $44,$04,$84,$07,$44,$04,$BA,$81
        .byte $81,$BB,$01,$BA,$81,$81,$BB,$01
        .byte $B1,$44,$B9,$01,$81,$81,$BB,$01
        .byte $B9,$41,$41,$41,$BB,$01,$C3,$B0
        .byte $41,$04,$B1,$01,$84,$04,$44,$04
        .byte $81,$04,$FF,$B1,$44,$04,$84,$44
        .byte $01,$01,$01,$01,$00,$9F,$B7,$32
        .byte $B8,$02,$BC,$02,$00,$9F,$B6,$33
        .byte $C8,$B0,$60,$5A,$FF,$B0,$64,$54
        .byte $56,$58,$5A,$5E,$60,$5E,$02,$68
        .byte $64,$60,$5E,$5A,$56,$54,$B1,$56
        .byte $BA,$54,$50,$BB,$02,$BA,$4C,$42

        .byte $BB,$02,$B2,$3E,$B0,$02,$48,$38   ; E800
        .byte $3C,$3E,$42,$46,$42,$50,$46,$48
        .byte $4C,$50,$54,$56,$54,$02,$5A,$48
        .byte $4C,$50,$54,$56,$54,$5A,$5A,$02
        .byte $46,$02,$48,$02,$4C,$50,$4C,$50
        .byte $02,$B2,$54,$B0,$5A,$5A,$02,$46
        .byte $02,$48,$02,$4C,$50,$4C,$50,$02
        .byte $B2,$54,$B9,$54,$60,$64,$BB,$02
        .byte $B9,$62,$60,$5E,$BB,$02,$B9,$5C
        .byte $5A,$58,$BB,$02,$B9,$56,$54,$52
        .byte $BB,$02,$B9,$50,$4E,$4C,$BB,$02
        .byte $B9,$4A,$48,$46,$BB,$02,$B0,$44
        .byte $42,$40,$3E,$BA,$3C,$3A,$BB,$02
        .byte $BA,$38,$36,$BB,$02,$BA,$34,$32
        .byte $BB,$02,$BA,$30,$2E,$BB,$02,$B7
        .byte $5A,$B0,$64,$B1,$62,$5E,$5A,$5E
        .byte $54,$56,$5A,$64,$62,$B3,$64,$B1
        .byte $02,$00,$B7,$5E,$B0,$6C,$B1,$68
        .byte $66,$62,$66,$9F,$96,$33,$B2,$5A
        .byte $5E,$68,$B3,$74,$9C,$00,$00,$B7
        .byte $5E,$B0,$6C,$B1,$68,$66,$62,$66
        .byte $9F,$97,$33,$B2,$5A,$5E,$68,$B8
        .byte $74,$02,$00,$9F,$13,$00,$C6,$B0
        .byte $34,$34,$02,$02,$02,$9F,$A0,$00
        .byte $B7,$24,$B2,$26,$2A,$9F,$13,$00
        .byte $B0,$30,$02,$2E,$02,$2A,$2E,$02
        .byte $02,$02,$02,$3A,$3C,$02,$34,$02
        .byte $1C,$FF,$00,$C6,$B0,$44,$44,$04
        .byte $01,$84,$44,$B1,$04,$44,$04,$84
        .byte $04,$44,$04,$84,$44,$B0,$44,$01
        .byte $81,$81,$01,$81,$01,$81,$FF,$00
        .byte $15,$ED,$48,$E9,$AD,$EA,$14,$EC
        .byte $D9,$EA,$A8,$EC,$A8,$EC,$4A,$ED   ; E900
        .byte $FF,$FF,$FA,$E8,$24,$ED,$BD,$E9
        .byte $15,$EB,$3E,$EC,$39,$EB,$BF,$EC
        .byte $BF,$EC,$4A,$ED,$FF,$FF,$0E,$E9
        .byte $33,$ED,$2F,$EA,$6F,$EB,$5E,$EC
        .byte $9F,$EB,$D6,$EC,$D6,$EC,$57,$ED
        .byte $FF,$FF,$22,$E9,$42,$ED,$81,$EA
        .byte $DF,$EB,$9C,$EC,$EA,$EB,$ED,$EC
        .byte $01,$ED,$65,$ED,$FF,$FF,$36,$E9
        .byte $9F,$0E,$B1,$B1,$38,$3C,$38,$3C
        .byte $3C,$3A,$38,$34,$38,$3C,$38,$38
        .byte $3C,$02,$9F,$05,$B0,$BA,$02,$2A
        .byte $28,$26,$24,$22,$02,$02,$9F,$0E
        .byte $B1,$B1,$38,$3C,$3A,$3C,$3C,$3A
        .byte $38,$3C,$9F,$08,$F0,$C4,$B0,$2A
        .byte $2A,$B1,$2A,$FF,$9F,$0E,$B1,$B1
        .byte $38,$3C,$38,$3C,$3C,$3A,$38,$34
        .byte $38,$3C,$38,$38,$3C,$02,$02,$02
        .byte $38,$3C,$38,$3C,$3C,$3C,$3C,$3C
        .byte $9F,$05,$B0,$BA,$02,$74,$02,$68
        .byte $02,$02,$62,$02,$02,$4C,$02,$5E
        .byte $38,$02,$02,$02,$80,$74,$6C,$46
        .byte $02,$40,$68,$02,$52,$4E,$4A,$46
        .byte $48,$42,$02,$02,$00,$9F,$07,$B1
        .byte $B1,$60,$62,$60,$62,$5E,$5A,$5A
        .byte $5E,$60,$62,$5E,$5A,$5A,$02,$9F
        .byte $05,$B0,$BA,$02,$12,$10,$0E,$0C
        .byte $0A,$02,$02,$9F,$07,$B1,$B1,$60
        .byte $62,$60,$62,$5E,$5A,$5A,$5E,$9F
        .byte $08,$F0,$B0,$1A,$1A,$B1,$1A,$B0
        .byte $1C,$1C,$B1,$1C,$B0,$1E,$1E,$B1
        .byte $1E,$B0,$20,$20,$B1,$20,$9F,$07
        .byte $B1,$B1,$60,$62,$60,$62,$5E,$5A   ; EA00
        .byte $5A,$5E,$60,$62,$5E,$5A,$5A,$02
        .byte $02,$02,$60,$62,$60,$62,$5E,$5A
        .byte $5A,$5E,$9F,$01,$B0,$B0,$80,$74
        .byte $6C,$6A,$02,$74,$68,$02,$52,$4E
        .byte $02,$46,$02,$02,$02,$02,$00,$9F
        .byte $12,$00,$B1,$5A,$5A,$60,$62,$4C
        .byte $4C,$52,$54,$5A,$5A,$60,$62,$4C
        .byte $02,$02,$02,$5A,$5A,$60,$62,$4C
        .byte $4C,$52,$54,$9F,$00,$00,$B0,$2A
        .byte $2A,$B1,$2A,$B0,$2E,$2E,$B1,$2E
        .byte $B0,$30,$30,$B1,$30,$B0,$32,$32
        .byte $B1,$32,$9F,$12,$00,$B1,$5A,$5A
        .byte $60,$62,$4C,$4C,$52,$54,$5A,$5A
        .byte $60,$62,$4C,$02,$02,$02,$5A,$5A
        .byte $60,$62,$4C,$4C,$52,$54,$B4,$02
        .byte $00,$C6,$B0,$07,$04,$07,$01,$FF
        .byte $B2,$01,$20,$C4,$B0,$07,$04,$07
        .byte $01,$FF,$B2,$20,$60,$20,$60,$C6
        .byte $B0,$07,$04,$07,$01,$FF,$B2,$60
        .byte $01,$C4,$B0,$07,$04,$07,$01,$FF
        .byte $B6,$60,$B2,$20,$00,$9F,$0E,$B1
        .byte $B0,$42,$42,$B1,$42,$42,$42,$3E
        .byte $48,$46,$3E,$B0,$42,$42,$B1,$42
        .byte $42,$42,$46,$02,$02,$02,$B0,$42
        .byte $42,$B1,$42,$42,$42,$3E,$48,$46
        .byte $3E,$2E,$02,$02,$40,$42,$02,$3E
        .byte $02,$9F,$0E,$B1,$B0,$2A,$2A,$B1
        .byte $34,$32,$30,$2E,$02,$9F,$04,$30
        .byte $B2,$26,$9F,$0E,$B1,$B0,$2A,$2A
        .byte $B1,$34,$32,$30,$2E,$02,$9F,$05
        .byte $30,$B2,$28,$9F,$0E,$B1,$B0,$2A
        .byte $2A,$B1,$2A,$2A,$2A,$26,$26,$26   ; EB00
        .byte $26,$26,$02,$26,$02,$24,$02,$9F
        .byte $0F,$F1,$1C,$02,$00,$9F,$07,$B1
        .byte $B1,$52,$54,$52,$54,$50,$4C,$4C
        .byte $46,$52,$54,$50,$4C,$4C,$02,$02
        .byte $02,$52,$54,$52,$54,$50,$4C,$4C
        .byte $46,$40,$46,$4A,$50,$4C,$02,$4A
        .byte $02,$9F,$07,$B1,$B1,$52,$54,$50
        .byte $4C,$4C,$02,$9F,$01,$30,$B2,$0E
        .byte $9F,$07,$B1,$B1,$52,$54,$50,$4C
        .byte $4C,$02,$9F,$02,$30,$B2,$10,$9F
        .byte $07,$B1,$B1,$52,$54,$52,$54,$50
        .byte $4C,$4C,$46,$4C,$02,$50,$02,$4C
        .byte $02,$9F,$0F,$F0,$04,$02,$00,$9F
        .byte $15,$00,$B1,$34,$34,$3A,$3C,$B0
        .byte $26,$26,$B1,$26,$2C,$2E,$34,$34
        .byte $3A,$3C,$B0,$26,$26,$B1,$2C,$2E
        .byte $36,$34,$34,$3A,$3C,$B0,$26,$26
        .byte $B1,$26,$2C,$2E,$38,$38,$40,$46
        .byte $B0,$42,$42,$B1,$42,$42,$42,$9F
        .byte $15,$00,$B0,$34,$34,$B1,$34,$3A
        .byte $3C,$3E,$02,$9F,$00,$00,$B2,$26
        .byte $9F,$15,$00,$B0,$34,$34,$B1,$34
        .byte $3A,$3C,$3E,$02,$9F,$00,$00,$B2
        .byte $28,$9F,$15,$00,$B0,$3C,$3C,$B1
        .byte $3C,$3C,$3C,$38,$38,$38,$38,$C2
        .byte $B0,$42,$42,$42,$02,$FF,$B1,$34
        .byte $02,$9F,$00,$00,$B2,$34,$00,$C8
        .byte $B0,$60,$04,$07,$01,$20,$04,$60
        .byte $01,$FF,$C2,$B0,$60,$04,$07,$01
        .byte $20,$04,$60,$01,$B0,$20,$01,$01
        .byte $01,$60,$01,$01,$01,$FF,$C2,$B0

        .byte $60,$04,$07,$01,$20,$04,$60,$01   ; EC00
        .byte $FF,$B2,$60,$20,$B1,$60,$B0,$60
        .byte $60,$B2,$20,$00,$9F,$10,$F1,$C3
        .byte $B1,$34,$2A,$34,$38,$34,$2A,$42
        .byte $2A,$FF,$3E,$26,$34,$38,$34,$26
        .byte $32,$26,$C3,$B1,$34,$2A,$34,$38
        .byte $34,$2A,$42,$2A,$FF,$3E,$26,$34
        .byte $38,$34,$26,$32,$26,$00,$9F,$AF
        .byte $33,$B3,$24,$B2,$20,$2A,$B4,$1C
        .byte $B3,$2E,$B2,$2A,$34,$B4,$26,$B3
        .byte $24,$B2,$20,$2A,$B4,$1C,$B3,$2E
        .byte $B2,$2A,$32,$B4,$34,$00,$9F,$15
        .byte $00,$C2,$B1,$34,$34,$42,$B0,$34
        .byte $34,$B1,$32,$32,$42,$B0,$32,$32
        .byte $B1,$2E,$2E,$42,$B0,$2E,$2E,$B1
        .byte $2A,$2A,$42,$B0,$2A,$2A,$B1,$26
        .byte $26,$3E,$B0,$26,$26,$B1,$24,$24
        .byte $3E,$B0,$24,$24,$B1,$38,$38,$38
        .byte $B0,$38,$38,$B1,$2A,$2A,$2A,$B0
        .byte $2A,$2A,$FF,$00,$D0,$B0,$04,$04
        .byte $07,$01,$0A,$04,$04,$04,$FF,$00
        .byte $9F,$12,$F1,$C3,$B1,$04,$04,$0A
        .byte $0C,$0E,$0E,$10,$12,$FF,$22,$08
        .byte $1E,$1C,$1A,$18,$16,$14,$00,$9F
        .byte $11,$F1,$C3,$B1,$04,$04,$0A,$0C
        .byte $0E,$0E,$10,$12,$FF,$22,$20,$1E
        .byte $1C,$1A,$18,$16,$14,$00,$9F,$00
        .byte $00,$C3,$B1,$1C,$1C,$22,$24,$26
        .byte $26,$28,$2A,$FF,$3A,$38,$36,$34
        .byte $32,$30,$2E,$2C,$00,$C2,$B1,$60
        .byte $60,$04,$01,$04,$01,$04,$01,$60
        .byte $04,$20,$20,$01,$01,$04,$0A,$FF
        .byte $00,$C2,$B1,$60,$04,$20,$20,$60   ; ED00
        .byte $60,$20,$0A,$60,$04,$20,$20,$60
        .byte $01,$81,$0A,$FF,$00,$9F,$12,$F1
        .byte $C2,$B1,$12,$12,$18,$1A,$1C,$1A
        .byte $18,$16,$FF,$00,$9F,$11,$F1,$C2
        .byte $B1,$12,$12,$18,$1A,$1C,$1A,$18
        .byte $16,$FF,$00,$9F,$00,$00,$C2,$B1
        .byte $2A,$2A,$30,$32,$34,$32,$30,$2E
        .byte $FF,$00,$C2,$B1,$60,$60,$B6,$01
        .byte $FF,$00,$C3,$B1,$12,$10,$B6,$02
        .byte $FF,$B1,$14,$02,$B6,$02,$00,$C3
        .byte $B1,$2A,$28,$B6,$02,$FF,$B1,$2C
        .byte $02,$B6,$02,$FF,$00,$C3,$B1,$60
        .byte $60,$B6,$01,$FF,$B2,$60,$01,$01
        .byte $60,$00,$9F,$B6,$32,$B0,$52,$4C
        .byte $52,$B5,$56,$00,$9F,$B6,$32,$B0
        .byte $64,$5C,$64,$B5,$68,$00,$9F,$00
        .byte $00,$B0,$5C,$5C,$5C,$9F,$A0,$00
        .byte $B5,$60,$00,$B0,$07,$07,$07,$C4
        .byte $BA,$04,$04,$04,$FF,$00,$72,$ED
        .byte $CC,$ED,$EB,$ED,$07,$EF,$0E,$EF
        .byte $FF,$FF,$A2,$ED,$7C,$ED,$D9,$ED
        .byte $79,$EE,$0B,$EF,$FF,$FF,$B0,$ED
        .byte $86,$ED,$E2,$ED,$48,$EF,$FF,$FF
        .byte $BC,$ED,$93,$ED,$E5,$ED,$AE,$EF
        .byte $FF,$FF,$C6,$ED,$9C,$08,$9E,$18
        .byte $9F,$11,$F1,$B1,$02,$4C,$50,$4C
        .byte $00,$9F,$B1,$F1,$B1,$02,$1C,$20
        .byte $1C,$00,$B3,$02,$00,$B1,$01,$20
        .byte $20,$20,$00,$B1,$5E,$02,$5A,$02
        .byte $54,$52,$50,$4C,$50,$4C,$02,$4C
        .byte $02,$02,$02,$4C,$50,$50,$50,$4C
        .byte $54,$4C,$02,$4C,$9F,$7D,$F1,$02   ; EE00
        .byte $7C,$64,$02,$7C,$02,$9F,$11,$F1
        .byte $4C,$4C,$5E,$5E,$5A,$5A,$52,$52
        .byte $50,$4C,$50,$4C,$02,$46,$02,$02
        .byte $02,$42,$50,$50,$50,$4C,$54,$4C
        .byte $02,$4C,$9F,$7D,$F1,$02,$02,$64
        .byte $7C,$02,$02,$9F,$11,$F1,$4C,$48
        .byte $46,$4C,$02,$4C,$02,$02,$02,$02
        .byte $42,$4C,$02,$4C,$02,$02,$02,$02
        .byte $3E,$4C,$02,$4C,$02,$02,$02,$42
        .byte $3C,$4C,$02,$4C,$02,$02,$02,$02
        .byte $46,$4C,$02,$4C,$9F,$7D,$F1,$02
        .byte $74,$72,$74,$9F,$11,$F1,$42,$4C
        .byte $02,$4C,$02,$02,$02,$02,$3E,$4C
        .byte $02,$4C,$02,$02,$02,$42,$B4,$02
        .byte $00,$B1,$2E,$02,$2A,$02,$24,$22
        .byte $20,$1C,$20,$1C,$02,$1C,$02,$02
        .byte $02,$1C,$20,$20,$20,$1C,$24,$1C
        .byte $02,$1C,$9F,$1C,$F1,$02,$7C,$64
        .byte $02,$7C,$02,$9F,$B1,$F1,$1C,$1C
        .byte $2E,$2E,$2A,$2A,$22,$22,$20,$1C
        .byte $20,$1C,$02,$16,$02,$02,$02,$12
        .byte $20,$20,$20,$1C,$24,$1C,$02,$1C
        .byte $9F,$1C,$F1,$02,$02,$64,$7C,$02
        .byte $02,$9F,$B1,$F1,$1C,$18,$16,$1C
        .byte $02,$1C,$02,$02,$02,$02,$12,$1C
        .byte $02,$1C,$02,$02,$02,$02,$0E,$1C
        .byte $02,$1C,$02,$02,$02,$12,$0C,$1C
        .byte $02,$1C,$02,$02,$02,$02,$16,$1C
        .byte $02,$1C,$9F,$1C,$F1,$02,$74,$72
        .byte $74,$9F,$B1,$F1,$12,$1C,$02,$1C
        .byte $02,$02,$02,$02,$0E,$1C,$02,$1C
        .byte $02,$02,$02,$12,$B4,$02,$00,$9F   ; EF00
        .byte $7D,$F1,$00,$9F,$1C,$F1,$C2,$B4
        .byte $02,$B1,$7C,$64,$02,$7C,$02,$02
        .byte $02,$02,$B4,$02,$B1,$02,$7C,$64
        .byte $02,$7C,$02,$02,$02,$FF,$C3,$B3
        .byte $02,$B1,$02,$76,$72,$02,$FF,$B3
        .byte $02,$B1,$02,$02,$7C,$02,$FF,$C3
        .byte $B3,$02,$B1,$02,$76,$72,$02,$FF
        .byte $B1,$74,$74,$74,$74,$B3,$02,$00
        .byte $9F,$00,$00,$C2,$B5,$34,$B1,$3A
        .byte $3C,$42,$46,$02,$B5,$26,$B1,$2C
        .byte $2E,$34,$38,$02,$B5,$2A,$B1,$30
        .byte $32,$38,$3C,$02,$B5,$34,$B1,$3A
        .byte $3C,$42,$46,$02,$FF,$B5,$26,$B1
        .byte $2C,$2E,$02,$34,$02,$B5,$24,$B1
        .byte $28,$2A,$02,$34,$02,$B5,$20,$B1
        .byte $26,$2E,$02,$34,$02,$B5,$1C,$B1
        .byte $22,$24,$02,$34,$02,$B5,$26,$B1
        .byte $2C,$2E,$02,$34,$02,$B5,$24,$B1
        .byte $28,$2A,$02,$34,$02,$B5,$20,$B1
        .byte $26,$2E,$02,$34,$02,$2A,$2A,$2A
        .byte $2A,$02,$02,$02,$02,$00,$C4,$B1
        .byte $44,$04,$20,$20,$04,$04,$60,$04
        .byte $44,$04,$20,$20,$04,$60,$60,$04
        .byte $FF,$C3,$44,$04,$04,$44,$44,$04
        .byte $60,$04,$FF,$44,$04,$04,$44,$44
        .byte $60,$20,$01,$C3,$44,$04,$04,$44
        .byte $44,$04,$60,$04,$FF,$60,$44,$44
        .byte $44,$01,$20,$60,$01,$00,$16,$F0
        .byte $3B,$F0,$3B,$F0,$8F,$F0,$FF,$FF
        .byte $E8,$EF,$20,$F0,$65,$F0,$65,$F0
        .byte $9E,$F0,$FF,$FF,$F4,$EF,$2A,$F0

        .byte $AD,$F0,$AD,$F0,$19,$F1,$FF,$FF   ; F000
        .byte $00,$F0,$34,$F0,$E7,$F0,$E7,$F0
        .byte $3A,$F1,$FF,$FF,$0C,$F0,$9F,$1A
        .byte $F1,$B0,$38,$38,$38,$38,$02,$00
        .byte $9F,$1A,$F1,$B0,$42,$42,$42,$42
        .byte $02,$00,$9F,$10,$00,$B0,$2E,$2E
        .byte $2E,$2E,$02,$00,$B0,$07,$07,$07
        .byte $07,$01,$00,$9F,$11,$B0,$B2,$50
        .byte $B6,$02,$B9,$4C,$02,$02,$4C,$54
        .byte $5A,$B2,$58,$5E,$9F,$0B,$B0,$B9
        .byte $38,$02,$02,$38,$02,$20,$38,$02
        .byte $20,$38,$02,$20,$B2,$48,$4C,$46
        .byte $9F,$13,$B0,$28,$00,$9F,$13,$B0
        .byte $B2,$42,$B6,$02,$B9,$3C,$02,$02
        .byte $3C,$42,$4C,$B2,$46,$50,$9F,$0C
        .byte $B0,$B9,$42,$02,$02,$08,$02,$08
        .byte $08,$02,$08,$08,$02,$08,$B2,$3C
        .byte $42,$40,$9F,$0F,$B0,$10,$00,$9F
        .byte $11,$B0,$B4,$5A,$62,$5A,$9F,$13
        .byte $B0,$B6,$02,$B2,$1C,$00,$9F,$13
        .byte $B0,$B4,$50,$5A,$50,$9F,$13,$B0
        .byte $B6,$02,$B2,$0E,$00,$9F,$12,$00
        .byte $B8,$62,$9F,$A0,$00,$B9,$68,$6A
        .byte $68,$6A,$02,$68,$6A,$68,$6A,$68
        .byte $5A,$02,$02,$5A,$64,$54,$50,$02
        .byte $02,$B2,$58,$9F,$00,$00,$B9,$62
        .byte $02,$38,$50,$02,$38,$50,$02,$38
        .byte $50,$02,$38,$34,$02,$34,$3A,$02
        .byte $3A,$38,$02,$02,$B2,$28,$00,$B9
        .byte $60,$01,$07,$20,$01,$20,$04,$01
        .byte $07,$04,$01,$60,$60,$01,$07,$20
        .byte $01,$20,$04,$01,$07,$04,$01,$60
        .byte $60,$01,$07,$20,$01,$20,$04,$01   ; F100
        .byte $07,$04,$01,$20,$20,$01,$60,$20
        .byte $01,$60,$20,$01,$04,$41,$01,$01
        .byte $00,$9F,$00,$00,$C3,$B8,$32,$B9
        .byte $34,$B9,$32,$02,$34,$B9,$32,$02
        .byte $34,$B9,$32,$02,$34,$FF,$B8,$32
        .byte $B9,$34,$B9,$32,$02,$34,$B2,$02
        .byte $26,$00,$B9,$41,$01,$07,$04,$01
        .byte $20,$60,$01,$07,$04,$01,$60,$60
        .byte $01,$07,$04,$01,$20,$44,$01,$07
        .byte $04,$01,$01,$41,$01,$07,$04,$01
        .byte $20,$60,$01,$07,$04,$01,$60,$60
        .byte $01,$07,$04,$01,$20,$60,$01,$07
        .byte $44,$01,$01,$00,$94,$F1,$9D,$F1
        .byte $FF,$FF,$76,$F1,$9A,$F1,$DE,$F1
        .byte $1A,$F2,$DE,$F1,$30,$F2,$44,$F2
        .byte $FF,$FF,$76,$F1,$CC,$F2,$E4,$F2
        .byte $FF,$FF,$86,$F1,$B9,$F3,$C7,$F3
        .byte $FF,$FF,$8E,$F1,$9F,$77,$32,$BD
        .byte $02,$00,$9F,$2D,$F4,$B2,$62,$62
        .byte $62,$02,$B7,$02,$B0,$64,$B7,$02
        .byte $B0,$64,$B7,$68,$B0,$68,$B2,$68
        .byte $B2,$62,$64,$62,$02,$B7,$02,$B0
        .byte $64,$B7,$02,$B0,$64,$B7,$68,$B0
        .byte $68,$B2,$68,$B2,$62,$62,$5A,$02
        .byte $B7,$02,$B0,$64,$B7,$02,$B0,$64
        .byte $B7,$68,$B0,$68,$B2,$68,$B2,$62
        .byte $64,$62,$02,$B4,$02,$00,$B2,$62
        .byte $B7,$68,$B0,$5A,$B2,$02,$02,$B7
        .byte $02,$B0,$6C,$B7,$02,$B0,$6C,$B7
        .byte $68,$B0,$64,$B7,$62,$B0,$5E,$B2
        .byte $62,$B7,$68,$B0,$5A,$B2,$02,$02
        .byte $B7,$02,$B0,$5A,$B7,$02,$B0,$5A   ; F200
        .byte $B7,$58,$B0,$5A,$B7,$5E,$B0,$5A
        .byte $B2,$62,$B7,$68,$B0,$5A,$B2,$02
        .byte $02,$00,$B7,$02,$B0,$5A,$B7,$02
        .byte $B0,$6C,$B7,$68,$B0,$64,$B7,$62
        .byte $B0,$5E,$B3,$5A,$02,$B4,$02,$00
        .byte $B7,$02,$B0,$5A,$B7,$02,$B0,$5A
        .byte $B7,$58,$B0,$5A,$B7,$5E,$B0,$58
        .byte $B4,$5A,$02,$00,$B7,$02,$B0,$72
        .byte $B2,$02,$B2,$6C,$64,$B2,$64,$B7
        .byte $68,$B0,$6C,$B2,$02,$02,$B7,$02
        .byte $B0,$62,$B2,$02,$B2,$62,$64,$B2
        .byte $68,$B6,$02,$B7,$02,$B0,$72,$B2
        .byte $02,$B2,$6C,$64,$B2,$64,$B7,$68
        .byte $B0,$6C,$B2,$02,$02,$B8,$68,$68
        .byte $68,$68,$68,$68,$B3,$68,$02,$B2
        .byte $62,$B7,$68,$B0,$72,$B2,$02,$02
        .byte $B7,$02,$B0,$5E,$B7,$02,$B0,$5A
        .byte $B7,$5E,$B0,$62,$B7,$64,$B0,$68
        .byte $B2,$62,$B7,$5A,$B0,$50,$B3,$02
        .byte $B7,$02,$B0,$5E,$B7,$02,$B0,$5A
        .byte $B7,$5E,$B0,$62,$B7,$64,$B0,$68
        .byte $B2,$62,$68,$5A,$02,$B7,$02,$B0
        .byte $5A,$B7,$02,$B0,$5A,$B7,$58,$B0
        .byte $5A,$B7,$5E,$B0,$58,$B6,$5A,$B2
        .byte $02,$B4,$02,$00,$9F,$00,$00,$C7
        .byte $B4,$02,$FF,$B7,$02,$B0,$50,$B7
        .byte $4C,$B0,$02,$B7,$4A,$B0,$02,$B7
        .byte $46,$B0,$02,$00,$C3,$B2,$42,$4A
        .byte $3C,$42,$B7,$34,$B0,$34,$B2,$3C
        .byte $B2,$38,$40,$FF,$42,$32,$3C,$30
        .byte $2E,$3A,$38,$2C,$B7,$2A,$B0,$2A
        .byte $B2,$42,$3C,$42,$B7,$34,$B0,$34   ; F300
        .byte $B2,$3C,$B2,$38,$40,$B2,$42,$4A
        .byte $3C,$42,$B7,$34,$B0,$34,$B2,$3C
        .byte $B2,$38,$40,$42,$38,$32,$2A,$34
        .byte $3C,$38,$28,$2A,$B7,$2A,$B0,$42
        .byte $B2,$2E,$B7,$2E,$B0,$42,$B2,$30
        .byte $B7,$30,$B0,$42,$B2,$32,$32,$34
        .byte $3C,$B7,$42,$B0,$34,$B7,$46,$B0
        .byte $34,$B7,$48,$B0,$34,$B7,$46,$B0
        .byte $34,$B7,$42,$B0,$34,$B7,$3C,$B0
        .byte $34,$B2,$2A,$32,$B7,$38,$B0,$2A
        .byte $B7,$3C,$B0,$2A,$B7,$3E,$B0,$2A
        .byte $B7,$3C,$B0,$2A,$B7,$38,$B0,$2A
        .byte $B7,$32,$B0,$2A,$B7,$34,$B0,$34
        .byte $B2,$3C,$B7,$42,$B0,$34,$B7,$46
        .byte $B0,$34,$B7,$48,$B0,$34,$B7,$46
        .byte $B0,$34,$B7,$42,$B0,$34,$B7,$3C
        .byte $B0,$34,$B7,$38,$B0,$38,$B2,$40
        .byte $46,$40,$9F,$A0,$00,$B6,$48,$B2
        .byte $02,$9F,$00,$00,$C3,$B2,$42,$4A
        .byte $3C,$42,$B7,$34,$B0,$34,$B2,$3C
        .byte $B2,$38,$40,$FF,$3E,$3E,$3E,$3E
        .byte $C3,$B9,$34,$34,$34,$FF,$B2,$34
        .byte $00,$CF,$B2,$01,$07,$FF,$B7,$01
        .byte $B0,$41,$B7,$84,$B0,$01,$00,$C7
        .byte $B2,$04,$B7,$60,$B0,$60,$B2,$04
        .byte $B7,$20,$B0,$01,$FF,$B7,$01,$B0
        .byte $20,$B7,$44,$B0,$01,$BC,$60,$60
        .byte $B9,$60,$60,$60,$20,$20,$B2,$44
        .byte $B7,$60,$B0,$60,$B7,$01,$B0,$01
        .byte $B7,$20,$B0,$07,$B7,$04,$B0,$01
        .byte $B7,$60,$B0,$60,$B7,$04,$B0,$84

        .byte $B7,$44,$B0,$41,$C3,$B2,$04,$B7   ; F400
        .byte $60,$B0,$60,$B7,$01,$B0,$01,$B7
        .byte $20,$B0,$07,$B7,$04,$B0,$01,$B7
        .byte $60,$B0,$60,$B7,$04,$B0,$84,$B7
        .byte $44,$B0,$41,$FF,$C6,$B7,$04,$B0
        .byte $04,$B7,$44,$B0,$04,$B7,$04,$B0
        .byte $07,$B7,$44,$B0,$84,$FF,$B8,$60
        .byte $60,$60,$41,$41,$41,$B0,$60,$C7
        .byte $20,$FF,$C6,$BC,$20,$20,$FF,$C3
        .byte $B2,$04,$B7,$60,$B0,$60,$B2,$04
        .byte $B7,$20,$B0,$41,$B2,$04,$B7,$60
        .byte $B0,$60,$B2,$04,$B7,$20,$B0,$07
        .byte $FF,$B2,$04,$B7,$60,$B0,$60,$B2
        .byte $04,$B7,$20,$B0,$07,$B9,$41,$41
        .byte $41,$81,$81,$81,$20,$20,$20,$60
        .byte $01,$01,$00,$AD,$F4,$00,$F5,$66
        .byte $F5,$07,$F5,$6E,$F5,$07,$F5,$7F
        .byte $F5,$00,$00,$C5,$F4,$2A,$F5,$6A
        .byte $F5,$2D,$F5,$72,$F5,$2D,$F5,$76
        .byte $F5,$DD,$F4,$50,$F5,$88,$F5,$FF
        .byte $FF,$9D,$F4,$F5,$F4,$8D,$F5,$D5
        .byte $F5,$FF,$FF,$A7,$F4,$9F,$11,$F3
        .byte $BD,$52,$54,$56,$58,$5A,$5C,$5E
        .byte $60,$62,$9F,$B4,$F7,$B0,$52,$02
        .byte $B2,$3C,$B3,$3E,$00,$9F,$11,$F7
        .byte $BD,$58,$5A,$5C,$5E,$60,$62,$64
        .byte $66,$68,$9F,$B4,$F8,$B0,$78,$02
        .byte $B2,$4A,$B3,$4C,$00,$9F,$0F,$00
        .byte $BD,$62,$64,$66,$68,$6A,$6C,$6E
        .byte $70,$72,$9F,$A0,$00,$B0,$5A,$02
        .byte $B2,$5C,$B3,$5E,$00,$C9,$BD,$04
        .byte $FF,$01,$B0,$07,$01,$B6,$07,$00
        .byte $9F,$BA,$B1,$C4,$BD,$02,$FF,$C2   ; F500
        .byte $B8,$80,$B9,$72,$B8,$72,$B9,$72
        .byte $B8,$68,$B9,$72,$B8,$68,$B9,$72
        .byte $B8,$7C,$B9,$72,$B8,$68,$B9,$72
        .byte $B8,$68,$B9,$72,$B8,$68,$B9,$72
        .byte $FF,$00,$9F,$0B,$B1,$C2,$B8,$68
        .byte $B9,$5A,$B8,$5A,$B9,$5A,$B8,$50
        .byte $B9,$5A,$B8,$50,$B9,$5A,$B8,$64
        .byte $B9,$5A,$B8,$50,$B9,$5A,$B8,$50
        .byte $B9,$5A,$B8,$50,$B9,$5A,$FF,$00
        .byte $9F,$12,$00,$B2,$7A,$9F,$A0,$00
        .byte $B2,$2A,$02,$02,$9F,$12,$00,$B4
        .byte $80,$7A,$B3,$80,$02,$00,$9F,$1F
        .byte $B1,$00,$9F,$1E,$B1,$00,$9F,$03
        .byte $B1,$00,$9F,$1F,$B1,$00,$9F,$0D
        .byte $B3,$C2,$B1,$72,$02,$FF,$00,$9F
        .byte $0D,$B3,$B1,$72,$02,$70,$02,$00
        .byte $C5,$B4,$02,$FF,$00,$B9,$07,$01
        .byte $04,$44,$01,$04,$60,$01,$20,$01
        .byte $01,$04,$C2,$07,$01,$04,$04,$01
        .byte $04,$FF,$07,$01,$04,$41,$01,$04
        .byte $60,$01,$20,$01,$01,$07,$04,$01
        .byte $07,$04,$01,$04,$07,$01,$04,$44
        .byte $01,$01,$00,$B9,$07,$01,$04,$04
        .byte $01,$60,$44,$01,$04,$04,$01,$20
        .byte $60,$01,$04,$07,$01,$04,$60,$01
        .byte $20,$44,$01,$01,$00,$B9,$04,$01
        .byte $07,$04,$01,$60,$44,$01,$04,$60
        .byte $01,$20,$C4,$04,$01,$04,$04,$04
        .byte $01,$FF,$00,$AD,$F4,$FD,$F5,$00
        .byte $00,$C5,$F4,$24,$F6,$DD,$F4,$48
        .byte $F6,$F5,$F4,$5E,$F6,$9F,$0B,$B1
        .byte $C4,$B2,$0E,$0A,$0E,$1A,$FF,$9F   ; F600
        .byte $0B,$31,$C4,$B1,$0E,$0E,$0E,$0E
        .byte $0E,$0E,$0E,$10,$FF,$C4,$B1,$16
        .byte $16,$16,$16,$16,$16,$16,$18,$FF
        .byte $BD,$02,$02,$00,$9F,$06,$34,$C4
        .byte $B2,$0E,$0A,$0E,$1A,$FF,$9F,$07
        .byte $31,$C4,$B1,$1C,$1C,$1C,$1C,$1C
        .byte $1C,$1C,$1E,$FF,$C4,$B1,$24,$24
        .byte $24,$24,$24,$24,$24,$26,$FF,$00
        .byte $9F,$A0,$00,$C8,$B2,$26,$22,$26
        .byte $32,$FF,$C4,$B1,$2E,$46,$24,$3C
        .byte $2E,$46,$30,$48,$FF,$00,$E0,$B2
        .byte $44,$07,$44,$07,$44,$07,$FF,$00
        .byte $6E,$F6,$FF,$FF,$68,$F6,$B4,$02
        .byte $02,$02,$02,$00,$AA,$F6,$94,$F7
        .byte $EE,$F7,$0D,$F7,$0D,$F7,$F1,$F6
        .byte $F1,$F6,$00,$00,$C0,$F6,$C0,$F7
        .byte $18,$F8,$4B,$F7,$4B,$F7,$FF,$F6
        .byte $FF,$F6,$D6,$F6,$E6,$F7,$3F,$F8
        .byte $89,$F7,$FF,$FF,$98,$F6,$E5,$F6
        .byte $EA,$F7,$67,$F8,$8E,$F7,$FF,$FF
        .byte $A4,$F6,$9F,$05,$B1,$BA,$08,$02
        .byte $40,$B7,$02,$9F,$85,$B1,$BC,$02
        .byte $2C,$BC,$02,$28,$BC,$02,$30,$00
        .byte $9F,$05,$B1,$BA,$0C,$02,$46,$B7
        .byte $02,$9F,$85,$B1,$BC,$02,$2E,$BC
        .byte $02,$2A,$BC,$02,$32,$00,$9F,$13
        .byte $00,$BA,$2A,$02,$62,$B7,$02,$C3
        .byte $BC,$02,$20,$FF,$00,$BA,$41,$01
        .byte $0A,$B7,$01,$C3,$BC,$01,$0A,$FF
        .byte $00,$9F,$63,$F1,$C2,$B7,$6E,$B0
        .byte $6C,$B7,$6A,$B0,$64,$FF,$00,$9F
        .byte $1F,$F1,$C2,$B7,$6E,$B0,$6C,$B7   ; F700
        .byte $6A,$B0,$64,$FF,$00,$9F,$63,$F1
        .byte $C2,$B7,$6E,$B0,$6C,$B7,$6A,$B0
        .byte $64,$FF,$9F,$7F,$F1,$C2,$B7,$6E
        .byte $B0,$6C,$B7,$6A,$B0,$64,$FF,$9F
        .byte $7E,$F1,$C2,$B7,$6E,$B0,$6C,$B7
        .byte $6A,$B0,$64,$FF,$9F,$7D,$F1,$B7
        .byte $6E,$B0,$6C,$B7,$6A,$B0,$64,$9F
        .byte $7C,$F1,$B7,$6E,$B0,$6C,$B7,$6A
        .byte $B0,$64,$00,$9F,$03,$F1,$C2,$B7
        .byte $6E,$B0,$6C,$B7,$6A,$B0,$64,$FF
        .byte $9F,$1F,$F1,$C2,$B7,$6E,$B0,$6C
        .byte $B7,$6A,$B0,$64,$FF,$9F,$1E,$F1
        .byte $C2,$B7,$6E,$B0,$6C,$B7,$6A,$B0
        .byte $64,$FF,$9F,$1D,$F1,$B7,$6E,$B0
        .byte $6C,$B7,$6A,$B0,$64,$9F,$1C,$F1
        .byte $B7,$6E,$B0,$6C,$B7,$6A,$B0,$64
        .byte $00,$B4,$02,$02,$02,$00,$B4,$01
        .byte $01,$01,$01,$00,$9E,$28,$9C,$00
        .byte $BA,$02,$9F,$63,$F1,$C2,$B0,$6E
        .byte $6C,$6A,$64,$FF,$9F,$7F,$F1,$C2
        .byte $6E,$6C,$6A,$64,$FF,$9F,$7E,$F1
        .byte $C2,$6E,$6C,$6A,$64,$FF,$9F,$7D
        .byte $F1,$C2,$6E,$6C,$6A,$64,$FF,$00
        .byte $9F,$03,$F1,$C2,$B0,$6E,$6C,$6A
        .byte $64,$FF,$9F,$1F,$F1,$C2,$6E,$6C
        .byte $6A,$64,$FF,$9F,$1E,$F1,$C2,$6E
        .byte $6C,$6A,$64,$FF,$9F,$1D,$F1,$C2
        .byte $6E,$6C,$6A,$64,$FF,$00,$B4,$02
        .byte $02,$00,$B4,$01,$01,$00,$9F,$1E
        .byte $B1,$B0,$12,$10,$02,$0E,$02,$0C
        .byte $02,$0A,$02,$08,$12,$10,$02,$0E

        .byte $02,$0C,$02,$0A,$02,$08,$B2,$14   ; F800
        .byte $B0,$2A,$B8,$02,$9F,$8A,$31,$B6
        .byte $72,$B8,$02,$9E,$0C,$9C,$06,$00
        .byte $9F,$1D,$31,$B0,$12,$10,$02,$0E
        .byte $02,$0C,$02,$0A,$02,$08,$12,$10
        .byte $02,$0E,$02,$0C,$02,$0A,$02,$08
        .byte $B2,$14,$B0,$12,$B8,$02,$9F,$8A
        .byte $31,$BA,$02,$02,$B6,$74,$00,$9F
        .byte $00,$00,$B0,$2A,$28,$02,$26,$02
        .byte $24,$02,$22,$02,$20,$2A,$28,$02
        .byte $26,$02,$24,$02,$22,$02,$20,$B2
        .byte $2C,$B0,$2A,$B8,$02,$9F,$80,$00
        .byte $BA,$02,$02,$02,$B4,$5A,$00,$B1
        .byte $44,$04,$84,$04,$44,$04,$84,$04
        .byte $44,$04,$B0,$81,$81,$B1,$01,$B0
        .byte $41,$B8,$01,$BA,$01,$01,$01,$B4
        .byte $41,$00,$02,$F9,$49,$F9,$6E,$F9
        .byte $75,$F9,$3A,$F9,$75,$F9,$49,$F9
        .byte $6E,$F9,$75,$F9,$3A,$F9,$75,$F9
        .byte $49,$F9,$75,$F9,$75,$F9,$FF,$FF
        .byte $98,$F8,$0F,$F9,$9A,$F9,$BB,$F9
        .byte $C2,$F9,$D0,$F9,$D7,$F9,$9A,$F9
        .byte $BB,$F9,$C2,$F9,$D0,$F9,$D7,$F9
        .byte $9A,$F9,$C2,$F9,$D7,$F9,$FF,$FF
        .byte $B8,$F8,$2C,$F9,$E3,$F9,$F2,$F9
        .byte $F6,$F9,$41,$F9,$F6,$F9,$E3,$F9
        .byte $F2,$F9,$F6,$F9,$41,$F9,$1F,$FA
        .byte $E3,$F9,$F6,$F9,$1F,$FA,$FF,$FF
        .byte $D8,$F8,$33,$F9,$03,$FA,$0F,$FA
        .byte $13,$FA,$45,$F9,$13,$FA,$03,$FA
        .byte $0F,$FA,$13,$FA,$45,$F9,$37,$FA
        .byte $03,$FA,$13,$FA,$37,$FA,$FF,$FF
        .byte $F8,$F8,$9F,$7A,$F2,$C5,$B1,$72   ; F900
        .byte $70,$68,$64,$FF,$B6,$02,$00,$9F
        .byte $BE,$F1,$B1,$72,$70,$68,$64,$9F
        .byte $BC,$F1,$B1,$72,$70,$68,$64,$9F
        .byte $B4,$F1,$C3,$B1,$72,$70,$68,$64
        .byte $FF,$B6,$02,$00,$C5,$B3,$02,$FF
        .byte $B6,$02,$00,$C5,$B3,$01,$FF,$B6
        .byte $01,$00,$9F,$B7,$B1,$B9,$02,$74
        .byte $00,$B9,$02,$02,$00,$B9,$01,$04
        .byte $00,$9F,$B7,$B1,$B1,$68,$50,$5A
        .byte $50,$5E,$50,$58,$5A,$68,$50,$5A
        .byte $50,$5E,$50,$62,$5A,$5A,$50,$5E
        .byte $50,$68,$50,$5A,$50,$5A,$48,$4C
        .byte $50,$4C,$42,$4C,$3A,$00,$9F,$B7
        .byte $B1,$B9,$66,$6A,$00,$9F,$B7,$B1
        .byte $B1,$5A,$50,$4A,$42,$38,$42,$4A
        .byte $50,$58,$50,$46,$40,$38,$40,$46
        .byte $50,$5A,$54,$4C,$42,$3C,$42,$4C
        .byte $54,$5A,$52,$4C,$42,$52,$42,$4C
        .byte $52,$00,$9F,$B6,$B2,$B1,$62,$64
        .byte $68,$6C,$B3,$68,$B1,$5A,$5E,$62
        .byte $64,$B3,$62,$B1,$54,$5A,$B2,$5A
        .byte $B1,$50,$5A,$B2,$5A,$B3,$4C,$B2
        .byte $4A,$50,$00,$9F,$B7,$B2,$B9,$68
        .byte $6C,$00,$9F,$B6,$F4,$B4,$62,$B3
        .byte $5E,$B2,$5A,$58,$B4,$5A,$4C,$00
        .byte $9F,$B7,$B1,$B9,$02,$76,$00,$9F
        .byte $B6,$F4,$B4,$62,$B3,$5E,$68,$B4
        .byte $72,$76,$00,$9F,$A0,$00,$B3,$5A
        .byte $58,$54,$50,$4C,$4A,$48,$B2,$46
        .byte $44,$00,$B9,$02,$02,$00,$9F,$A0
        .byte $00,$C3,$B3,$2A,$42,$FF,$2A,$B2
        .byte $42,$2A,$00,$C3,$B2,$44,$04,$81   ; FA00
        .byte $04,$FF,$44,$01,$41,$44,$00,$B9
        .byte $04,$04,$00,$C3,$B2,$44,$04,$81
        .byte $04,$FF,$44,$01,$41,$44,$00,$B3
        .byte $2A,$42,$2A,$42,$4A,$4C,$B8,$3A
        .byte $38,$34,$BB,$02,$B8,$30,$9F,$00
        .byte $00,$B8,$2E,$2A,$BB,$02,$00,$C3
        .byte $B1,$41,$01,$04,$04,$81,$04,$07
        .byte $01,$FF,$B8,$44,$04,$07,$BB,$01
        .byte $B8,$41,$41,$81,$BB,$01,$00,$69
        .byte $FA,$81,$FA,$99,$FA,$FF,$FF,$53
        .byte $FA,$72,$FA,$C4,$FA,$FF,$FF,$5B
        .byte $FA,$89,$FA,$EB,$FA,$FF,$FF,$63
        .byte $FA,$9F,$72,$B1,$C2,$B7,$7A,$72
        .byte $FF,$00,$9F,$1E,$B1,$B7,$7A,$72
        .byte $9F,$1C,$B1,$B7,$7A,$72,$9F,$17
        .byte $B1,$C3,$B7,$7A,$72,$FF,$B3,$02
        .byte $00,$C5,$B7,$02,$02,$FF,$B3,$02
        .byte $00,$C5,$B7,$01,$01,$FF,$B3,$01
        .byte $00,$9F,$19,$B1,$B1,$68,$50,$5A
        .byte $50,$5E,$50,$58,$5A,$68,$50,$5A
        .byte $50,$5E,$50,$62,$5A,$5A,$50,$54
        .byte $50,$68,$50,$62,$50,$5A,$48,$4C
        .byte $50,$4C,$42,$4C,$3A,$9F,$B6,$B1
        .byte $B9,$02,$82,$00,$9F,$08,$B0,$B1
        .byte $62,$64,$68,$6C,$B3,$68,$B1,$5A
        .byte $5E,$62,$64,$B3,$62,$B1,$54,$5A
        .byte $B2,$5A,$B1,$50,$5A,$B2,$5A,$B3
        .byte $4C,$B2,$4A,$50,$9F,$B6,$B2,$B9
        .byte $02,$84,$00,$9F,$12,$00,$B3,$72
        .byte $70,$6C,$68,$64,$62,$60,$B2,$5E
        .byte $5C,$B9,$02,$02,$00,$00,$00,$00

        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF   ; FB00 FF FF FF FF FF FF FF FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF   ; FB08 FF FF FF FF FF FF FF FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF   ; FB10 FF FF FF FF FF FF FF FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF   ; FB18 FF FF FF FF FF FF FF FF
        .byte $00,$00,$00,$00,$00,$00,$00,$00   ; FB20 00 00 00 00 00 00 00 00
        .byte $00,$00,$00,$00,$00,$00,$00,$00   ; FB28 00 00 00 00 00 00 00 00
        .byte $00,$00,$00,$00,$00,$00,$00,$00   ; FB30 00 00 00 00 00 00 00 00
        .byte $00,$00,$00,$00,$00,$00,$00,$00   ; FB38 00 00 00 00 00 00 00 00
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF   ; FB40 FF FF FF FF FF FF FF FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF   ; FB48 FF FF FF FF FF FF FF FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF   ; FB50 FF FF FF FF FF FF FF FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF   ; FB58 FF FF FF FF FF FF FF FF
        .byte $00,$00,$00,$00,$00,$00,$00,$00   ; FB60 00 00 00 00 00 00 00 00
        .byte $00,$00,$00,$00,$00,$00,$00,$00   ; FB68 00 00 00 00 00 00 00 00
        .byte $00,$00,$00,$00,$00,$00,$00,$00   ; FB70 00 00 00 00 00 00 00 00
        .byte $00,$00,$00,$00,$00,$00,$00,$00   ; FB78 00 00 00 00 00 00 00 00
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF   ; FB80 FF FF FF FF FF FF FF FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF   ; FB88 FF FF FF FF FF FF FF FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF   ; FB90 FF FF FF FF FF FF FF FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF   ; FB98 FF FF FF FF FF FF FF FF
        .byte $00,$00,$00,$00,$00,$00,$00,$00   ; FBA0 00 00 00 00 00 00 00 00
        .byte $00,$00,$00,$00,$00,$00,$00,$00   ; FBA8 00 00 00 00 00 00 00 00
        .byte $00,$00,$00,$00,$00,$00,$00,$00   ; FBB0 00 00 00 00 00 00 00 00
        .byte $00,$00,$00,$00,$00,$00,$00,$00   ; FBB8 00 00 00 00 00 00 00 00
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF   ; FBC0 FF FF FF FF FF FF FF FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF   ; FBC8 FF FF FF FF FF FF FF FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF   ; FBD0 FF FF FF FF FF FF FF FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF   ; FBD8 FF FF FF FF FF FF FF FF
        .byte $00,$00,$00,$00,$00,$00,$00,$00   ; FBE0 00 00 00 00 00 00 00 00
        .byte $00,$00,$00,$00,$00,$00,$00,$00   ; FBE8 00 00 00 00 00 00 00 00
        .byte $00,$00,$00,$00,$00,$00,$00,$00   ; FBF0 00 00 00 00 00 00 00 00
        .byte $00,$00,$00,$00,$00,$00,$81,$08   ; FBF8 00 00 00 00 00 00 81 08
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF   ; FC00 FF FF FF FF FF FF FF FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF   ; FC08 FF FF FF FF FF FF FF FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF   ; FC10 FF FF FF FF FF FF FF FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF   ; FC18 FF FF FF FF FF FF FF FF
        .byte $00,$00,$00,$00,$00,$00,$00,$00   ; FC20 00 00 00 00 00 00 00 00
        .byte $00,$00,$00,$00,$00,$00,$00,$00   ; FC28 00 00 00 00 00 00 00 00
        .byte $00,$00,$00,$00,$00,$00,$00,$00   ; FC30 00 00 00 00 00 00 00 00
        .byte $00,$00,$00,$00,$00,$00,$00,$00   ; FC38 00 00 00 00 00 00 00 00
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF   ; FC40 FF FF FF FF FF FF FF FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF   ; FC48 FF FF FF FF FF FF FF FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF   ; FC50 FF FF FF FF FF FF FF FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF   ; FC58 FF FF FF FF FF FF FF FF
        .byte $00,$00,$00,$00,$00,$00,$00,$00   ; FC60 00 00 00 00 00 00 00 00
        .byte $00,$00,$00,$00,$00,$00,$00,$00   ; FC68 00 00 00 00 00 00 00 00
        .byte $00,$00,$00,$00,$00,$00,$00,$00   ; FC70 00 00 00 00 00 00 00 00
        .byte $00,$00,$00,$00,$00,$00,$00,$00   ; FC78 00 00 00 00 00 00 00 00
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF   ; FC80 FF FF FF FF FF FF FF FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF   ; FC88 FF FF FF FF FF FF FF FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF   ; FC90 FF FF FF FF FF FF FF FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF   ; FC98 FF FF FF FF FF FF FF FF
        .byte $00,$00,$00,$00,$00,$00,$00,$00   ; FCA0 00 00 00 00 00 00 00 00
        .byte $00,$00,$00,$00,$00,$00,$00,$00   ; FCA8 00 00 00 00 00 00 00 00
        .byte $00,$00,$00,$00,$00,$00,$00,$00   ; FCB0 00 00 00 00 00 00 00 00
        .byte $00,$00,$00,$00,$00,$00,$00,$00   ; FCB8 00 00 00 00 00 00 00 00
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF   ; FCC0 FF FF FF FF FF FF FF FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF   ; FCC8 FF FF FF FF FF FF FF FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF   ; FCD0 FF FF FF FF FF FF FF FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF   ; FCD8 FF FF FF FF FF FF FF FF
        .byte $00,$00,$00,$00,$00,$00,$00,$00   ; FCE0 00 00 00 00 00 00 00 00
        .byte $00,$00,$00,$00,$00,$00,$00,$00   ; FCE8 00 00 00 00 00 00 00 00
        .byte $00,$00,$00,$00,$00,$00,$00,$00   ; FCF0 00 00 00 00 00 00 00 00
        .byte $00,$00,$00,$00,$00,$00,$00,$00   ; FCF8 00 00 00 00 00 00 00 00

; ----------------------------------------------------------------------------
; APU audio sample 1, 112 bytes
LFD00:  .byte $74,$FF,$FF,$03,$24,$01,$82,$54
        .byte $01,$10,$FF,$FF,$FF,$FF,$0F,$00
        .byte $00,$B0,$FF,$7F,$09,$00,$00,$B8
        .byte $FF,$FF,$0F,$00,$E0,$FF,$FF,$02
        .byte $01,$00,$C0,$FF,$FF,$FF,$01,$00
        .byte $00,$FE,$FF,$FF,$01,$00,$C0,$FE
        .byte $5F,$02,$00,$FC,$FF,$FF,$FF,$00
        .byte $00,$00,$E0,$FF,$FF,$07,$00,$00
        .byte $FF,$FF,$1F,$00,$00,$F4,$FF,$FF
        .byte $03,$00,$00,$FC,$FF,$FF,$1F,$00
        .byte $00,$E0,$FF,$FF,$03,$00,$80,$FF
        .byte $FF,$3F,$00,$00,$F0,$FF,$FF,$0F
        .byte $00,$00,$80,$FF,$FF,$7F,$00,$00
        .byte $FE,$FF,$02,$00,$00,$F8,$FF,$FF

        .byte $3F,$01,$00,$C0,$FF,$FF,$3F,$00
        .byte $00,$C0,$FF,$BF,$04,$25,$A9,$FF

; ----------------------------------------------------------------------------
; APU audio sample 2, 240 bytes
LFD80:  .byte $ff,$02,$00,$00,$e0,$ff,$ff,$5f   ; FD80
        .byte $00,$00,$e0,$ff,$ff,$97,$04,$00
        .byte $ac,$55,$b7,$93,$44,$f7,$ef,$5f
        .byte $41,$00,$00,$d5,$7d,$ef,$5e,$11
        .byte $00,$f5,$7d,$df,$57,$02,$24,$5a
        .byte $82,$6a,$35,$b5,$aa,$f6,$fd,$2f
        .byte $25,$02,$00,$b5,$75,$7f,$4b,$42
        .byte $04,$b4,$fd,$ff,$7e,$11,$00,$54
        .byte $aa,$fa,$56,$82,$52,$db,$7d,$af
        .byte $2a,$02,$80,$f6,$ff,$3f,$09,$00
        .byte $00,$fb,$fd,$bf,$46,$00,$a5,$f6
        .byte $ff,$2a,$00,$00,$e8,$fe,$ff,$2f
        .byte $01,$00,$6a,$ff,$ff,$25,$00,$00
        .byte $dc,$ff,$bf,$12,$00,$b0,$fb,$ff
        .byte $5f,$04,$00,$00,$fb,$ff,$bf,$00
        .byte $00,$e8,$ff,$ff,$13,$00,$00,$75
        .byte $ff,$ff,$09,$00,$40,$ee,$ff,$7f   ; FE00
        .byte $11,$00,$c0,$fd,$ff,$4b,$00,$00
        .byte $b5,$fd,$ff,$2b,$00,$80,$f6,$fe
        .byte $ff,$08,$02,$00,$f6,$ff,$5f,$49
        .byte $00,$50,$f7,$7f,$af,$08,$00,$a4
        .byte $f6,$ff,$2d,$04,$11,$da,$f7,$76
        .byte $2b,$04,$90,$6b,$df,$ad,$12,$44
        .byte $50,$fd,$fe,$6a,$25,$41,$52,$d5
        .byte $f6,$aa,$24,$51,$69,$db,$de,$4a
        .byte $92,$28,$55,$db,$b6,$aa,$52,$a1
        .byte $52,$5b,$37,$55,$95,$54,$a9,$ad
        .byte $5a,$55,$a5,$54,$55,$55,$ab,$55
        .byte $25,$55,$a9,$d3,$d6,$4a,$95,$a4
        .byte $aa,$5a,$ab,$4d,$95,$54,$b2,$da

        .byte $b6,$a9,$92,$54,$54,$eb,$da,$aa   ; FE70
        .byte $92,$a4,$4a,$6b,$b7,$69,$92,$a4

        .byte $52,$6f,$b5,$a9,$24,$a4,$6a,$db   ; FE80
        .byte $b6,$95,$22,$51,$6a,$fb,$56,$15
        .byte $12,$29,$b5,$fb,$d6,$92,$90,$54
        .byte $6d,$7b,$55,$91,$90,$a4,$77,$bf
        .byte $a6,$02,$12,$a9,$f7,$db,$4a,$11
        .byte $92,$b4,$ed,$5d,$55,$82,$a4,$b6
        .byte $b7,$2b,$49,$90,$a4,$f6,$77,$5b
        .byte $49,$40,$52,$bb,$77,$2b,$09,$a1
        .byte $6c,$bb,$6d,$95,$48,$a8,$da,$de
        .byte $b5,$92,$08,$91,$6d,$f7,$b6,$24
        .byte $89,$52,$6d,$db,$aa,$24,$49,$55
        .byte $af,$5e,$95,$14,$a1,$b2,$7b,$b7
        .byte $92,$92,$48,$69,$db,$56,$95,$52
        .byte $a9,$6a,$db,$aa,$92,$24,$d5,$6a
        .byte $af,$44,$44,$55,$44,$44,$44,$44
        .byte $33,$22,$55,$aa,$00,$55,$00,$00

; ----------------------------------------------------------------------------
; RESET vector
LFF00:  cld                                     ; FF00 D8
        sei                                     ; FF01 78
        ldx     #$00                            ; FF02 A2 00
        stx     $2000                           ; FF04 8E 00 20
        stx     $2001                           ; FF07 8E 01 20
        ; wait for vblank
        loop
            lda $2002                           ; FF0A AD 02 20
        while_pl                                ; FF0D 10 FB
        loop
            lda $2002                           ; FF0F AD 02 20
        while_pl                                ; FF12 10 FB
        dex                                     ; FF14 CA
        txs                                     ; FF15 9A
        inc     LFF00                           ; FF16 EE 00 FF
        lda     #$10                            ; FF19 A9 10
        jsr     RB8CC                           ; FF1B 20 CC B8
        lda     #$02                            ; FF1E A9 02
        jsr     RB8E0                           ; FF20 20 E0 B8
        lda     #$03                            ; FF23 A9 03
        jsr     RB8F4                           ; FF25 20 F4 B8
        lda     #$00                            ; FF28 A9 00
        jsr     RB908                           ; FF2A 20 08 B9
        jmp     L8000                           ; FF2D 4C 00 80

; ----------------------------------------------------------------------------
        .byte $00,$00,$00,$00,$00,$00,$00,$00   ; FF30 00 00 00 00 00 00 00 00
        .byte $00,$00,$00,$00,$00,$00,$00,$00   ; FF38 00 00 00 00 00 00 00 00
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF   ; FF40 FF FF FF FF FF FF FF FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF   ; FF48 FF FF FF FF FF FF FF FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF   ; FF50 FF FF FF FF FF FF FF FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF   ; FF58 FF FF FF FF FF FF FF FF
        .byte $00,$00,$00,$00,$00,$00,$00,$00   ; FF60 00 00 00 00 00 00 00 00
        .byte $00,$00,$00,$00,$00,$00,$00,$00   ; FF68 00 00 00 00 00 00 00 00
        .byte $00,$00,$00,$00,$00,$00,$00,$00   ; FF70 00 00 00 00 00 00 00 00
        .byte $00,$00,$00,$00,$00,$00,$00,$00   ; FF78 00 00 00 00 00 00 00 00
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF   ; FF80 FF FF FF FF FF FF FF FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF   ; FF88 FF FF FF FF FF FF FF FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF   ; FF90 FF FF FF FF FF FF FF FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF   ; FF98 FF FF FF FF FF FF FF FF
        .byte $00,$00,$00,$00,$00,$00,$00,$00   ; FFA0 00 00 00 00 00 00 00 00
        .byte $00,$00,$00,$00,$00,$00,$00,$00   ; FFA8 00 00 00 00 00 00 00 00
        .byte $00,$00,$00,$00,$00,$00,$00,$00   ; FFB0 00 00 00 00 00 00 00 00
        .byte $00,$00,$00,$00,$00,$00,$00,$00   ; FFB8 00 00 00 00 00 00 00 00
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF   ; FFC0 FF FF FF FF FF FF FF FF
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF   ; FFC8 FF FF FF FF FF FF FF FF
; ----------------------------------------------------------------------------
RFFD0:  jmp     LD470                           ; FFD0 4C 70 D4
; ----------------------------------------------------------------------------
RFFD3:  jmp     RD4E5                           ; FFD3 4C E5 D4
; ----------------------------------------------------------------------------
; called from one place
RFFD6:  jmp     LD2BF                           ; FFD6 4C BF D2
; ----------------------------------------------------------------------------
        .byte $FF,$FF,$FF,$FF,$FF,$FF,$FF       ; FFD9 FF FF FF FF FF FF FF
        .byte $20,$20,$20,$20,$20,$20,$20,$20   ; FFE0 20 20 20 20 20 20 20 20
        .byte $44,$52,$2E,$4D,$41,$52,$49,$4F   ; FFE8 44 52 2E 4D 41 52 49 4F
        .byte $1C,$87,$C2,$A1,$22,$04,$01,$07   ; FFF0 1C 87 C2 A1 22 04 01 07
        .byte $01,$6E                           ; FFF8 01 6E
LFFFA:  .word   L8005                           ; FFFA 05 80
LFFFC:  .word   LFF00                           ; FFFC 00 FF
LFFFE:  .word   L8035                           ; FFFE 35 80
